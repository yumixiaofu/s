(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors~StandaloneServer~StandaloneServerTraffic~543ff3ba"],{"06cb":function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return d}));var r=n("e897"),a=n("8937"),i=n("ba6d");function o(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,a=t.length;r<a;r+=1){var i=t[r];n.push(["L",i.x,i.y])}e&&n.push(["Z"])}return n}function s(t,e){for(var n=[t[0]],r=1,a=t.length;r<a;r+=2){var i=e.convert({x:t[r],y:t[r+1]});n.push(i.x,i.y)}return n}function c(t,e,n){var r=n.isTransposed,a=n.startAngle,o=n.endAngle,s={x:t[1],y:t[2]},c={x:e[1],y:e[2]},u=[],l=r?"y":"x",h=Math.abs(c[l]-s[l])*(o-a),p=c[l]>=s[l]?1:0,f=h>Math.PI?1:0,g=n.convert(c),d=Object(i["c"])(n,g);if(d>=.5)if(h===2*Math.PI){var y={x:(c.x+s.x)/2,y:(c.y+s.y)/2},b=n.convert(y);u.push(["A",d,d,0,f,p,b.x,b.y]),u.push(["A",d,d,0,f,p,g.x,g.y])}else u.push(["A",d,d,0,f,p,g.x,g.y]);return u}function u(t){Object(a["each"])(t,(function(e,n){var r=e;if("a"===r[0].toLowerCase()){var a=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?a&&"l"===a[0].toLowerCase()&&(a[0]="M"):a&&"a"===a[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}var l=function(t,e,n,a){var i,o,s,c,u=[],l=!!a;if(l){s=[1/0,1/0],c=[-1/0,-1/0];for(var h=0,p=t.length;h<p;h++){var f=t[h];s=r["c"].min([],s,f),c=r["c"].max([],c,f)}s=r["c"].min([],s,a[0]),c=r["c"].max([],c,a[1])}h=0;for(var g=t.length;h<g;h++){f=t[h];if(n)i=t[h?h-1:g-1],o=t[(h+1)%g];else{if(0===h||h===g-1){u.push(f);continue}i=t[h-1],o=t[h+1]}var d=[];d=r["c"].sub(d,o,i),d=r["c"].scale(d,d,e);var y=r["c"].distance(f,i),b=r["c"].distance(f,o),v=y+b;0!==v&&(y/=v,b/=v);var O=r["c"].scale([],d,-y),x=r["c"].scale([],d,b),j=r["c"].add([],f,O),m=r["c"].add([],f,x);l&&(j=r["c"].max([],j,s),j=r["c"].min([],j,c),m=r["c"].max([],m,s),m=r["c"].min([],m,c)),u.push(j),u.push(m)}return n&&u.push(u.shift()),u};function h(t,e,n){for(var r=!!e,a=[],i=0,o=t.length;i<o;i+=2)a.push([t[i],t[i+1]]);var s,c,u,h=l(a,.4,r,n),p=a.length,f=[];for(i=0;i<p-1;i++)s=h[2*i],c=h[2*i+1],u=a[i+1],f.push(["C",s[0],s[1],c[0],c[1],u[0],u[1]]);return r&&(s=h[p],c=h[p+1],u=a[0],f.push(["C",s[0],s[1],c[0],c[1],u[0],u[1]])),f}function p(t,e){return o(t,e)}function f(t,e,n){var r=[],a=t[0],i=null;if(t.length<=2)return p(t,e);for(var o=0,s=t.length;o<s;o++){var c=t[o];i&&i.x===c.x&&i.y===c.y||(r.push(c.x),r.push(c.y),i=c)}var u=n||[[0,0],[1,1]],l=h(r,e,u);return l.unshift(["M",a.x,a.y]),l}function g(t,e){var n=[];return Object(a["each"])(e,(function(e){var r=e[0];switch(r.toLowerCase()){case"m":case"l":case"c":n.push(s(e,t));break;case"z":default:n.push(e);break}})),n}function d(t,e){var n,r,i,o,l=[];return Object(a["each"])(e,(function(a,u){var h=a[0];switch(h.toLowerCase()){case"m":case"c":case"q":l.push(s(a,t));break;case"l":n=e[u-1],r=a,i=t.isTransposed,o=i?n[n.length-2]===r[1]:n[n.length-1]===r[2],o?l=l.concat(c(n,r,t)):l.push(s(a,t));break;case"z":default:l.push(a);break}})),u(l),l}},"088c":function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"i",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return p}));n("6855"),n("dc4d"),n("050e"),n("1b08");var r=n("a186");n.d(e,"k",(function(){return r["a"]}));var a=n("f2fb");n.d(e,"l",(function(){return a["getScale"]}));var i=n("d7b4");n.d(e,"f",(function(){return i["c"]})),n.d(e,"a",(function(){return i["a"]})),n.d(e,"j",(function(){return i["g"]}));var o=i["b"].Line,s=i["b"].Circle,c=i["d"].Line,u=i["d"].Circle,l=i["e"].Category,h=i["e"].Continuous,p=i["h"].Html},"0915":function(t,e,n){"use strict";var r=n("9ab4"),a=n("479c"),i=n("c1f6"),o=n("8937"),s=n("e7d3"),c=n("88e0");Object(s["c"])("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0,r=Object(o["isArray"])(t.y)?t.y:[n,t.y];return r.map((function(t){return{x:e,y:t}}))}});Object(s["b"])("area","area",{draw:function(t,e){var n=Object(c["b"])(t,!1,!1,this),r=e.addShape({type:"path",attrs:n,name:"area"});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:e}}}});var u=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,a=void 0===r||r,i=e.sortable,o=void 0===i||i;return n.startOnZero=a,n.sortable=o,n}return Object(r["__extends"])(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push(o.points),n.push(o[a["d"]])}return{points:e,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return t.prototype.getYMinValue.call(this);var e=this.getYScale();return e.min},e}(i["a"]);e["a"]=u},1661:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("ba6d"),o=n("0779"),s=n("2473"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultLayout="distribute",n}return Object(r["__extends"])(e,t),e.prototype.getDefaultLabelCfg=function(){return Object(a["get"])(this.geometry.theme,"pieLabels",{})},e.prototype.getDefaultOffset=function(t){return t||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&(r=t,r>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate(),r=n.getCenter();e=t.angle<=Math.PI/2&&t.x>=r.x?"left":"right";var a=this.getDefaultOffset(t.offset);return a<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:Object(a["isArray"])(t.x)?t.x[0]:t.x,y:t.y[0]},o={x:Object(a["isArray"])(t.x)?t.x[1]:t.x,y:t.y[1]},s=Object(i["a"])(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=s;else{var c=Object(i["a"])(n,o);s>=c&&(c+=2*Math.PI),e=s+(c-s)/2}return e},e.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),i=a.getCenter(),s=a.getRadius()+e;return Object(r["__assign"])(Object(r["__assign"])({},Object(o["f"])(i.x,i.y,s,t)),{angle:t,r:s})},e}(s["a"]);e["a"]=c},"19d8":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n("8937"),a=100,i=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,a=void 0===r?8:r;this.xGap=n,this.yGap=a}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),a=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),s=r;s<=a;s+=1)if(n[s]){if(s===r||s===a){for(var c=i;c<=o;c++)if(n[s][c]){e=!1;break}}else if(n[s][i]||n[s][o]){e=!1;break}}else n[s]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),a=Math.round(t.minY),i=Math.round(t.maxY),o=n;o<=r;o+=1)e[o]||(e[o]={});for(o=n;o<=r;o+=this.xGap){for(var s=a;s<=i;s+=this.yGap)e[o][s]=!0;e[o][i]=!0}if(1!==this.yGap)for(o=a;o<=i;o+=1)e[n][o]=!0,e[r][o]=!0;if(1!==this.xGap)for(o=n;o<=r;o+=1)e[o][a]=!0,e[o][i]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function o(t,e,n){void 0===n&&(n=a);var r,i=-1,o=t.attr(),s=o.x,c=o.y,u=t.getCanvasBBox(),l=Math.sqrt(u.width*u.width+u.height*u.height),h=-i,p=0,f=0,g=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(u))return e.fillGap(u),!0;var d=!1,y=0,b={};while(Math.min(Math.abs(p),Math.abs(f))<l&&y<n)if(r=g(h+=i),p=~~r[0],f=~~r[1],(p||f)&&!b[p+"-"+f]&&(t.attr({x:s+p,y:c+f}),p+f<0&&t.attr("textAlign","right"),y++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),d=!0,b[p+"-"+f]=!0;break}return d}function s(t,e,n,r){var a=t.getCanvasBBox(),i=a.width,o=a.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*o+2;break;case 6:s.y+=2*o+2;break;case 7:s.x+=i+1,s.textAlign="left";break;case 8:s.x-=i+1,s.textAlign="right";break;default:break}return t.attr(s),t.getCanvasBBox()}function c(t,e,n,a){var s=new i;Object(r["each"])(e,(function(t){var e=t.find((function(t){return"text"===t.get("type")}));o(e,s)||t.remove(!0)})),s.destroy()}function u(t,e,n,a){var o=new i;Object(r["each"])(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),r=n.x,a=n.y,i=!1,c=0;c<=8;c++){var u=s(e,r,a,c);if(o.hasGap(u)){o.fillGap(u),i=!0;break}}i||t.remove(!0)})),o.destroy()}},"1bc3":function(t,e,n){"use strict";var r=n("9ab4"),a=n("c1f6"),i=(n("910c"),function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,a=void 0===r||r;return n.sortable=a,n}return Object(r["__extends"])(e,t),e}(a["a"]));e["a"]=i},"1dfc":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("e7d3"),o=n("44b4");function s(t){var e=Object(a["isArray"])(t)?t:[t],n=e[0],r=e[e.length-1],i=e.length>1?e[1]:n,o=e.length>3?e[3]:r,s=e.length>2?e[2]:i;return{min:n,max:r,min1:i,max1:o,median:s}}function c(t,e,n){var r,i=n/2;if(Object(a["isArray"])(e)){var o=s(e),c=o.min,u=o.max,l=o.median,h=o.min1,p=o.max1,f=t-i,g=t+i;r=[[f,u],[g,u],[t,u],[t,p],[f,h],[f,p],[g,p],[g,h],[t,h],[t,c],[f,c],[g,c],[f,l],[g,l]]}else{e=Object(a["isNil"])(e)?.5:e;var d=s(t),y=(c=d.min,u=d.max,l=d.median,h=d.min1,p=d.max1,e-i),b=e+i;r=[[c,y],[c,b],[c,e],[h,e],[h,y],[h,b],[p,b],[p,y],[p,e],[u,e],[u,y],[u,b],[l,y],[l,b]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}function u(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}Object(i["b"])("schema","box",{getPoints:function(t){var e=t.x,n=t.y,r=t.size;return c(e,n,r)},draw:function(t,e){var n=Object(o["a"])(t,!0,!1),a=this.parsePath(u(t.points)),i=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a,name:"schema"})});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=[e-6,e-3,e,e+3,e+6],a=c(t,r,n);return[["M",a[0].x+1,a[0].y],["L",a[1].x-1,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x+1,a[10].y],["L",a[11].x-1,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}})},"1e28":function(t,e,n){"use strict";var r=n("e7d3"),a=n("88e0");Object(r["b"])("area","smooth",{draw:function(t,e){var n=this.coordinate,r=Object(a["b"])(t,!1,!0,this,Object(a["a"])(n)),i=e.addShape({type:"path",attrs:r,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:e}}}})},2473:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("ba6d"),o=n("2bb7"),s=Math.PI/2,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),a=this.getDefaultOffset(t.offset);e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?a>0?"left":"right":a>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,a=1,i=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(a=-1),r=this.getArcPoint(e,n));var o=this.getDefaultOffset(t.offset)*a,s=this.getPointAngle(r),c=t.labelEmit,u=this.getCirclePoint(s,o,r,c);return 0===u.r?u.content="":(u.content=i,u.angle=s,u.color=e.color),u.rotate=t.autoRotate?this.getLabelRotate(s,o,c):t.rotate,u.start={x:r.x,y:r.y},u},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(a["isArray"])(t.x)||Object(a["isArray"])(t.y)?{x:Object(a["isArray"])(t.x)?t.x[e]:t.x,y:Object(a["isArray"])(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return Object(i["a"])(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),c=Object(i["c"])(o,n);if(0===c)return Object(r["__assign"])(Object(r["__assign"])({},s),{r:c});var u=t;if(o.isTransposed&&c>e&&!a){var l=Math.asin(e/(2*c));u=t+2*l}else c+=e;return{x:s.x+c*Math.cos(u),y:s.y+c*Math.sin(u),r:c}},e.prototype.getLabelRotate=function(t,e,n){var r=t+s;return n&&(r-=s),r&&(r>s?r-=Math.PI:r<-s&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return Object(a["each"])(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r),r},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(o["a"]);e["a"]=c},"24a6":function(t,e,n){"use strict";var r=n("8937"),a=n("04ae"),i=n("e7d3"),o=n("8f53");Object(r["each"])(o["a"],(function(t){Object(i["b"])("point",t,{draw:function(e,n){return Object(o["c"])(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:a["a"][t],style:{r:4.5,stroke:n,fill:null}}}})}))},"2a696":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("e7d3"),o=n("44b4"),s=n("976d");function c(t){var e=t.x,n=t.y,r=t.y0;return Object(a["isArray"])(n)?n.map((function(t,n){return{x:Object(a["isArray"])(e)?e[n]:e,y:t}})):[{x:e,y:r},{x:e,y:n}]}Object(i["b"])("interval","line",{getPoints:function(t){return c(t)},draw:function(t,e){var n=Object(o["a"])(t,!0,!1,"lineWidth"),a=this.parsePath(Object(s["b"])(t.points)),i=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:e}}}})},"2a6b":function(t,e,n){"use strict";var r=n("e7d3"),a=n("44b4");Object(r["b"])("point","image",{draw:function(t,e){var n=Object(a["a"])(t,!1,!1,"r").r,r=this.parsePoints(t.points),i=r[0];if(t.isStack)i=r[1];else if(r.length>1){for(var o=e.addGroup(),s=0,c=r;s<c.length;s++){var u=c[s];o.addShape("image",{attrs:{x:u.x-n/2,y:u.y-n,width:n,height:n,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:i.x-n/2,y:i.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4.5,fill:e}}}})},"2bb7":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("68b7"),s=n("0779"),c=n("cc19");function u(t){var e=0;return Object(a["each"])(t,(function(t){e+=t})),e/t.length}var l=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],i=this.getLabelCfgs(t);return Object(a["each"])(t,(function(t,o){var s=i[o];if(!s||Object(a["isNil"])(t.x)||Object(a["isNil"])(t.y))n.push(null);else{var c=Object(a["isArray"])(s.content)?s.content:[s.content];s.content=c;var u=c.length;Object(a["each"])(c,(function(i,o){if(Object(a["isNil"])(i)||""===i)n.push(null);else{var c=Object(r["__assign"])(Object(r["__assign"])({},s),e.getLabelPoint(s,t,o));c.textAlign||(c.textAlign=e.getLabelAlign(c,o,u)),c.offset<=0&&(c.labelLine=null),n.push(c)}}))}})),n},t.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),r=this.getLabelsRenderer(),a=this.getGeometryShapes();r.render(n,a,e)},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(){return Object(a["get"])(this.geometry.theme,"labels",{})},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffset=function(t,e,n){var r=this.getDefaultOffset(t.offset),a=this.getCoordinate(),i=a.isTransposed,o=i?"x":"y",s=i?1:-1,c={x:0,y:0};return c[o]=e>0||1===n?r*s:r*s*-1,c},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),i=t.content.length;function o(e,n){var r=e;return Object(a["isArray"])(r)&&(r=1===t.content.length?r.length<=2?r[e.length-1]:u(r):r[n]),r}var c={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(e&&"polygon"===this.geometry.type){var l=Object(s["c"])(e.x,e.y);c.x=l[0],c.y=l[1]}else c.x=o(e.x,n),c.y=o(e.y,n);var h=Object(a["isArray"])(e.shape)?e.shape[0]:e.shape;if("funnel"===h||"pyramid"===h){var p=Object(a["get"])(e,"nextPoints"),f=Object(a["get"])(e,"points");if(p){var g=r.convert(f[1]),d=r.convert(p[1]);c.x=(g.x+d.x)/2,c.y=(g.y+d.y)/2}else if("pyramid"===h){g=r.convert(f[1]),d=r.convert(f[2]);c.x=(g.x+d.x)/2,c.y=(g.y+d.y)/2}}t.position&&this.setLabelPosition(c,e,n,t.position);var y=this.getLabelOffset(t,n,i);return c.start={x:c.x,y:c.y},c.x+=y.x,c.y+=y.y,c.color=e.color,c},t.prototype.getLabelAlign=function(t,e,n){var r="center",a=this.getCoordinate();if(a.isTransposed){var i=this.getDefaultOffset(t.offset);r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),a=e.getYScale(),o=t[i["d"]],s=e.getElementId(t);return"line"===n||"area"===n?s+=" "+o[r.field]:"path"===n&&(s+=" "+o[r.field]+"-"+o[a.field]),s},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,i=t.animateOption,s=this.geometry.coordinate,u=this.labelsRenderer;return u||(u=new c["a"]({container:e,layout:Object(a["get"])(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=u),u.region=r,u.animate=!!i&&Object(o["d"])("label",s),u},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,o=this.getDefaultLabelCfg(),s=n.type,c=n.theme,u=n.labelOption,l=n.scales,h=n.coordinate,p=u,f=p.fields,g=p.callback,d=p.cfg,y=f.map((function(t){return l[t]})),b=[];return Object(a["each"])(t,(function(t,n){var u,l=t[i["d"]],p=e.getLabelText(l,y);if(g){var v=f.map((function(t){return l[t]}));if(u=g.apply(void 0,v),Object(a["isNil"])(u))return void b.push(null)}var O=Object(r["__assign"])(Object(r["__assign"])({id:e.getLabelId(t),data:l,mappingData:t,coordinate:h},d),u),x=O.content;Object(a["isFunction"])(x)?O.content=x(l,t,n):Object(a["isUndefined"])(x)&&(O.content=p[0]),Object(a["isFunction"])(O.position)&&(O.position=O.position(l,t,n)),O="polygon"===s||O.offset<0&&!["line","point","path"].includes(s)?Object(a["deepMix"])({},o,c.innerLabels,O):Object(a["deepMix"])({},o,c.labels,O),b.push(O)})),b},t.prototype.getLabelText=function(t,e){var n=[];return Object(a["each"])(e,(function(e){var r=t[e.field];r=Object(a["isArray"])(r)?r.map((function(t){return e.getText(t)})):e.getText(r),Object(a["isNil"])(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return Object(a["each"])(t.elementsMap,(function(t,n){e[n]=t.shape})),Object(a["each"])(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}();e["a"]=l},"32f0":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("8937");function a(t){var e=t.x,n=Object(r["isArray"])(t.y)?t.y:[t.y];return n.map((function(t,n){return{x:Object(r["isArray"])(e)?e[n]:e,y:t}}))}},3463:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("ba6d"),o=n("6239"),s=n("e7d3"),c=n("44b4"),u=n("976d");Object(s["c"])("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Object(u["c"])(t)}});Object(s["b"])("interval","rect",{draw:function(t,e){var n=Object(c["a"])(t,!1,!0),a=this.parsePath(Object(u["b"])(t.points)),i=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return i},getMarker:function(t){var e=t.color,n=t.isInPolar;return n?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var l=n("7ee7"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e}return Object(r["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,e)[0];var o=this.coordinate,s=Object(i["d"])(o);n/=s}else this.defaultSize||(this.defaultSize=Object(l["a"])(this)),n=this.defaultSize;return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,e.values),e.max)});else{var n=this.scaleDefs,r=e.field,i=e.min,o=e.max,s=e.type;"time"!==s&&(i>0&&!Object(a["get"])(n,[r,"min"])&&e.change({min:0}),o<=0&&!Object(a["get"])(n,[r,"max"])&&e.change({max:0}))}},e}(o["a"]);e["a"]=h},"3df0":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("8937");function a(t,e,n,a){Object(r["each"])(e,(function(t,e){var r=t.getCanvasBBox(),a=n[e].getBBox();(r.minX<a.minX||r.minY<a.minY||r.maxX>a.maxX||r.maxY>a.maxY)&&t.remove(!0)}))}},"44b4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("9ab4"),a=n("8937");function i(t,e,n,i){void 0===i&&(i="");var o=t.style,s=void 0===o?{}:o,c=t.defaultStyle,u=t.color,l=t.size,h=Object(r["__assign"])(Object(r["__assign"])({},c),s);return u&&(e&&(s.stroke||(h.stroke=u)),n&&(s.fill||(h.fill=u))),i&&Object(a["isNil"])(s[i])&&!Object(a["isNil"])(l)&&(h[i]=l),h}},"4d94":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("6239"),o=n("e7d3"),s=n("44b4");function c(t){var e=t[0],n=1,r=[["M",e.x,e.y]];while(n<t.length){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return Object(a["isEqual"])(Object(a["last"])(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}Object(o["c"])("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return Object(a["each"])(t.x,(function(n,r){var a=t.y[r];e.push({x:n,y:a})})),e}});Object(o["b"])("polygon","polygon",{draw:function(t,e){if(!Object(a["isEmpty"])(t.points)){var n=Object(s["a"])(t,!0,!0),i=this.parsePath(c(t.points));return e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:i}),name:"polygon"})}},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return Object(r["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=r.x,o=r.y;if(!Object(a["isArray"])(i)||!Object(a["isArray"])(o)){var s=this.getXScale(),c=this.getYScale(),u=s.values.length,l=c.values.length,h=.5/u,p=.5/l;s.isCategory&&c.isCategory?(i=[i-h,i-h,i+h,i+h],o=[o-p,o+p,o+p,o-p]):Object(a["isArray"])(i)?(n=i,i=[n[0],n[0],n[1],n[1]],o=[o-p/2,o+p/2,o+p/2,o-p/2]):Object(a["isArray"])(o)&&(n=o,o=[n[0],n[1],n[1],n[0]],i=[i-h/2,i-h/2,i+h/2,i+h/2]),r.x=i,r.y=o}return r},e}(i["a"]);e["a"]=u},"580d":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r={};function a(t){var e=r[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}function i(t,e){r[t]=e}},"612e":function(t,e,n){"use strict";var r=n("e7d3"),a=n("88e0");Object(r["b"])("area","smooth-line",{draw:function(t,e){var n=this.coordinate,r=Object(a["b"])(t,!0,!0,this,Object(a["a"])(n)),i=e.addShape({type:"path",attrs:r,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}})},6239:function(t,e,n){"use strict";var r=n("9ab4"),a=n("eecd"),i=n("1b08"),o=n("8937"),s=n("68b7"),c=n("1674"),u=n("479c"),l=n("4a4d"),h=n("c8ba1"),p=n("f088"),f=n("e7d3");function g(t,e,n){if(void 0===n&&(n={}),!e)return[t];var r=Object(o["groupToMap"])(t,e),a=[];if(1===e.length&&n[e[0]])for(var i=n[e[0]],s=0,c=i;s<c.length;s++){var u=c[s],l=r["_"+u];l&&a.push(l)}else for(var h in r)if(r.hasOwnProperty(h)){var p=r[h];a.push(p)}return a}var d=n("6375");function y(t){return Object(o["isArray"])(t)?t:t.split("*")}function b(t,e){var n=[];return Object(o["each"])(e,(function(e,r){var a=r.split(" ")[0];a===t&&n.push(e)})),n}var v=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1;var r=e.container,a=e.labelsContainer,i=e.coordinate,o=e.data,s=e.sortable,c=void 0!==s&&s,u=e.visible,l=void 0===u||u,h=e.theme,p=e.scales,f=void 0===p?{}:p,g=e.scaleDefs,d=void 0===g?{}:g;return n.container=r,n.labelsContainer=a,n.coordinate=i,n.data=o,n.sortable=c,n.visible=l,n.userTheme=h,n.scales=f,n.scaleDefs=d,n}return Object(r["__extends"])(e,t),e.prototype.position=function(t){var e=t;Object(o["isPlainObject"])(t)||(e={fields:y(t)});var n=Object(o["get"])(e,"fields");return 1===n.length&&(n.unshift("1"),Object(o["set"])(e,"fields",n)),Object(o["set"])(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return(Object(o["isString"])(t)||Object(o["isPlainObject"])(t))&&(e=[t]),Object(o["each"])(e,(function(t,n){Object(o["isObject"])(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if(Object(o["isString"])(t)){var n=y(t);this.styleOption={fields:n,callback:e}}else{var r=t,a=(n=r.fields,r.callback),i=r.cfg;this.styleOption=n||a||i?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if(Object(o["isString"])(t)){var n=y(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if(Object(o["isString"])(t)){var r={},a=y(t);r.fields=a,Object(o["isFunction"])(e)?r.callback=e:Object(o["isPlainObject"])(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,r=this,a=r.attributeOption,i=r.lastAttributeOption;Object(o["isEqual"])(a,i)?!e||!n&&Object(o["isEqual"])(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale()},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(o["deepMix"])({},Object(s["d"])(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,i=this.beforeMapping(a),c=[],u=0,l=i.length;u<l;u++){var h=i[u],p=this.mapping(h);c.push(p),this.createElements(p,u,t)}if(this.canDoGroupAnimation(t)){var f=this.container,g=this.type,d=this.coordinate,y=Object(o["get"])(this.animateOption,"appear"),b=this.getYScale(),v=d.convert({x:0,y:b.scale(this.getYMinValue())});Object(s["c"])(f,y,g,d,v)}this.labelOption&&this.renderLabels(Object(o["flatten"])(c),t),this.dataArray=c,Object(o["each"])(this.lastElementsMap,(function(t){t.animate=e.animateOption,t.destroy()})),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(r["__assign"])({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1},e.prototype.destroy=function(){this.clear();var e=this.container;e.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return Object(o["each"])(this.attributes,(function(e){u["e"].includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&Object(o["isEmpty"])(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,a=0,i=r.length;a<i;a++){var o=r[a],s=o.field;o.isIdentity?n.push(o.values):n.push(e[s])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElementId=function(t){t=Object(o["isArray"])(t)?t[0]:t;var e=t[u["d"]];if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var a,i,s=this.type,c=this.getXScale(),l=this.getYScale(),h=c.field||"x",p=l.field||"y",f=e[p];a="identity"===c.type?c.values[0]:e[h],i="interval"===s||"schema"===s?a:"line"===s||"area"===s||"path"===s?s:a+"-"+f;for(var g=this.groupScales,d=(r=0,g.length);r<d;r++){var y=g[r],b=y.field;i=i+"-"+e[b]}var v=this.getAdjust("dodge");if(v){var O=v.dodgeBy;O&&(i=i+"-"+e[O])}return this.getAdjust("jitter")&&(i=i+"-"+t.x+"-"+t.y),i},e.prototype.getScaleFields=function(){var t=[],e={},n=this,r=n.attributeOption,a=n.labelOption,i=n.tooltipOption;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s];c.fields?Object(l["d"])(c.fields,t,e):c.values&&Object(l["d"])(c.values,t,e)}return a&&a.fields&&Object(l["d"])(a.fields,t,e),Object(o["isObject"])(i)&&i.fields&&Object(l["d"])(i.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,a=n.length;r<a;r++){var i=n[r];i.changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getGroupFields=function(){for(var t=[],e={},n=0,r=u["e"].length;n<r;n++){var a=u["e"][n],i=this.attributeOption[a];i&&i.fields&&Object(l["d"])(i.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++){var a=t[r];a.sort((function(t,r){return e.translate(t[u["d"]][n])-e.translate(r[u["d"]][n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(Object(f["a"])(t))return this.shapeFactory||(this.shapeFactory=Object(o["clone"])(Object(f["a"])(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e,n=this.getXScale(),r=this.getYScale(),a=this.normalizeValues(t[n.field],n);return e=r?this.normalizeValues(t[r.field],r):t.y?t.y:.1,{x:a,y:e,y0:r?r.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e){void 0===e&&(e=!1);var n=this.container,r=this.getDrawCfg(t),a=this.getShapeFactory(),i=new h["a"]({shapeFactory:a,container:n,offscreenGroup:this.getOffscreenGroup()});return i.animate=this.animateOption,i.geometry=this,i.draw(r,e),i},e.prototype.getDrawCfg=function(t){var e=t[u["d"]],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var a=this.theme.geometries[this.shapeType];n.defaultStyle=Object(o["get"])(a,[r,"default"],{}).style;var i=this.styleOption;return i&&(n.style=this.getStyleCfg(i,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);for(var r=this,a=r.lastElementsMap,i=r.elementsMap,o=r.elements,s=0,c=t.length;s<c;s++){var u=t[s],l=this.getElementId(u);i[l]&&(l=l+"-"+e+"-"+s);var h=a[l];if(h){var p=this.getDrawCfg(u),f=h.getModel();Object(d["a"])(p,f)&&(h.animate=this.animateOption,h.update(p)),delete a[l]}else h=this.createElement(u,n);o.push(h),i[l]=h}return o},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,a=n.type,i=Object(o["get"])(e,["cfg","type"]);return i||(i="polar"===a?"polar":"theta"===a?"pie":"interval"===r||"polygon"===r?"interval":"base"),i},e.prototype.getYMinValue=function(){var t,e=this.getYScale(),n=e.min,r=e.max;return t=n>=0?n:r<=0?r:0,t},e.prototype.createAttrOption=function(t,e,n){if(Object(o["isNil"])(e)||Object(o["isObject"])(e))Object(o["isObject"])(e)&&Object(o["isEqual"])(Object.keys(e),["values"])?Object(o["set"])(this.attributeOption,t,{fields:e.values}):Object(o["set"])(this.attributeOption,t,e);else{var r={};Object(o["isNumber"])(e)?r.values=[e]:r.fields=y(e),n&&(Object(o["isFunction"])(n)?r.callback=n:r.values=n),Object(o["set"])(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var c={},l=function(e){if(a.hasOwnProperty(e)){var l=a[e];if(!l)return{value:void 0};var h=Object(r["__assign"])({},l),p=h.callback,f=h.values,g=h.fields,d=void 0===g?[]:g,y=d.map((function(n){var r=t.scales[n];return r.isCategory&&!c[n]&&u["e"].includes(e)&&(t.groupScales.push(r),c[n]=!0),r}));h.scales=y,"position"!==e&&1===y.length&&"identity"===y[0].type?h.values=y[0].values:p||f||("size"===e?h.values=o.sizes:"shape"===e?h.values=o.shapes[s]||[]:"color"===e&&(y.length?h.values=y[0].values.length<=10?o.colors10:o.colors20:h.values=o.colors10));var b=Object(i["a"])(e);n[e]=new b(h)}};for(var h in a){var p=l(h);if("object"===typeof p)return p.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter((function(t){return t.isCategory})),r=this.groupData(t),a=[],i=0,o=r.length;i<o;i++){for(var s=r[i],c=[],l=0,h=s.length;l<h;l++){var p=s[l],f={};for(var g in p)f[g]=p[g];f[u["d"]]=p;for(var d=0,y=n;d<y.length;d++){var b=y[d],v=b.field;f[v]=b.translate(f[v])}c.push(f)}a.push(c)}var O=this.adjustData(a);return this.beforeMappingData=O,O},e.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var i=this.getXScale(),s=this.getYScale(),c=i.field,u=s?s.field:null,l=0,h=e.length;l<h;l++){var p=e[l],f=Object(r["__assign"])({xField:c,yField:u},p),g=p.type;if("dodge"===g){var d=[];if(i.isCategory||"identity"===i.type)d.push("x");else{if(s)throw new Error("dodge is not support linear attribute, please use category attribute!");d.push("y")}f.adjustNames=d,f.dodgeRatio=this.theme.columnWidthRatio}else if("stack"===g){var y=this.coordinate;if(!s){f.height=y.getHeight();var b=this.getDefaultValue("size")||3;f.size=b}!y.isTransposed&&Object(o["isNil"])(f.reverseOrder)&&(f.reverseOrder=!0)}var v=Object(a["a"])(g),O=new v(f);n=O.process(n),this.adjusts[g]=O}return n},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,r={},a=[],i=0;i<e.length;i++){var s=e[i],c=s.field;a.push(c),Object(o["get"])(n,[c,"values"])&&(r[c]=n[c].values)}return g(t,a,r)},e.prototype.updateStackRange=function(t,e){for(var n=Object(o["flatten"])(e),r=t.field,a=t.min,i=t.max,s=0;s<n.length;s++){var c=n[s],u=Math.min.apply(null,c[r]),l=Math.max.apply(null,c[r]);u<a&&(a=u),l>i&&(i=l)}var h=this.scaleDefs,p={};a<t.min&&!Object(o["get"])(h,[r,"min"])&&(p.min=a),i>t.max&&!Object(o["get"])(h,[r,"max"])&&(p.max=i),t.change(p)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var a=e[n];this.generateShapePoints(a);var i=e[n+1];i&&(this.generateShapePoints(i),a[0].nextPoints=i[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var a=t[r],i=this.createShapePointsCfg(a),o=n?this.getAttributeValues(n,a):null,s=e.getShapePoints(o,i);a.points=s}},e.prototype.normalizeValues=function(t,e){var n=[];if(Object(o["isArray"])(t))for(var r=0;r<t.length;r++){var a=t[r];n.push(e.scale(a))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],r=0;r<t.length;r++){var a=t[r],i={_origin:a[u["d"]],points:a.points,nextPoints:a.nextPoints};for(var s in e)if(e.hasOwnProperty(s)){var c=e[s],l=c.names,h=this.getAttributeValues(c,a);if(l.length>1)for(var p=0;p<h.length;p+=1){var f=h[p],g=l[p];i[g]=Object(o["isArray"])(f)&&1===f.length?f[0]:f}else i[l[0]]=1===h.length?h[0]:h}this.convertPoint(i),n.push(i)}return n},e.prototype.convertPoint=function(t){var e,n,r,a=t.x,i=t.y,s=this.coordinate;if(Object(o["isArray"])(a)&&Object(o["isArray"])(i)){e=[],n=[];for(var c=0,u=0,l=a.length,h=i.length;c<l&&u<h;c+=1,u+=1)r=s.convert({x:a[c],y:i[u]}),e.push(r.x),n.push(r.y)}else if(Object(o["isArray"])(i)){n=[];for(var p=0;p<i.length;p++){var f=i[p];r=s.convert({x:a,y:f}),e&&e!==r.x?(Object(o["isArray"])(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if(Object(o["isArray"])(a)){e=[];for(p=0;p<a.length;p++){var g=a[p];r=s.convert({x:g,y:i}),n&&n!==r.y?(Object(o["isArray"])(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}}else{var d=s.convert({x:a,y:i});e=d.x,n=d.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,a=t.callback,i=t.cfg;if(i)return i;var o=r.map((function(t){return e[t]}));return a.apply(void 0,o)},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,r=t.data,a=t.theme,i=t.scaleDefs;n&&(this.coordinate=n),r&&(this.data=r),i&&(this.scaleDefs=i,this.idFields=[],Object(o["each"])(i,(function(t,n){t&&t.key&&e.idFields.push(n)}))),a&&(this.theme=this.userTheme?Object(o["deepMix"])({},a,this.userTheme):a)},e.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n=this.geometryLabel;if(!n){var r=this.getLabelType(),a=Object(p["a"])(r);n=new a(this),this.geometryLabel=n}n.render(t,e);var i=n.labelsRenderer.shapesMap;Object(o["each"])(this.elementsMap,(function(t,e){var n=b(e,i);if(n.length){t.labelShape=n;for(var r=0;r<n.length;r++)for(var a=n[r],o=a.getChildren(),s=0;s<o.length;s++){var c=o[s];c.cfg.name=["element","label"],c.cfg.element=t}}}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(o["get"])(this.animateOption,"appear")||Object(o["get"])(this.animateOption,"appear")&&void 0===Object(o["get"])(this.animateOption,["appear","animation"]))},e}(c["a"]);e["a"]=v},6375:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("8937");function a(t,e){return Object(r["some"])(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!Object(r["isEqual"])(t[n],e[n])}))}},6651:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function a(t,e){var n=t.color;return{symbol:r[e],style:{lineWidth:2,r:6,stroke:n}}}},"6d9c":function(t,e,n){"use strict";var r=n("8937"),a=n("04ae"),i=n("e7d3"),o=n("8f53");Object(r["each"])(o["b"],(function(t){Object(i["b"])("point",t,{draw:function(e,n){return Object(o["c"])(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:a["a"][t]||t,style:{r:4.5,fill:n}}}})}))},"6f9f":function(t,e,n){"use strict";var r=n("9ab4"),a=n("e7d3"),i=n("44b4"),o=n("8aa9");function s(t,e){var n=Object(o["a"])(t,e),r=[["M",t.x,t.y]];return r.push(n),r}Object(a["b"])("edge","smooth",{draw:function(t,e){var n=Object(i["a"])(t,!0,!1,"lineWidth"),a=t.points,o=this.parsePath(s(a[0],a[1]));return e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:o})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},7453:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("8937");function a(t){return!t&&(null===t||void 0===t||isNaN(t))}function i(t){if(Object(r["isArray"])(t))return a(t[1].y);var e=t.y;return Object(r["isArray"])(e)?a(e[0]):a(e)}function o(t,e){if(!t.length)return[];if(e){for(var n=[],r=0,a=t.length;r<a;r++){var o=t[r];i(o)||n.push(o)}return[n]}var s=[],c=[];for(r=0,a=t.length;r<a;r++){o=t[r];i(o)?c.length&&(s.push(c),c=[]):c.push(o)}return c.length&&s.push(c),s}},"749c":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,r=this,i=this.cfg.fields[0],o=[],s=1,c=1,u=[""],l=[""];return this.cfg.transpose?(e=i,u=this.getFieldValues(t,e).slice(0,2),s=u.length):(n=i,l=this.getFieldValues(t,n).slice(0,2),c=l.length),u.forEach((function(i,h){l.forEach((function(p,f){var g=[{field:e,value:i,values:u},{field:n,value:p,values:l}],d=Object(a["filter"])(t,r.getFacetDataFilter(g)),y={type:r.cfg.type,data:d,region:r.getRegion(c,s,h,f),columnValue:i,rowValue:p,columnField:e,rowField:n,columnIndex:h,rowIndex:f,columnValuesLength:s,rowValuesLength:c};o.push(y)}))})),o},e.prototype.getXAxisOption=function(t,e,n,a){return 1===a.columnIndex||1===a.rowIndex?Object(r["__assign"])(Object(r["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e,n){var r=e.columnValue,s=e.rowValue,c=e.view;if(t.cfg.transpose){var u=Object(a["deepMix"])({position:["50%","0%"],content:r},Object(o["b"])(i["c"].TOP),t.cfg.title);c.annotation().text(u)}else{u=Object(a["deepMix"])({position:["100%","50%"],content:s},Object(o["b"])(i["c"].RIGHT),t.cfg.title);c.annotation().text(u)}}))},e}(s["a"]);e["a"]=c},7721:function(t,e,n){"use strict";var r=n("9ab4"),a=n("e945"),i=n("8937"),o=n("479c"),s=n("6239"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return Object(r["__extends"])(e,t),e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var r=this.prepareRange(t),a=this.prepareSize(),o=Object(i["get"])(this.styleOption,["style","shadowBlur"]);return Object(i["isNumber"])(o)||(o=a/2),this.prepareGreyScaleBlurredCircle(a,o),this.drawWithRange(t,r,a,o),null},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],r=1/0,a=-1/0;return t.forEach((function(t){var e=t[o["d"]][n];e>a&&(a=e),e<r&&(r=e)})),r===a&&(r=a-1),[r,a]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(i["isNumber"])(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,a=n.getContext("2d");n.width=n.height=2*r,a.clearRect(0,0,n.width,n.height),a.shadowOffsetX=a.shadowOffsetY=2*r,a.shadowBlur=e,a.shadowColor="black",a.beginPath(),a.arc(-r,-r,t,0,2*Math.PI,!0),a.closePath(),a.fill()},e.prototype.drawWithRange=function(t,e,n,r){var a=this.coordinate,i=a.start,s=a.end,c=this.coordinate.getWidth(),u=this.coordinate.getHeight(),l=this.getAttribute("color"),h=l.getFields()[0];this.clearShadowCanvasCtx();var p=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[o["d"]][h]<=e[1]&&t[o["d"]][h]>=e[0]})));for(var f=this.scales[h],g=0,d=t;g<d.length;g++){var y=d[g],b=this.getDrawCfg(y),v=b.x,O=b.y,x=f.scale(y[o["d"]][h]);this.drawGrayScaleBlurredCircle(v-i.x,O-s.y,n+r,x,p)}var j=p.getImageData(0,0,c,u);this.clearShadowCanvasCtx(),this.colorize(j),p.putImageData(j,0,0);var m=this.getImageShape();m.attr("x",i.x),m.attr("y",s.y),m.attr("width",c),m.attr("height",u),m.attr("img",p.canvas),m.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,a){var i=this.getGrayScaleBlurredCanvas();a.globalAlpha=r,a.drawImage(i,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(Object(i["isNumber"])(s)){var c=r[s]?r[s]:a["default"].rgb2arr(e.gradient(s/256));n[o-3]=c[0],n[o-2]=c[1],n[o-1]=c[2],n[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(r["__assign"])(Object(r["__assign"])({},e),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map((function(t){return t[o["d"]]}))},e}(s["a"]);e["a"]=c},"7ee7":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("8937"),a=n("ba6d");function i(t,e){var n=t.length,a=t;Object(r["isString"])(a[0])&&(a=t.map((function(t){return e.translate(t)})));for(var i=a[1]-a[0],o=2;o<n;o++){var s=a[o]-a[o-1];i>s&&(i=s)}return i}function o(t,e){if(e){var n=Object(r["flatten"])(t),a=Object(r["valuesOfKey"])(n,e);return a.length}return t.length}function s(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),s=r.values,c=t.beforeMappingData,u=s.length;if(r.isLinear&&s.length>1){s.sort();var l=i(s,r);u=(r.max-r.min)/l,s.length>u&&(u=s.length)}var h=r.range,p=1/u,f=1;if(n.isPolar?f=n.isTransposed&&u>1?e.multiplePieWidthRatio:e.roseWidthRatio:(r.isLinear&&(p*=h[1]-h[0]),f=e.columnWidthRatio),p*=f,t.getAdjust("dodge")){var g=t.getAdjust("dodge"),d=g.dodgeBy,y=o(c,d);p/=y}var b=e.maxColumnWidth,v=e.minColumnWidth,O=Object(a["d"])(t.coordinate);if(b){var x=b/O;p>x&&(p=x)}if(v){var j=v/O;p<j&&(p=j)}return p}},"82fa":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("e7d3"),o=n("7453"),s=n("44b4"),c=n("6651"),u=function(t,e,n){var r,a=t.x,i=t.y,o=e.x,s=e.y;switch(n){case"hv":r=[{x:o,y:i}];break;case"vh":r=[{x:a,y:s}];break;case"hvh":var c=(o+a)/2;r=[{x:c,y:i},{x:c,y:s}];break;case"vhv":var u=(i+s)/2;r=[{x:a,y:u},{x:o,y:u}];break;default:break}return r};function l(t,e){var n=[];return Object(a["each"])(t,(function(r,a){var i=t[a+1];if(n.push(r),i){var o=u(r,i,e);n=n.concat(o)}})),n}function h(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}function p(t,e){var n=Object(o["a"])(t.points,t.connectNulls),i=[];return Object(a["each"])(n,(function(t){var n=l(t,e);i=i.concat(h(n))})),Object(r["__assign"])(Object(r["__assign"])({},Object(s["a"])(t,!0,!1,"lineWidth")),{path:i})}Object(a["each"])(["hv","vh","hvh","vhv"],(function(t){Object(i["b"])("line",t,{draw:function(e,n){var r=p(e,t),a=n.addShape({type:"path",attrs:r,name:"line"});return a},getMarker:function(e){return Object(c["a"])(e,t)}})}))},"857f":function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(r["__assign"])({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(r["__assign"])({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=n[0],i=n[1],o=[],s=1,c=1,u=[""],l=[""];return r&&(u=this.getFieldValues(t,r),s=u.length),i&&(l=this.getFieldValues(t,i),c=l.length),u.forEach((function(n,h){l.forEach((function(p,f){var g=[{field:r,value:n,values:u},{field:i,value:p,values:l}],d=Object(a["filter"])(t,e.getFacetDataFilter(g)),y={type:e.cfg.type,data:d,region:e.getRegion(c,s,h,f),columnValue:n,rowValue:p,columnField:r,rowField:i,columnIndex:h,rowIndex:f,columnValuesLength:s,rowValuesLength:c};o.push(y)}))})),o},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e,n){var r=e.columnIndex,s=e.rowIndex,c=e.columnValuesLength,u=(e.rowValuesLength,e.columnValue),l=e.rowValue,h=e.view;if(0===s){var p=Object(a["deepMix"])({position:["50%","0%"],content:u},Object(o["b"])(i["c"].TOP),t.cfg.columnTitle);h.annotation().text(p)}if(r===c-1){p=Object(a["deepMix"])({position:["100%","50%"],content:l},Object(o["b"])(i["c"].RIGHT),t.cfg.rowTitle);h.annotation().text(p)}}))},e.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null}):n},e}(s["a"]);e["a"]=c},8866:function(t,e,n){"use strict";var r=n("9ab4"),a=n("6239"),i=n("8937"),o=n("04ae"),s=n("e7d3"),c=n("32f0"),u=n("8f53");Object(s["c"])("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return Object(c["a"])(t)}});Object(i["each"])(u["b"],(function(t){Object(s["b"])("point","hollow-"+t,{draw:function(e,n){return Object(u["c"])(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:o["a"][t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return Object(r["__assign"])(Object(r["__assign"])({},n),{isStack:!!this.getAdjust("stack")})},e}(a["a"]);e["a"]=l},"88e0":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var r=n("8937"),a=n("7453"),i=n("44b4"),o=n("06cb");function s(t,e,n,a,i){for(var s=[],c=[],u=0,l=t.length;u<l;u++){var h=t[u];s.push(h[1]),c.push(h[0])}c=c.reverse();var p=[];return Object(r["each"])([s,c],(function(t,r){var s=[],c=a.parsePoints(t),u=c[0];e&&c.push({x:u.x,y:u.y}),s=n?Object(o["e"])(c,!1,i):Object(o["d"])(c,!1),r>0&&(s[0][0]="L"),p=p.concat(s)})),p.push(["Z"]),p}function c(t,e,n,r,o){for(var c=Object(i["a"])(t,e,!e,"lineWidth"),u=t.connectNulls,l=t.isInCircle,h=t.points,p=Object(a["a"])(h,u),f=[],g=0,d=p.length;g<d;g++){var y=p[g];f=f.concat(s(y,l,n,r,o))}return c.path=f,c}function u(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}},"8aa9":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n("8937");function a(t,e){var n=[];n.push({x:t.x,y:1*t.y/2+1*e.y/2}),n.push({x:e.x,y:1*t.y/2+1*e.y/2}),n.push(e);var a=["C"];return Object(r["each"])(n,(function(t){a.push(t.x,t.y)})),a}function i(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var a=["Q"];return Object(r["each"])(n,(function(t){a.push(t.x,t.y)})),a}},"8f53":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return c}));var r=n("9ab4"),a=n("04ae"),i=n("44b4"),o=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],s=["cross","tick","plus","hyphen","line"];function c(t,e,n,o,s){var c=Object(i["a"])(e,s,!s,"r"),u=t.parsePoints(e.points),l=u[0];if(e.isStack)l=u[1];else if(u.length>1){for(var h=n.addGroup(),p=0,f=u;p<f.length;p++){var g=f[p];h.addShape({type:"marker",attrs:Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},c),{symbol:a["a"][o]||o}),g)})}return h}return n.addShape({type:"marker",attrs:Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},c),{symbol:a["a"][o]||o}),l)})}},"910c":function(t,e,n){"use strict";var r=n("8937"),a=n("e7d3"),i=n("7453"),o=n("44b4"),s=n("06cb"),c=n("32f0"),u=n("6651");function l(t,e,n){for(var r=t.isStack,a=t.connectNulls,s=t.isInCircle,c=Object(i["a"])(t.points,a),u=[],l=0,h=c.length;l<h;l++){var p=c[l];u=u.concat(f(p,s,r,e,n))}var g=Object(o["a"])(t,!0,!1,"lineWidth");return g.path=u,g}function h(t,e,n,r){var a;return n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),a=Object(s["e"])(t,!1,r)):(a=Object(s["d"])(t,!1),e&&a.push(["Z"])),a}function p(t,e,n,a,i){var o=[],s=[];Object(r["each"])(t,(function(t){var e=Object(c["a"])(t);o.push(e[1]),s.push(e[0])}));var u=h(o,e,a,i),l=h(s,e,a,i);return n?u:u.concat(l)}function f(t,e,n,a,i){var o=t[0];return Object(r["isArray"])(o.y)?p(t,e,n,a,i):h(t,e,a,i)}Object(a["c"])("line",{defaultShapeType:"line"});Object(r["each"])(["line","dot","dash","smooth"],(function(t){Object(a["b"])("line",t,{draw:function(e,n){var r,a="smooth"===t;if(a){var i=this.coordinate,o=i.start,s=i.end;r=[[o.x,s.y],[s.x,o.y]]}var c=l(e,a,r),u=n.addShape({type:"path",attrs:c,name:"line"});return u},getMarker:function(e){return Object(u["a"])(e,t)}})}))},"976d":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("8937");function a(t,e){void 0===e&&(e=!1);var n,a,i,o,s=t.x,c=t.y,u=t.y0,l=t.size;Object(r["isArray"])(c)?(n=c[0],a=c[1]):(n=u,a=c),Object(r["isArray"])(s)?(i=s[0],o=s[1]):(i=s-l/2,o=s+l/2);var h=[{x:i,y:n},{x:i,y:a}];return e?h.push({x:o,y:(a+n)/2}):h.push({x:o,y:a},{x:o,y:n}),h}function i(t){var e=[],n=t[0];e.push(["M",n.x,n.y]);for(var r=1,a=t.length;r<a;r++)e.push(["L",t[r].x,t[r].y]);return e.push(["L",n.x,n.y]),e.push(["z"]),e}function o(t,e,n){var a=[];return Object(r["isNil"])(e)?n?a.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):a.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):a.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),a}},"9d70":function(t,e,n){"use strict";var r=n("e7d3"),a=n("88e0");Object(r["b"])("area","line",{draw:function(t,e){var n=Object(a["b"])(t,!0,!1,this),r=e.addShape({type:"path",attrs:n,name:"area"});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}})},a1fd:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("4a4d"),o=n("e7d3"),s=n("44b4");function c(t){var e=Object(a["isArray"])(t)?t:[t],n=e.sort((function(t,e){return e-t}));return Object(i["c"])(n,4,n[n.length-1])}function u(t,e,n){var r=c(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function l(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}Object(o["b"])("schema","candle",{getPoints:function(t){var e=t.x,n=t.y,r=t.size;return u(e,n,r)},draw:function(t,e){var n=Object(s["a"])(t,!0,!0),a=this.parsePath(l(t.points)),i=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a,name:"schema"})});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=[e+7.5,e+3,e-3,e-7.5],a=u(t,r,n);return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}})},a720:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8937"),a=n("550c");function i(t,e,n,i){Object(r["each"])(e,(function(t){var e=i.minX,n=i.minY,r=i.maxX,o=i.maxY,s=t.getCanvasBBox(),c=s.minX,u=s.minY,l=s.maxX,h=s.maxY,p=s.x,f=s.y,g=s.width,d=s.height,y=p,b=f;(c<e||l<e)&&(y=e),(u<n||h<n)&&(b=n),c>r?y=r-g:l>r&&(y-=l-r),u>o?b=o-d:h>o&&(b-=h-o),y===p&&b===f||Object(a["c"])(t,y-p,b-f)}))}},a911:function(t,e,n){"use strict";var r=n("9ab4"),a=n("e7d3"),i=n("44b4"),o=n("976d");Object(a["b"])("interval","hollow-rect",{draw:function(t,e){var n=Object(i["a"])(t,!0,!1),a=this.parsePath(Object(o["b"])(t.points)),s=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return s},getMarker:function(t){var e=t.color,n=t.isInPolar;return n?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}})},ac28:function(t,e,n){"use strict";var r=n("9ab4"),a=n("ba6d"),i=n("6239"),o=n("e7d3"),s=(Object(o["c"])("schema",{defaultShapeType:""}),n("7ee7")),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return Object(r["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");if(i){n=this.getAttributeValues(i,e)[0];var o=this.coordinate,c=Object(a["d"])(o);n/=c}else this.defaultSize||(this.defaultSize=Object(s["a"])(this)),n=this.defaultSize;return r.size=n,r},e}(i["a"]);e["a"]=c},b12a:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("8937"),a=(n("f4c2"),{}),i=function(t){return a[Object(r["lowerCase"])(t)]},o=function(t,e){a[Object(r["lowerCase"])(t)]=e}},b28f:function(t,e,n){"use strict";var r=n("9ab4"),a=n("0779"),i=n("e7d3"),o=n("44b4"),s=n("8aa9");function c(t,e,n){var r=Object(s["b"])(e,n),a=[["M",t.x,t.y]];return a.push(r),a}function u(t,e){var n=Object(s["b"])(t[1],e),r=Object(s["b"])(t[3],e),a=[["M",t[0].x,t[0].y]];return a.push(r),a.push(["L",t[3].x,t[3].y]),a.push(["L",t[2].x,t[2].y]),a.push(n),a.push(["L",t[1].x,t[1].y]),a.push(["L",t[0].x,t[0].y]),a.push(["Z"]),a}Object(i["b"])("edge","arc",{draw:function(t,e){var n,i=Object(o["a"])(t,!0,!1,"lineWidth"),l=t.points,h=l.length>2?"weight":"normal";if(t.isInCircle){var p={x:0,y:1};return"normal"===h?n=c(l[0],l[1],p):(i.fill=i.stroke,n=u(l,p)),n=this.parsePath(n),e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},i),{path:n})})}if("normal"===h)return l=this.parsePoints(l),n=Object(a["b"])((l[1].x+l[0].x)/2,l[0].y,Math.abs(l[1].x-l[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},i),{path:n})});var f=Object(s["a"])(l[1],l[3]),g=Object(s["a"])(l[2],l[0]);return n=[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],f,["L",l[3].x,l[3].y],["L",l[2].x,l[2].y],g,["Z"]],n=this.parsePath(n),i.fill=i.stroke,e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},b51e:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=this.cfg.cols,i=n[0];if(!i)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,i),s=o.length;r=r||s;var c=this.getPageCount(s,r),u=[];return o.forEach((function(n,l){var h=e.getRowCol(l,r),p=h.row,f=h.col,g=[{field:i,value:n,values:o}],d=Object(a["filter"])(t,e.getFacetDataFilter(g)),y={type:e.cfg.type,data:d,region:e.getRegion(c,r,f,p),columnValue:n,rowValue:n,columnField:i,rowField:null,columnIndex:f,rowIndex:p,columnValuesLength:r,rowValuesLength:c,total:s};u.push(y)})),u},e.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?Object(r["__assign"])(Object(r["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e){var n=e.columnValue,r=e.view,s=Object(a["deepMix"])({position:["50%","0%"],content:n},Object(o["b"])(i["c"].TOP),t.cfg.title);r.annotation().text(s)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),r=t%e;return{row:n,col:r}},e}(s["a"]);e["a"]=c},ba17:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("2bb7"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.setLabelPosition=function(t,e,n,r){var i=this.getCoordinate(),o=i.isTransposed,s=e.points,c=i.convert(s[0]),u=i.convert(s[2]),l=o?-1:1,h=(c.x-u.x)/2*l,p=(c.y-u.y)/2*l;switch(r){case"right":o||(t.x-=h,t.y+=p),t.textAlign=Object(a["get"])(t,"textAlign","left");break;case"left":o?t.x-=2*h:(t.x+=h,t.y+=p),t.textAlign=Object(a["get"])(t,"textAlign","right");break;case"bottom":o?(t.x-=h,t.y-=p):t.y+=2*p,t.textAlign=Object(a["get"])(t,"textAlign","center"),t.textBaseline=Object(a["get"])(t,"textBaseline","top");break;case"middle":o?t.x-=h:t.y+=p,t.textAlign=Object(a["get"])(t,"textAlign","center");break;case"top":o&&(t.x-=h,t.y+=p),t.textAlign=Object(a["get"])(t,"textAlign","center"),t.textBaseline=Object(a["get"])(t,"textBaseline","bottom");break;default:break}},e}(i["a"]);e["a"]=o},bdb4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("8937"),a=n("0779"),i=4;function o(t,e,n,r,a,i){var o,s=!0,c=r.start,u=r.end,l=Math.min(c.y,u.y),h=Math.abs(c.y-u.y),p=0,f=Number.MIN_VALUE,g=e.map((function(t){return t.y>p&&(p=t.y),t.y<f&&(f=t.y),{size:n,targets:[t.y-l]}}));f-=l,p-l>h&&(h=p-l);while(s){g.forEach((function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),h-t.size)})),s=!1,o=g.length;while(o--)if(o>0){var d=g[o-1],y=g[o];d.pos+d.size>y.pos&&(d.size+=y.size,d.targets=d.targets.concat(y.targets),d.pos+d.size>h&&(d.pos=h-d.size),g.splice(o,1),s=!0)}}o=0,g.forEach((function(t){var r=l+n/2;t.targets.forEach((function(){e[o].y=t.pos+r,r+=n,o++}))}));for(var b={},v=0,O=t;v<O.length;v++){var x=O[v];b[x.get("id")]=x}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-a.y),2);if(e<n)t.x=a.x;else{var r=Math.sqrt(e-n);t.x=i?a.x+r:a.x-r}var o=b[t.id];o.attr("x",t.x),o.attr("y",t.y)}))}function s(t,e,n,s){var c=t[0]?t[0].offset:0,u=e[0].get("coordinate"),l=u.getRadius(),h=u.getCenter();if(c>0){var p=14,f=l+c,g=2*f+2*p,d={start:u.start,end:u.end},y=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?y[0].push(t):y[1].push(t))})),y.forEach((function(t,n){var r=g/p;t.length>r&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(r,t.length-r)),t.sort((function(t,e){return t.y-e.y})),o(e,t,p,d,h,n)}))}Object(r["each"])(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,o=Object(a["f"])(h.x,h.y,l,n),s=Object(a["f"])(h.x,h.y,l+e/2,n),c=t.x+Object(r["get"])(t,"offsetX",0),u=t.y+Object(r["get"])(t,"offsetY",0),p={x:c-Math.cos(n)*i,y:u-Math.sin(n)*i};Object(r["isObject"])(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+o.x,o.y+" Q"+s.x,s.y+" "+p.x,p.y].join(",")}}))}},bf51:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("e7d3"),o=n("44b4");function s(t){var e,n,r=t.x,i=t.y,o=t.y0,s=t.size;Object(a["isArray"])(i)?(e=i[0],n=i[1]):(e=o,n=i);var c=r+s/2,u=r-s/2;return[{x:r,y:e},{x:r,y:n},{x:u,y:e},{x:c,y:e},{x:u,y:n},{x:c,y:n}]}function c(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]}Object(i["b"])("interval","tick",{getPoints:function(t){return s(t)},draw:function(t,e){var n=Object(o["a"])(t,!0,!1),a=this.parsePath(c(t.points)),i=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:e}}}})},c1f6:function(t,e,n){"use strict";var r=n("9ab4"),a=n("479c"),i=n("6239"),o=n("c8ba1"),s=(n("910c"),n("6375")),c=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,a=void 0!==r&&r;return n.connectNulls=a,n}return Object(r["__extends"])(e,t),e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var r=this,a=r.lastElementsMap,i=r.elementsMap,c=r.elements,u=r.container,l=this.getElementId(t),h=this.getShapeInfo(t),p=a[l];if(p){var f=p.getModel();Object(s["a"])(f,h)&&(p.animate=this.animateOption,p.update(h)),delete a[l]}else{var g=this.getShapeFactory();p=new o["a"]({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),p.geometry=this,p.animate=this.animateOption,p.draw(h,n)}return c.push(p),i[l]=p,c},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push({x:o.x,y:o.y}),n.push(o[a["d"]])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,a=n.data;return e.mappingData=t,e.data=a,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e},e}(i["a"]);e["a"]=c},c2b4:function(t,e,n){"use strict";var r=n("9ab4"),a=n("e7d3"),i=n("44b4"),o=n("976d");Object(a["b"])("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Object(o["c"])(t)},draw:function(t,e){var n=Object(i["a"])(t,!1,!0),a=this.parsePath(Object(o["a"])(t.points,t.nextPoints,!1)),s=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return s},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}})},c3af:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return Object(r["__extends"])(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(i["k"].AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],r={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(r),r.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var a=1/e,i=1/t,o={x:a*n,y:i*r},s={x:o.x+a,y:o.y+2*i/3};return{start:o,end:s}},e.prototype.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=r,r++)})),n.forEach((function(t){t.columnValuesLength=n.length}));for(var a=this.cfg.fields.length,i=a-1;i>=0;i--)for(var o=this.getFacetsByLevel(t,i),s=0,c=o;s<c.length;s++){var u=c[s];this.isLeaf(u)||(u.originColIndex=u.columnIndex,u.columnIndex=this.getRegionIndex(u.children),u.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var r=this,a=this.cfg.fields,i=a.length;if(!(i<e)){var o=[],s=a[e-1],c=this.getFieldValues(t,s);return c.forEach((function(a,i){var u=[{field:s,value:a,values:c}],l=t.filter(r.getFacetDataFilter(u));if(l.length){var h={type:r.cfg.type,data:l,region:null,columnValue:a,rowValue:"",columnField:s,rowField:"",columnIndex:i,rowValuesLength:r.getRows(),columnValuesLength:1,rowIndex:e,children:r.getChildFacets(l,e+1,n)};o.push(h),n.push(h)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e){var n=e.columnValue,r=e.view,s=Object(a["deepMix"])({position:["50%","0%"],content:n},Object(o["b"])(i["c"].TOP),t.cfg.title);r.annotation().text(s)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view,a=r.coordinateBBox,i={x:a.x+a.width/2,y:a.y+a.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},a={x:i.x,y:i.y+(r.y-i.y)/2},o={x:r.x,y:a.y};n.drawLine([i,a,o,r])}))},e.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:Object(a["assign"])({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.originColIndex&&0!==a.columnIndex?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):n},e}(s["a"]);e["a"]=c},c404:function(t,e,n){"use strict";var r=n("9ab4"),a=n("e7d3"),i=n("44b4"),o=n("976d");Object(a["b"])("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Object(o["c"])(t,!0)},draw:function(t,e){var n=Object(i["a"])(t,!1,!0),a=this.parsePath(Object(o["a"])(t.points,t.nextPoints,!0)),s=e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a}),name:"interval"});return s},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}})},c8ba1:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("68b7"),o=n("1674"),s=n("0779"),c=n("0fe1"),u=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var r=e.shapeFactory,a=e.container,i=e.offscreenGroup,o=e.visible,s=void 0===o||o;return n.shapeFactory=r,n.container=a,n.offscreenGroup=i,n.visible=s,n}return Object(r["__extends"])(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this,n=e.shapeFactory,r=e.shape;if(r){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t);var a=this.getOffscreenGroup(),i=n.drawShape(this.shapeType,t,a);i.cfg.data=this.data,i.cfg.origin=t,this.syncShapeStyle(r,i,"",this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this,n=e.shapeFactory,a=e.shape;if(a){var o=this.getAnimateCfg("leave");o?Object(i["b"])(a,o,{coordinate:n.coordinate,toAttrs:Object(r["__assign"])({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,r=this,a=r.states,i=r.shapeFactory,o=r.model,s=r.shape,u=r.shapeType,l=a.indexOf(t);if(e){if(l>-1)return;a.push(t),"active"!==t&&"selected"!==t||s.toFront()}else{if(-1===l)return;a.splice(l,1),"active"!==t&&"selected"!==t||s.toBack()}var h=i.drawShape(u,o,this.getOffscreenGroup());a.length?a.forEach((function(t){n.syncShapeStyle(s,h,t,null)})):this.syncShapeStyle(s,h,"reset",null),h.remove(!0);var p={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",p),Object(c["propagationDelegate"])(this.shape,"statechange",p)},e.prototype.clearStates=function(){var t=this,e=this.states;Object(a["each"])(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,r={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(r=e.getCanvasBBox()),n&&n.forEach((function(t){var e=t.getCanvasBBox();r.x=Math.min(e.x,r.x),r.y=Math.min(e.y,r.y),r.minX=Math.min(e.minX,r.minX),r.minY=Math.min(e.minY,r.minY),r.maxX=Math.max(e.maxX,r.maxX),r.maxY=Math.max(e.maxY,r.maxY)})),r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,i=n.stateOption,o=r.defaultShapeType,s=r.theme[e]||r.theme[o];this.statesStyle=Object(a["deepMix"])({},s,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=Object(a["get"])(n,[t,"style"],{}),i=r[e]||r;return Object(a["isFunction"])(i)?i(this):i},e.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},e.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n=this,o=n.shapeFactory,s=n.container,c=n.shapeType;if(this.shape=o.drawShape(c,t,s),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?Object(a["isString"])(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var l=e?"enter":"appear",h=this.getAnimateCfg(l);h&&Object(i["b"])(this.shape,h,{coordinate:o.coordinate,toAttrs:Object(r["__assign"])({},this.shape.attr())})}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var r=t.get("children");r.forEach((function(t){n.setShapeInfo(t,e)}))}},e.prototype.syncShapeStyle=function(t,e,n,r,o){if(void 0===n&&(n=""),void 0===o&&(o=0),t.isGroup())for(var c=t.get("children"),u=e.get("children"),l=0;l<c.length;l++)this.syncShapeStyle(c[l],u[l],n,r,o+l);else{if(n&&"reset"!==n){var h=t.get("name");Object(a["isArray"])(h)&&(h=h[1]);var p=this.getStateStyle(n,h||o);e.attr(p)}var f=Object(s["d"])(t,e);this.animate?r?Object(i["b"])(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:f,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(f,{duration:300})):t.attr(f):t.attr(f)}},e.prototype.getShapeType=function(t){var e=Object(a["get"])(t,"shape");return Object(a["isArray"])(e)?e[0]:e},e}(o["a"]);e["a"]=u},e05f:function(t,e,n){"use strict";var r=n("9ab4"),a=n("6239"),i=n("e7d3"),o=n("44b4"),s=n("06cb"),c=n("32f0");Object(i["c"])("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Object(c["a"])(t)}});Object(i["b"])("edge","line",{draw:function(t,e){var n=Object(o["a"])(t,!0,!1,"lineWidth"),a=Object(s["d"])(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:a})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return Object(r["__extends"])(e,t),e}(a["a"]);e["a"]=u},e7d3:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return p}));var r=n("9ab4"),a=n("2ef1"),i=n("8937"),o=n("06cb"),s={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var a=this.theme,o=Object(i["get"])(a,[t,"default"],{}),s=n.getMarker(e);return Object(i["deepMix"])({},o,s)},drawShape:function(t,e,n){var r=this.getShape(t);return r.draw(e,n)}},c={coordinate:null,parsePath:function(t){var e=this.coordinate,n=Object(a["b"])(t);return n=e.isPolar?Object(o["c"])(e,n):Object(o["b"])(e,n),n},parsePoint:function(t){var e=this.coordinate;return e.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},u={};function l(t,e){var n=Object(i["upperFirst"])(t),a=Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},s),e),{geometryType:t});return u[n]=a,a}function h(t,e,n){var a=Object(i["upperFirst"])(t),o=u[a],s=Object(r["__assign"])(Object(r["__assign"])({},c),n);return o[e]=s,s}function p(t){var e=Object(i["upperFirst"])(t);return u[e]}},eb2e:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(r["__assign"])({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(r["__assign"])({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,r=e.type,a=n.length,i=a,o=[],s=0;s<i;s++)for(var c=n[s],u=0;u<a;u++){var l=n[u],h={type:r,data:t,region:this.getRegion(a,i,s,u),columnValue:c,rowValue:l,columnField:c,rowField:l,columnIndex:s,rowIndex:u,columnValuesLength:i,rowValuesLength:a};o.push(h)}return o},e.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?Object(r["__assign"])(Object(r["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?Object(r["__assign"])(Object(r["__assign"])({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e,n){var r=e.columnIndex,s=e.rowIndex,c=e.columnValuesLength,u=(e.rowValuesLength,e.columnValue),l=e.rowValue,h=e.view;if(0===s){var p=Object(a["deepMix"])({position:["50%","0%"],content:u},Object(o["b"])(i["c"].TOP),t.cfg.columnTitle);h.annotation().text(p)}if(r===c-1){p=Object(a["deepMix"])({position:["100%","50%"],content:l},Object(o["b"])(i["c"].RIGHT),t.cfg.rowTitle);h.annotation().text(p)}}))},e}(s["a"]);e["a"]=c},ee0a:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("e7d3"),o=n("44b4"),s=1/3;function c(t,e){var n=[];n.push({x:t.x,y:t.y*(1-s)+e.y*s}),n.push({x:e.x,y:t.y*(1-s)+e.y*s}),n.push(e);var r=[["M",t.x,t.y]];return Object(a["each"])(n,(function(t){r.push(["L",t.x,t.y])})),r}Object(i["b"])("edge","vhv",{draw:function(t,e){var n=Object(o["a"])(t,!0,!1,"lineWidth"),a=t.points,i=this.parsePath(c(a[0],a[1]));return e.addShape("path",{attrs:Object(r["__assign"])(Object(r["__assign"])({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},f088:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c}));var r={},a={};function i(t){return r[t.toLowerCase()]}function o(t,e){r[t.toLowerCase()]=e}function s(t){return a[t.toLowerCase()]}function c(t,e){a[t.toLowerCase()]=e}},f4c2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("8937"),a=n("479c"),i=n("74ab"),o=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(r["deepMix"])({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,a=void 0===r?this.cfg.padding:r,i=this.view.createView({region:e,padding:a});i.data(n||[]),t.view=i,this.beforeEachView(i,t);var o=this.cfg.eachView;return o&&o(i,t),this.afterEachView(i,t),i},t.prototype.createContainer=function(){var t=this.view.getLayer(a["g"].FORE);return t.addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;Object(r["each"])(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.getFieldValues=function(t,e){var n=[],a={};return Object(r["each"])(t,(function(t){var i=t[e];Object(r["isNil"])(i)||a[i]||(n.push(i),a[i]=!0)})),n},t.prototype.getRegion=function(t,e,n,r){var a=1/(0===e?1:e),i=1/(0===t?1:t),o={x:a*n,y:i*r},s={x:a*(n+1),y:i*(r+1)};return{start:o,end:s}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){var t=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:t}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),a=n.coordinate,o=t.geometries,s=Object(r["get"])(a,"type","rect");if("rect"===s&&o.length){Object(r["isNil"])(n.axes)&&(n.axes={});var c=n.axes,u=o[0].getXYFields(),l=u[0],h=u[1],p=Object(i["c"])(c,l),f=Object(i["c"])(c,h);!1!==p&&(n.axes[l]=this.getXAxisOption(l,c,p,e)),!1!==f&&(n.axes[h]=this.getYAxisOption(h,c,f,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return Object(r["every"])(t,(function(t){var n=t.field,a=t.value;return!(!Object(r["isNil"])(a)&&n)||e[n]===a}))}},t}()},f501:function(t,e,n){"use strict";var r=n("9ab4"),a=n("8937"),i=n("479c"),o=n("7fb4"),s=n("f4c2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(a["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=.5,r={x:.5,y:.5},a=2*Math.PI/t,i=-1*Math.PI/2+a*e,s=n/(1+1/Math.sin(a/2)),c=Object(o["a"])(r,n-s,i),u=5*Math.PI/4,l=1*Math.PI/4;return{start:Object(o["a"])(c,s,u),end:Object(o["a"])(c,s,l)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,r=n.fields,i=n.type,o=r[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),c=s.length,u=[];return s.forEach((function(n,r){var l=[{field:o,value:n,values:s}],h=Object(a["filter"])(t,e.getFacetDataFilter(l)),p={type:i,data:h,region:e.getRegion(c,r),columnValue:n,columnField:o,columnIndex:r,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};u.push(p)})),u},e.prototype.getXAxisOption=function(t,e,n,r){return n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;Object(a["each"])(this.facets,(function(e){var n=e.columnValue,r=e.view,s=Object(a["deepMix"])({position:["50%","0%"],content:n},Object(o["b"])(i["c"].TOP),t.cfg.title);r.annotation().text(s)}))},e}(s["a"]);e["a"]=c}}]);