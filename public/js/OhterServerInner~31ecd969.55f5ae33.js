(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OhterServerInner~31ecd969","OtherControl~987e6011","OtherFinance~31ecd969","OtherServerUpgradeConfig~987e6011","StandaloneServerFinance~31ecd969"],{"0311":function(t,e,a){},"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return s})),a.d(e,"h",(function(){return r})),a.d(e,"g",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p}));var n=a("a27e");function s(t,e,a,s,r,i,o,c){return Object(n["a"])({url:"/host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:s,sort:r,search:i,dcim_area:o,domain_status:c}})}function r(t){return Object(n["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function i(t,e){return Object(n["a"])({url:"/host/renewpage",params:{hostid:t,billingcycles:e}})}function o(t){return Object(n["a"])({url:"/host/renew",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/provision/default",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/provision/button",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/host/cancel",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/host/cancel",method:"delete",data:t})}function p(t){return Object(n["a"])({url:"/host/autorenew",method:"post",data:t})}},"0659":function(t,e,a){"use strict";var n=a("55c9d"),s=a.n(n);s.a},1215:function(t,e,a){"use strict";var n=a("86b0"),s=a.n(n);s.a},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1dde":function(t,e,a){var n=a("d039"),s=a("b622"),r=a("2d00"),i=s("species");t.exports=function(t){return r>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f0a":function(t,e,a){"use strict";var n=a("8b6b"),s=a.n(n);s.a},2532:function(t,e,a){"use strict";var n=a("23e7"),s=a("5a34"),r=a("1d80"),i=a("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,a){"use strict";var n=a("6eeb"),s=a("825a"),r=a("d039"),i=a("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var t=s(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in c)?i.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},4365:function(t,e,a){"use strict";var n=a("604a"),s=a.n(n);s.a},"44e7":function(t,e,a){var n=a("861d"),s=a("c6b6"),r=a("b622"),i=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},"4a8e":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c}));var n=a("a27e");function s(t,e,a,s,r,i,o){return Object(n["a"])({url:"/host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:s,sort:r,search:i,domain_status:o}})}function r(t,e,a,s,r,i){return Object(n["a"])({url:"/host/list",params:{type:"index",page:t,limit:e,orderby:a,sort:s,search:r,domain_status:i}})}function i(t){return Object(n["a"])({url:"/host/remark",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/host/header",params:{host_id:t}})}function c(t,e,a,s,r,i){return Object(n["a"])({url:"/user_logdcims",params:{hostid:t,page:e,limit:a,orderby:s,sorting:r,keywords:i}})}},"4c53":function(t,e,a){"use strict";var n=a("23e7"),s=a("857a"),r=a("af03");n({target:"String",proto:!0,forced:r("sub")},{sub:function(){return s(this,"sub","","")}})},"4cd3":function(t,e,a){"use strict";var n=a("62f6"),s=a.n(n);s.a},"4d63":function(t,e,a){var n=a("83ab"),s=a("da84"),r=a("94ca"),i=a("7156"),o=a("9bf2").f,c=a("241c").f,l=a("44e7"),u=a("ad6d"),d=a("9f7f"),p=a("6eeb"),f=a("d039"),m=a("69f3").set,g=a("2626"),h=a("b622"),b=h("match"),_=s.RegExp,v=_.prototype,y=/a/g,x=/a/g,w=new _(y)!==y,D=d.UNSUPPORTED_Y,C=n&&r("RegExp",!w||D||f((function(){return x[b]=!1,_(y)!=y||_(x)==x||"/a/i"!=_(y,"i")})));if(C){var k=function(t,e){var a,n=this instanceof k,s=l(t),r=void 0===e;if(!n&&s&&t.constructor===k&&r)return t;w?s&&!r&&(t=t.source):t instanceof k&&(r&&(e=u.call(t)),t=t.source),D&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var o=i(w?new _(t,e):_(t,e),n?this:v,k);return D&&a&&m(o,{sticky:a}),o},O=function(t){t in k||o(k,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},S=c(_),$=0;while(S.length>$)O(S[$++]);v.constructor=k,k.prototype=v,p(s,"RegExp",k)}g("RegExp")},"4de4":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").filter,r=a("1dde"),i=a("ae40"),o=r("filter"),c=i("filter");n({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f32":function(t,e,a){"use strict";a.d(e,"w",(function(){return s})),a.d(e,"v",(function(){return r})),a.d(e,"l",(function(){return i})),a.d(e,"k",(function(){return o})),a.d(e,"j",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"m",(function(){return d})),a.d(e,"n",(function(){return p})),a.d(e,"d",(function(){return f})),a.d(e,"u",(function(){return m})),a.d(e,"y",(function(){return g})),a.d(e,"c",(function(){return h})),a.d(e,"t",(function(){return b})),a.d(e,"p",(function(){return _})),a.d(e,"o",(function(){return v})),a.d(e,"s",(function(){return y})),a.d(e,"z",(function(){return x})),a.d(e,"B",(function(){return w})),a.d(e,"A",(function(){return D})),a.d(e,"a",(function(){return C})),a.d(e,"h",(function(){return k})),a.d(e,"C",(function(){return O})),a.d(e,"E",(function(){return S})),a.d(e,"D",(function(){return $})),a.d(e,"b",(function(){return j})),a.d(e,"i",(function(){return R})),a.d(e,"x",(function(){return P})),a.d(e,"q",(function(){return F})),a.d(e,"r",(function(){return q})),a.d(e,"g",(function(){return z}));var n=a("a27e");function s(t){return Object(n["a"])({url:"/host/product",params:t})}function r(t){return Object(n["a"])({url:"/host/moudle",params:t})}function i(t){return Object(n["a"])({url:"/provision/default",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/provision/button",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/host/cloudos",params:t})}function l(t){return Object(n["a"])({url:"/host/cancel",params:t})}function u(t){return Object(n["a"])({url:"/host/cancel",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/host/cancel",method:"delete",params:t})}function p(t){return Object(n["a"])({url:"/host/flowpacket",params:t})}function f(t,e){return Object(n["a"])({url:"/dcim/buy_flow_packet",method:"post",data:{id:t,fid:e}})}function m(t){return Object(n["a"])({url:"/host/renewpage",params:t})}function g(t){return Object(n["a"])({url:"/host/renew",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/host/autorenew",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/host/hostrecharge",params:t})}function _(t){return Object(n["a"])({url:"/host/chart",params:t})}function v(t){return Object(n["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function y(t){return Object(n["a"])({url:"/user_logdcims",params:t})}function x(t){return Object(n["a"])({url:"/upgrade/index/"+t.hid,params:t})}function w(t){return Object(n["a"])({url:"/upgrade/upgrade_config_post",method:"post",data:t})}function D(t){return Object(n["a"])({url:"/upgrade/upgrade_config_page",params:t})}function C(t){return Object(n["a"])({url:"/upgrade/add_promo_code",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/upgrade/checkout_config_upgrade",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/upgrade/upgrade_product/"+t.hid,params:t})}function S(t){return Object(n["a"])({url:"/upgrade/upgrade_product_post",method:"post",data:t})}function $(t){return Object(n["a"])({url:"/upgrade/upgrade_product_page",params:t})}function j(t){return Object(n["a"])({url:"/upgrade/add_promo_code_product",method:"post",data:t})}function R(t){return Object(n["a"])({url:"/upgrade/checkout_upgrade_product",method:"post",data:t})}function P(t){return Object(n["a"])({url:"/upgrade/remove_promo_code",method:"post",data:t})}function F(t){return Object(n["a"])({url:"/host/trafficusage",params:t})}function q(t){return Object(n["a"])({url:"/host/down",params:t})}function z(t){return Object(n["a"])({url:"/host/remark",method:"post",data:t})}},"4f73":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-dialog",t._g(t._b({on:{open:t.onOpen,close:t.onClose}},"el-dialog",t.$attrs,!1),t.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:t.formData,rules:t.rules,size:"medium","label-width":"107px"}},[a("el-col",{attrs:{span:22}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"系统选择",prop:"os"}},[a("el-cascader",{style:{width:"100%"},attrs:{filterable:"",options:t.pageData,props:t.osProps,placeholder:"请选择系统选择",clearable:""},on:{change:t.setPort},model:{value:t.formData.osArr,callback:function(e){t.$set(t.formData,"osArr",e)},expression:"formData.osArr"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码","show-password":"","auto-complete":"new-password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.creatCode(9)}},slot:"append"},[t._v("随机密码")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"端口",prop:"port"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入端口"},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}},[a("el-button",{attrs:{slot:"append"},on:{click:t.portRandom},slot:"append"},[t._v("随机端口")])],1)],1)],1),a("el-col",{attrs:{span:24}},["1"===t.ostype||"2"===t.ostype?a("el-form-item",{attrs:{label:"分区类型",prop:"part_type"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:t.formData.part_type,callback:function(e){t.$set(t.formData,"part_type",e)},expression:"formData.part_type"}},t._l(t.part_typeOptions,(function(e,n){return a("el-radio",{key:n,attrs:{label:e.value,disabled:e.disabled}},[t._v(t._s(e.label))])})),1)],1):t._e()],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handelConfirm}},[t._v("确定")])],1)],1)],1)},s=[],r=(a("4d63"),a("ac1f"),a("25f0"),a("96cf"),a("1da1")),i=a("e87d"),o={inheritAttrs:!1,components:{},props:[],data:function(){return{loading:!1,id:"",ostype:"",pageData:[],osProps:{multiple:!1,label:"name",value:"id",children:"os"},formData:{id:"",os:"",osArr:void 0,password:void 0,port:void 0,part_type:0},rules:{os:[{required:!0,message:"请选择系统",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],part_type:[{required:!0,message:"单选框组不能为空",trigger:"change"}]},part_typeOptions:[{label:"全盘格式化",value:0},{label:"第一分区格式化",value:1}]}},computed:{},watch:{},created:function(){var t=this;this.$eventBus.$on("reinstall",(function(e){t.formData.id=e}))},mounted:function(){},methods:{portRandom:function(){var t=Math.floor(1e4*Math.random())+1e4;this.formData.port=t},creatCode:function(t){for(var e="",a=parseInt(t),n=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<a;s++){var r=Math.floor(62*Math.random());e+=n[r]}var i=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(i);o.test(e)?this.formData.password=e:this.creatCode(9)},setPort:function(t){var e=t[t.length-1];this.formData.os=t[t.length-1];for(var a="",n=0;n<this.pageData.length;n++){var s=this.pageData[n];if(s.os.length)for(var r=0;r<s.os.length;r++){var i=s.os[r];i.id===e&&(a=i.port,this.ostype=i.ostype)}}this.formData.port=a},reinstallDcim:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.formData.id},t.next=3,Object(i["b"])(a);case 3:if(n=t.sent,s=n.data,200===s.status){t.next=8;break}return e.$message.error(s.msg),t.abrupt("return");case 8:e.pageData=s.os;case 9:case"end":return t.stop()}}),t)})))()},onOpen:function(){this.reinstallDcim()},onClose:function(){this.$refs.elForm.resetFields()},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var t=this;this.$refs.elForm.validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t.$message.success("正在发起重装，请稍候"),t.loading=!0,e.next=6,Object(i["c"])(t.formData);case 6:if(n=e.sent,s=n.data,200===s.status){e.next=12;break}return t.$message.error(s.msg),t.loading=!1,e.abrupt("return");case 12:t.loading=!1,t.$message.success(s.msg),t.onClose(),t.$emit("reinstall-success",!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},c=o,l=a("2877"),u=Object(l["a"])(c,n,s,!1,null,"055d1bed",null);e["a"]=u.exports},"55c9d":function(t,e,a){},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"604a":function(t,e,a){},"62f6":function(t,e,a){},7441:function(t,e,a){t.exports=a.p+"img/pic.609a0fcb.svg"},"7db0":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").find,r=a("44d2"),i=a("ae40"),o="find",c=!0,l=i(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},"81cd":function(t,e,a){t.exports=a.p+"img/zip.b774b361.svg"},"841c":function(t,e,a){"use strict";var n=a("d784"),s=a("825a"),r=a("1d80"),i=a("129f"),o=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var r=s(t),c=String(this),l=r.lastIndex;i(l,0)||(r.lastIndex=0);var u=o(r,c);return i(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},"857a":function(t,e,a){var n=a("1d80"),s=/"/g;t.exports=function(t,e,a,r){var i=String(n(t)),o="<"+e;return""!==a&&(o+=" "+a+'="'+String(r).replace(s,"&quot;")+'"'),o+">"+i+"</"+e+">"}},"86b0":function(t,e,a){},8728:function(t,e,a){t.exports=a.p+"img/random.7d25fffa.svg"},"8b6b":function(t,e,a){},"8e57":function(t,e,a){},9911:function(t,e,a){"use strict";var n=a("23e7"),s=a("857a"),r=a("af03");n({target:"String",proto:!0,forced:r("link")},{link:function(t){return s(this,"a","href",t)}})},"9f0f":function(t,e,a){t.exports=a.p+"img/download.2302b98c.svg"},a51f:function(t,e,a){"use strict";var n=a("8e57"),s=a.n(n);s.a},a623:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").every,r=a("a640"),i=a("ae40"),o=r("every"),c=i("every");n({target:"Array",proto:!0,forced:!o||!c},{every:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},a83a:function(t,e,a){t.exports=a.p+"img/txt.6bf02abd.svg"},ab13:function(t,e,a){var n=a("b622"),s=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(n){}}return!1}},abb1:function(t,e,a){t.exports=a.p+"img/download-w.cdf28062.svg"},ad78:function(t,e,a){t.exports=a.p+"img/lock.d57a1811.svg"},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b64b:function(t,e,a){var n=a("23e7"),s=a("7b0b"),r=a("df75"),i=a("d039"),o=i((function(){r(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(t){return r(s(t))}})},c740:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").findIndex,r=a("44d2"),i=a("ae40"),o="findIndex",c=!0,l=i(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},d81d:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").map,r=a("1dde"),i=a("ae40"),o=r("map"),c=i("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},dc55:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-dialog",t._g(t._b({on:{open:t.onOpen,close:t.onClose}},"el-dialog",t.$attrs,!1),t.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,size:"medium","label-width":"auto"}},[a("el-col",{attrs:{span:22}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码","show-password":"","auto-complete":"new-password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.creatCode(9)}},slot:"append"},[t._v("随机密码")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"是否破解其他用户",prop:"other_user"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.formData.other_user,callback:function(e){t.$set(t.formData,"other_user",e)},expression:"formData.other_user"}})],1)],1),a("el-col",{attrs:{span:24}},[1===t.formData.other_user?a("el-form-item",{attrs:{label:"其他用户名称",prop:"user"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入其他用户名称",clearable:""},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1):t._e()],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handelConfirm}},[t._v("确定")])],1)],1)],1)},s=[],r=(a("4d63"),a("ac1f"),a("25f0"),a("96cf"),a("1da1")),i=a("e87d"),o={data:function(){return{loading:!1,formData:{id:"",password:void 0,other_user:!1,user:void 0},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}],user:[{required:!0,message:"请输入其他用户名称",trigger:"blur"}]}}},created:function(){var t=this;this.$eventBus.$on("crackPass",(function(e){t.formData.id=e}))},mounted:function(){},methods:{creatCode:function(t){for(var e="",a=parseInt(t),n=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<a;s++){var r=Math.floor(62*Math.random());e+=n[r]}var i=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(i);o.test(e)?this.formData.password=e:this.creatCode(9)},onOpen:function(){},onClose:function(){this.$refs.formData.resetFields()},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var t=this;this.$refs.formData.validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t.$message.success("正在发起破解密码，请稍候"),t.loading=!0,e.next=6,Object(i["a"])(t.formData);case 6:if(n=e.sent,s=n.data,200===s.status){e.next=12;break}return t.$message.error(s.msg),t.loading=!1,e.abrupt("return");case 12:t.loading=!1,t.$message.success(s.msg),t.onClose(),t.$emit("crackpass-success",!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},computed:{},watch:{}},c=o,l=a("2877"),u=Object(l["a"])(c,n,s,!1,null,"53217ce3",null);e["a"]=u.exports},dd88:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-row",{staticClass:"rowWrap",attrs:{gutter:20}},[a("el-col",{staticClass:"pagetitle",attrs:{span:24}},[a("span",{staticClass:"pagetitle_back",on:{click:t.back}},[a("i",{staticClass:"el-icon-back"})]),a("span",[t._v(t._s(t.baseData.host_data.group.groupname))])]),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{xs:24,sm:24,md:6}},[a("div",{staticClass:"topleft_box flexc"},[a("div",{staticClass:"topleft_box_inner"},[a("div",{staticClass:"box_inner_top flexc"},[a("div",{staticClass:"inner_top_pro"},[a("div",{staticClass:"top_pro_img mb-30"},[t.baseData.module_power_status?a("el-tooltip",{attrs:{effect:"light",placement:"top",content:t.powerStatus.msg}},[a("div",{staticClass:"left_icon_img flexc cursor-pointer"},["process"===t.powerStatus.status||t.powerStatusLoading||t.tasking?a("span",{staticClass:"el-icon-loading",staticStyle:{"font-size":"20px",color:"#4a7ffc"}}):"on"===t.powerStatus.status?a("span",{staticClass:"sprite start"}):"off"===t.powerStatus.status?a("span",{staticClass:"sprite close"}):"waiting"===t.powerStatus.status?a("span",{staticClass:"sprite waitOn"}):"suspend"===t.powerStatus.status?a("span",{staticClass:"sprite pause"}):"wait_reboot"===t.powerStatus.status||"wait"===t.powerStatus.status?a("span",{staticClass:"sprite waiting"}):(t.powerStatus.status,a("span",{staticClass:"sprite unknown"}))])]):a("el-tooltip",{attrs:{effect:"light",placement:"top",content:t.baseData.host_data.domainstatus_desc}},[a("div",{staticClass:"left_icon_img flexc"},["Fraud"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Fraud"}):"Pending"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Pending"}):"Deleted"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Deleted"}):"Cancelled"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Cancelled"}):"Active"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Active"}):"Suspended"===t.baseData.host_data.domainstatus?a("span",{staticClass:"sprite2 Suspended"}):t._e()])])],1),a("div",{staticClass:"top_pro_name mb-10"},[t._v(t._s(t.baseData.host_data.productname))]),a("div",{staticClass:"top_pro_domain mb-20"},[t._v(t._s(t.baseData.host_data.domain))]),a("div",{staticClass:"top_pro_status"},[t.baseData.host_data.suspendreason?a("el-tooltip",{attrs:{effect:"light",placement:"top",content:t.baseData.host_data.suspendreason}},[a("span",{staticClass:"ml-10",class:t.baseData.host_data.domainstatus},[t._v(t._s(t.baseData.host_data.domainstatus_desc))])]):a("span",{staticClass:"ml-10 tac",class:t.baseData.host_data.domainstatus},[t._v(t._s(t.baseData.host_data.domainstatus_desc))])],1)])])])])]),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{xs:24,sm:24,md:18}},[a("div",{staticClass:"topright_box"},[a("div",{staticClass:"topright_box_info"},[a("div",{staticClass:"box_info_item"},[a("div",{staticClass:"info_item_label price"},[t._v("价格")]),a("div",{staticClass:"info_item_value price"},[a("span",[a("span",{staticClass:"fz-16 color-333 font-bold block"},[t._v(t._s(t.renewData.currency.prefix+" "+t.renewData.host.firstpaymentamount))]),a("span",{staticClass:"item_value_nextdate"},["Paid"===t.renewData.host.status&&"onetime"!==t.renewData.host.billingcycle&&"free"!==t.renewData.host.billingcycle?a("span",[t.$moment(1e3*t.renewData.host.nextduedate).diff(t.$moment(new Date),"days")>=7?a("span",{staticClass:"content_expire_label",style:{background:"#3fbf70"}},[t._v(t._s("还剩"+t.overdue))]):t._e(),t.$moment(1e3*t.renewData.host.nextduedate).diff(t.$moment(new Date),"days")<7&&t.$moment(1e3*t.renewData.host.nextduedate).diff(t.$moment(new Date),"seconds")>0?a("span",{staticClass:"content_expire_label",style:{background:"#f7a200"}},[t._v("即将到期")]):t._e(),t.$moment(1e3*t.renewData.host.nextduedate).diff(t.$moment(new Date),"seconds")<=0?a("span",{staticClass:"content_expire_label",style:{background:"#ee5186"}},[t._v("已逾期")]):t._e()]):t._e(),"Unpaid"===t.renewData.host.status?a("span",{staticClass:"content_expire_label",style:{background:"#ee5186"}},[t._v("未支付")]):t._e()])]),a("div",{staticClass:"flexc"},["Paid"===t.renewData.host.status&&"onetime"!==t.baseData.host_data.billingcycle&&"free"!==t.baseData.host_data.billingcycle?a("el-button",{staticClass:"custom_btn",attrs:{type:"primary",size:"small"},on:{click:function(e){t.renewDialogVisible=!0}}},[t._v("立即续费")]):t._e(),"Unpaid"===t.renewData.host.status?a("el-button",{staticClass:"custom_btn",attrs:{type:"primary",size:"small"},on:{click:t.payNow}},[t._v("立即支付")]):t._e(),t.host_cancel.init||"Active"!==t.baseData.host_data.domainstatus&&"Suspended"!==t.baseData.host_data.domainstatus?t._e():a("div",{staticClass:"ml-10"},[0===t.host_cancel.length?a("el-button",{staticClass:"fz-12",staticStyle:{height:"33px","line-height":"0","box-shadow":"0px 4px 20px 2px rgba(6, 75, 179, 0.08)","border-radius":"4px",border:"solid 1px #e5e5e5"},on:{click:function(e){t.cancelDialog=!0}}},[t._v("停用")]):a("el-button",{staticClass:"fz-12",staticStyle:{height:"33px",border:"none","border-radius":"4px","line-height":"0"},attrs:{type:"danger"},on:{click:t.deleteCancel}},[t._v(t._s("Immediate"!==t.host_cancel.type?"到期时停用":"立即停用"))])],1)],1)])]),a("div",{staticClass:"box_info_item"},[a("div",{staticClass:"info_item_label"},[t._v("订购日期")]),a("div",{staticClass:"info_item_value"},[t._v(t._s(t.renewData.host.regdate?t.$moment(1e3*t.renewData.host.regdate).format("YYYY-MM-DD"):"-"))])]),a("div",{staticClass:"box_info_item"},[a("div",{staticClass:"info_item_label"},[t._v("付款周期")]),a("div",{staticClass:"info_item_value"},[t._v(t._s(t.renewData.host.billingcycle_zh))])]),a("div",{staticClass:"box_info_item"},[a("div",{staticClass:"info_item_label"},[t._v("到期时间")]),a("div",{staticClass:"info_item_value"},[t._v(t._s(t.baseData.host_data.nextduedate&&"free"!==t.baseData.host_data.billingcycle&&"onetime"!==t.baseData.host_data.billingcycle?t.$moment(1e3*t.baseData.host_data.nextduedate).format("YYYY-MM-DD"):"不到期"))])]),a("div",{staticClass:"box_info_item"},[a("div",{staticClass:"info_item_label"},[t._v("自动余额续费")]),a("div",{staticClass:"info_item_value"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:t.autoRenew},model:{value:t.baseData.host_data.initiative_renew,callback:function(e){t.$set(t.baseData.host_data,"initiative_renew",e)},expression:"baseData.host_data.initiative_renew"}})],1)])])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"bottom_box p-20"},[a("el-tabs",{on:{"tab-click":t.getCustom},model:{value:t.tabActiveName,callback:function(e){t.tabActiveName=e},expression:"tabActiveName"}},[a("el-tab-pane",{attrs:{label:"服务器信息",name:"1"}},["1"===t.tabActiveName?a("serverinfo",{attrs:{baseData:t.baseData},on:{taskDone:t.getBaseData}}):t._e()],1),a("el-tab-pane",{attrs:{label:"配置选项",name:"2"}},["2"===t.tabActiveName?a("config",{attrs:{baseData:t.baseData}}):t._e()],1),a("el-tab-pane",{attrs:{label:"财务信息",name:"3"}},["3"===t.tabActiveName?a("finance"):t._e()],1),"Active"===t.baseData.host_data.domainstatus&&(t.baseData.host_data.allow_upgrade_config||t.baseData.host_data.allow_upgrade_product)?a("el-tab-pane",{attrs:{label:"升降级",name:"4"}},["4"===t.tabActiveName?a("upgrade",{attrs:{baseData:t.baseData}}):t._e()],1):t._e(),t.baseData.download_data.length?a("el-tab-pane",{attrs:{label:"文件下载",name:"5"}},["5"===t.tabActiveName?a("download",{attrs:{baseData:t.baseData}}):t._e()],1):t._e(),t._l(t.baseData.module_client_area,(function(e){return a("el-tab-pane",{key:"tabpage"+e.key,attrs:{label:e.name,name:e.key}},[a("div",[a("embed",{directives:[{name:"show",rawName:"v-show",value:isNaN(parseInt(t.tabActiveName)),expression:"isNaN(parseInt(tabActiveName))"}],staticStyle:{width:"100%"},attrs:{height:"800",src:t.htmlContent,type:""}})])])})),a("el-tab-pane",{attrs:{label:"日志",name:"6"}},["6"===t.tabActiveName?a("log"):t._e()],1)],2)],1)])],1),[a("el-dialog",{attrs:{title:"",visible:t.renewDialogVisible,width:"600px"},on:{"update:visible":function(e){t.renewDialogVisible=e},open:t.renewDialogOpen}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"renew-dialog-title"},[a("span",{staticClass:"cursor-pointer",class:{"dialog-title-active":1===t.tabIndex},on:{click:function(e){t.tabIndex=1}}},[t._v("立即续费")])])]),1===t.tabIndex?a("div",{staticClass:"renew-dialog-body"},[a("div",{staticStyle:{display:"flex","align-items":"baseline"}},[a("div",{staticClass:"mr-10 tar",staticStyle:{width:"90px"}},[t._v("付款周期")]),a("div",[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.renewCycleChange},model:{value:t.renewCycle,callback:function(e){t.renewCycle=e},expression:"renewCycle"}},t._l(t.renewData.cycle,(function(e,n){return a("el-radio-button",{key:"renew"+n,attrs:{label:e.billingcycle}},[t._v(t._s(e.billingcycle_zh))])})),1)],1)]),a("div",{staticClass:"mt-20 mb-40",staticStyle:{display:"flex","align-items":"baseline"}},[a("div",{staticClass:"mr-10 tar",staticStyle:{width:"60px"}},[t._v("续费价格")]),t.pricingLoading?a("span",{staticClass:"mr-10",staticStyle:{"font-size":"24px",color:"#007bfc"}},[t._v("价格计算中...")]):a("span",{staticClass:"mr-10",staticStyle:{"font-size":"24px",color:"#007bfc"}},[a("span",[t._v(t._s(t.renewData.currency.prefix))]),"ontrial"!==t.renewData.host.billingcycle?a("span",[t._v(t._s(t.renewData.host.amount))]):t._e(),"ontrial"===t.renewData.host.billingcycle?a("span",[t._v(t._s(Number(t.renewData.cycle[0].amount).toFixed(2)))]):t._e()]),t.pricingLoading?t._e():[a("span",[t._v(t._s(t.renewData.currency.suffix?t.renewData.currency.suffix+"/":""))]),"ontrial"!==t.renewData.host.billingcycle?a("span",["day"===t.renewData.host.billingcycle?a("span",[t._v(t._s(t.renewData.pay_type.pay_day_cycle))]):t._e(),"hour"===t.renewData.host.billingcycle?a("span",[t._v(t._s(t.renewData.pay_type.pay_hour_cycle))]):t._e(),t._v(" "+t._s(t.renewData.host.billingcycle_zh)+" ")]):t._e(),"ontrial"===t.renewData.host.billingcycle?a("span",[t._v(t._s(t.renewData.cycle[0].billingcycle_zh))]):t._e()],t.renewData.host.flags?a("span",{staticStyle:{color:"#a5a5a5"}},[t._v(" (客户折扣优惠)")]):t._e()],2),a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.renewPay}},[t._v("立即续费")])],1)]):t._e()]),a("el-dialog",{attrs:{visible:t.cancelDialog,title:t.$t("cloudServer.chooseDeleteTime"),width:"25%","before-close":t.beforeClose},on:{"update:visible":function(e){t.cancelDialog=e},open:t.cancelOpen,opened:t.cancelOpened}},[a("el-form",{ref:"cancelForm",attrs:{model:t.cancelFormData,rules:t.cancelRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:t.$t("cloudServer.cancelTime"),prop:"type"}},[a("el-select",{staticClass:"w-100",model:{value:t.cancelFormData.type,callback:function(e){t.$set(t.cancelFormData,"type",e)},expression:"cancelFormData.type"}},[a("el-option",{attrs:{value:"Immediate",label:t.$t("cloudServer.immediate")}}),"free"!==t.baseData.host_data.billingcycle&&"onetime"!==t.baseData.host_data.billingcycle?a("el-option",{attrs:{value:"Endofbilling",label:t.$t("cloudServer.waitingForEnd")}}):t._e()],1)],1),a("el-form-item",{staticClass:"limit_sel",attrs:{label:t.$t("cloudServer.cancelReason"),prop:"tempReason"}},[a("el-select",{staticClass:"w-100",on:{change:function(e){t.cancelFormData.reason=""}},model:{value:t.cancelFormData.tempReason,callback:function(e){t.$set(t.cancelFormData,"tempReason",e)},expression:"cancelFormData.tempReason"}},[t._l(t.cancelistOptions,(function(t,e){return a("el-option",{key:"cancel"+e,style:{maxWidth:"600px"},attrs:{value:t.reason,label:t.reason}})})),a("el-option",{attrs:{value:"other",label:t.$t("cloudServer.other")}})],2)],1),"other"===t.cancelFormData.tempReason?a("el-form-item",{attrs:{label:"",prop:"reason"}},[a("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:t.$t("cloudServer.pleaseEnterReason")},model:{value:t.cancelFormData.reason,callback:function(e){t.$set(t.cancelFormData,"reason",e)},expression:"cancelFormData.reason"}})],1):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.beforeClose}},[t._v(t._s(t.$t("cloudServer.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelSubmit}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1),a("payNew",{ref:"control",on:{"pay-success":t.getRenewData,"balance-success":t.getRenewData}})]],2)},s=[],r=(a("4160"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),i=a("b311"),o=a.n(i),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"serverinfo_box"},[n("div",{staticClass:"serverinfo_box_row"},[n("div",{staticClass:"serverinfo_box_item label"},[t._v("用户名")]),n("div",{staticClass:"serverinfo_box_item value"},[t._v(t._s(t.baseData.host_data.username))])]),n("div",{staticClass:"serverinfo_box_row"},[n("div",{staticClass:"serverinfo_box_item label"},[t._v("密码")]),n("div",{staticClass:"serverinfo_box_item value"},[!t.showPwd&&t.baseData.host_data.password?n("span",{staticStyle:{display:"inline-block",width:"100px"}},[t._v("**********")]):t._e(),t.showPwd&&t.baseData.host_data.password?n("span",[t._v(t._s(t.baseData.host_data.password))]):t._e(),t.baseData.host_data.password?n("i",{staticClass:"el-icon-view ml-10 cursor-pointer",on:{click:function(e){t.showPwd=!t.showPwd}}}):t._e(),t.baseData.host_data.password?n("i",{ref:t.baseData.host_data.password,staticClass:"iconfont icon-fuzhiyemian ml-10 cursor-pointer",staticStyle:{color:"#506cfe"},attrs:{"data-clipboard-text":t.baseData.host_data.password},on:{click:function(e){return t.clickCopy(t.baseData.host_data.password)},mouseenter:function(e){return t.clickCopy(t.baseData.host_data.password)}}}):t._e()])]),n("div",{staticClass:"serverinfo_box_row"},[n("div",{staticClass:"serverinfo_box_item label"},[t._v("端口")]),n("div",{staticClass:"serverinfo_box_item value"},[t._v(t._s(t.baseData.host_data.port||"默认"))])])]),n("div",{staticClass:"control_box mt-20 clearfix"}),[n("el-dialog",{attrs:{title:t.$t("standaloneServer.controlReinstallSystem"),visible:t.reinstallDialog,width:"30%"},on:{"update:visible":function(e){t.reinstallDialog=e},closed:t.reinstallClosed}},[n("el-row",{attrs:{gutter:15}},[n("el-form",{ref:"reinstallForm",attrs:{model:t.reinstallFormData,rules:t.reinstallFormRules,"label-width":"80px"}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:t.$t("standaloneServer.os"),prop:"osVal"}},[n("el-row",[t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?n("el-col",{staticClass:"mb-10",staticStyle:{"padding-right":"10px"},attrs:{xs:24,lg:12}},[n("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.osGroupChange},model:{value:t.reinstallFormData.groupVal,callback:function(e){t.$set(t.reinstallFormData,"groupVal",e)},expression:"reinstallFormData.groupVal"}},[n("template",{slot:"prefix"},[n("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+t.osSvgSelected+".svg",alt:""}})]),t._l(t.cloudOsGroupOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[n("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2)],1):t._e(),n("el-col",{attrs:{xs:24,lg:12}},[n("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},model:{value:t.reinstallFormData.osVal,callback:function(e){t.$set(t.reinstallFormData,"osVal",e)},expression:"reinstallFormData.osVal"}},t._l(t.filterOsOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)],1)],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.reinstallCancle}},[t._v(t._s(t.$t("btnCancle")))]),n("el-button",{attrs:{type:"primary"},on:{click:t.reinstall}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),n("el-dialog",{attrs:{title:t.$t("cloudServer.crackPwd"),visible:t.crackDialog,width:"600px"},on:{"update:visible":function(e){t.crackDialog=e},close:t.creakonClose}},[n("el-form",{ref:"crackPassword",attrs:{model:t.crackFrom,"label-width":"80px"}},[n("el-form-item",{staticClass:"creakInput",staticStyle:{"margin-bottom":"10px"},attrs:{label:t.$t("cloudServer.pwd"),prop:"password",rules:[{required:!0,message:this.$t("cloudServer.pwdEmpty")}]}},[n("el-input",{model:{value:t.crackFrom.password,callback:function(e){t.$set(t.crackFrom,"password",e)},expression:"crackFrom.password"}}),n("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(e){return t.creatCode(12)}}}),n("i",{ref:t.crackFrom.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":t.crackFrom.password},on:{click:function(e){return t.clickCopy(t.crackFrom.password)},mouseenter:function(e){return t.clickCopy(t.crackFrom.password)}}})],1),t.errorMsg?n("div",{staticClass:"el-form-item__content"},[n("div",{staticClass:"el-form-item__error",staticStyle:{left:"80px"}},[t._v(t._s(t.errorMsg))])]):t._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveCrack}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1),n("Reinstall",{ref:"reinstallDia",attrs:{visible:t.reinstallVis,title:"重装系统"},on:{"update:visible":function(e){t.reinstallVis=e},"reinstall-success":t.reinstallDcimSuc}}),n("Crackpass",{ref:"crackpassDia",attrs:{visible:t.crackPassVis,title:"破解密码"},on:{"update:visible":function(e){t.crackPassVis=e},"crackpass-success":t.crackpassDcimSuc}})]],2)},l=[],u=(a("4de4"),a("4d63"),a("ac1f"),a("25f0"),a("4f73")),d=a("dc55"),p=a("048a"),f=a("2ef0"),m={components:{Reinstall:u["a"],Crackpass:d["a"]},data:function(){return{crackPassVis:!1,reinstallVis:!1,crackRePwd:"",reinstallDialog:!1,reinstallFormData:{groupVal:"",osVal:""},reinstallFormRules:{},cloudOsGroupOptions:[],cloudOsOptions:[],filterOsOptions:[],osSvgSelected:void 0,crackDialog:!1,crackFrom:{password:""},errorMsg:"",showPwd:!1}},props:{baseData:{}},created:function(){},mounted:function(){},methods:{clickCopy:function(t){var e,a=this;e=this.$refs[t].length?this.$refs[t][0]:this.$refs[t];var n=0,s=new o.a(e);s.on("success",(function(t){a.$message.success("复制成功"),n++,n>1&&s.destroy()})),s.on("error",(function(t){a.$message.error("复制失败")}))},creatCode:function(t){this.crackRePwd="";for(var e=parseInt(t),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=0;n<e;n++){var s=Math.floor(62*Math.random());this.crackRePwd+=a[s]}var r=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,i=new RegExp(r);i.test(this.crackRePwd)?this.crackFrom.password=this.crackRePwd:this.creatCode(12)},distributionDcimFunc:function(t){"reinstall"===t.func?this.dcimReinstall():"crack_pass"===t.func&&this.dcimCrackPass()},dcimReinstall:function(){this.$eventBus.$emit("reinstall",this.baseData.host_data.upper_reaches_res),this.reinstallVis=!0},reinstallDcimSuc:function(t){t&&(this.reinstallVis=!1,this.$emit("taskDone"))},dcimCrackPass:function(){this.$eventBus.$emit("crackPass",this.baseData.host_data.upper_reaches_res),this.crackPassVis=!0},crackpassDcimSuc:function(t){t&&(this.crackPassVis=!1,this.$emit("taskDone"))},controlFunc:function(t){var e=this;!this.baseData.host_data.upper_reaches_control_mode||"reinstall"!==t.func&&"crack_pass"!==t.func?"reinstall"===t.func?this.reinstallDialog=!0:"crack_pass"===t.func?(this.creatCode(),this.crackDialog=!0):this.$swal.fire({title:t.name,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(n){var s,r,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=16;break}if(e.$swal.fire("","Loading......","success"),s={id:e.id,func:t.func},"default"!==t.type){a.next=9;break}return a.next=6,Object(p["d"])(s);case 6:r=a.sent,i=r.data,e.totalFunc(i);case 9:if("custom"!==t.type){a.next=16;break}return a.next=12,Object(p["c"])(s);case 12:o=a.sent,c=o.data,e.totalFunc(c),c.url&&window.open(c.url);case 16:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()):this.distributionDcimFunc(t)},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80}):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},osGroupChange:function(t){var e=this;this.reinstallFormData.groupVal=t,this.reinstallFormData.osVal="",this.filterOsOptions=[],this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:"",(this.cloudOsGroupOptions||[]).forEach((function(a){a.id===t&&(e.osSvgSelected=a.osSvg)}))},reinstallCancle:function(){var t=this;this.reinstallDialog=!1,this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstallClosed:function(){var t=this;this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstall:f.debounce(Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.reinstallDialog=!1,e={id:this.id,func:"reinstall",os:this.reinstallFormData.osVal},t.next=4,Object(p["d"])(e);case 4:a=t.sent,n=a.data,this.totalFunc(n);case 7:case"end":return t.stop()}}),t,this)}))),200),creakonClose:function(){this.$refs.crackPassword.resetFields(),this.crackFrom.password=""},saveCrack:f.debounce(Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.crackPassword.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return t.abrupt("return",!1);case 4:return n={id:e.id,func:"crack_pass",password:e.crackFrom.password},t.next=7,Object(p["d"])(n);case 7:s=t.sent,r=s.data,200!==r.status?e.errorMsg=r.msg:(e.crackDialog=!1,e.totalFunc(r));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)}))),200)},computed:{},watch:{}},g=m,h=(a("f973"),a("2877")),b=Object(h["a"])(g,c,l,!1,null,"7b8a65ee",null),_=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"config_box clearfix"},[t._l(t.baseData.config_options,(function(e,n){return a("div",{key:n+"config",staticClass:"config_box_item pr-10"},[a("div",{staticClass:"box_item_name fz-12 color-999"},[t._v(t._s(e.name))]),a("div",{staticClass:"box_item_subname fz-12 color-333"},[5===e.option_type?a("img",{attrs:{src:"/upload/common/system/"+t.getOsSvg(e.sub_name)+".svg",alt:"",width:"15px"}}):t._e(),12===e.option_type?a("img",{attrs:{src:"/upload/common/country/"+e.code+".png",alt:"",width:"20px"}}):t._e(),t._v(" "+t._s(e.sub_name)+" ")])])})),t._l(t.baseData.custom_field_data,(function(e,n){return a("div",{key:n+"config",staticClass:"config_box_item pr-10"},[a("div",{staticClass:"box_item_name fz-12 color-999"},[t._v(t._s(e.fieldname))]),a("div",{staticClass:"box_item_subname fz-12 color-333"},[t._v(t._s(e.value))])])}))],2)])},y=[],x=(a("c975"),{data:function(){return{}},props:{baseData:{}},created:function(){},mounted:function(){},methods:{getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e}},computed:{},watch:{}}),w=x,D=(a("0659"),Object(h["a"])(w,v,y,!1,null,"667df2ee",null)),C=D.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-table",{staticClass:"list_item",attrs:{height:t.$height-630,data:t.tableData,"header-row-class-name":"innerTableHeader","row-class-name":"innerTableRowClass","cell-class-name":"innerTableCellClass"},on:{"sort-change":t.sortChange}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():a("span",[t._v("暂无数据")])]),a("el-table-column",{attrs:{prop:"pay_time",label:"支付时间",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(" "+t._s(t.$moment(1e3*n.pay_time).format("YYYY-MM-DD HH:mm:ss"))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"来源"}}),a("el-table-column",{attrs:{prop:"user",label:"支付金额"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.currency.prefix)+t._s(Number(n.refund)>0?-Number(n.amount_out):n.amount_in)+t._s(t.currency.suffix))])]}}])}),a("el-table-column",{attrs:{prop:"trans_id",label:"流水单号"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.trans_id?a.trans_id:"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gateway",label:"支付方式"}})],1),a("div",{staticClass:"mt-20"},[a("el-pagination",{attrs:{background:"","current-page":t.search.page,"page-size":t.search.limit,"page-sizes":[10,15,20,25],total:t.total,layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage")},on:{"size-change":t.handleSizeChange,"current-change":t.getData,"update:currentPage":function(e){return t.$set(t.search,"page",e)},"update:current-page":function(e){return t.$set(t.search,"page",e)},"update:pageSize":function(e){return t.$set(t.search,"limit",e)},"update:page-size":function(e){return t.$set(t.search,"limit",e)}}})],1)],1)},O=[],S=(a("841c"),a("27fd")),$={data:function(){return{tableLoading:!1,tableData:[],search:{hostid:this.$route.query.id,page:1,limit:10,orderby:"",sort:"desc",keywords:""},total:0,currency:{}}},methods:{getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(S["t"])(t.search.hostid,t.search.page,t.search.limit,t.search.orderby,t.search.sort,t.search.keywords);case 3:if(a=e.sent,n=a.data,t.tableLoading=!1,200===n.status){e.next=9;break}return t.$message.error(n.msg),e.abrupt("return",!1);case 9:t.tableData=n.data.invoices,t.total=n.data.count,t.currency=n.data.currency;case 12:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.search.page=1,this.getData()},sortChange:function(t,e,a){this.search.orderby=t.prop,"ascending"===t.order?this.search.sort="asc":this.search.sort="desc",this.getData()}},created:function(){this.getData()}},j=$,R=(a("1f0a"),Object(h["a"])(j,k,O,!1,null,"2f951d11",null)),P=R.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-row",{attrs:{gutter:30}},[t.baseData.host_data.allow_upgrade_product&&"1"===t.configStep?a("el-col",{staticClass:"upgrade_pro_mb20",attrs:{span:24}},[a("div",{staticClass:"upgrade_pro_box",class:{upgrade_pro_active:t.proMouseOver},on:{mouseover:t.prodMouseOver,mouseleave:t.prodMouseLeave}},["1"===t.proStep?a("el-row",{staticClass:"flexc pro_box_step1"},[a("el-col",{staticClass:"pro_box_label",attrs:{span:4}},[t._v("升降级")]),a("el-col",{staticClass:"pro_box_desc overflow-ellipsis",attrs:{span:16}},[t._v(" 操作系统版本可以升级亦可以降级, 从当前的版本升级到最新版本或恢复之前的旧版本 ")]),a("el-col",{staticClass:"flex-xend",staticStyle:{width:"100px"},attrs:{span:4}},[a("el-button",{staticClass:"pro_box_btn",attrs:{disabled:"1"!==t.configStep},on:{click:t.upgradeProClick}},[t._v("升降级")])],1)],1):t._e(),"2"===t.proStep||"3"===t.proStep?a("div",[a("div",{staticClass:"pro_box_titlebox"},[a("div",{staticStyle:{width:"150px"}},[t._v("升降级")]),a("div",{staticClass:"box_titlebox_desc overflow-ellipsis"}),a("span",{staticClass:"el-icon-circle-close fz-16 cursor-pointer",on:{click:function(e){t.proStep="1"}}})]),"2"===t.proStep?a("div",{staticClass:"pro_box_content mt-20"},[a("div",{staticStyle:{"min-height":"250px",overflow:"auto"}},t._l(t.productList,(function(e,n){return a("el-row",{key:"pro"+n,staticClass:"pro_box_item cursor-pointer",class:{pro_box_item_active:t.upgradeSubmitData.pid===e.pid},style:{opacity:t.upgradeSubmitData.pid===e.pid?1:.5},nativeOn:{click:function(a){return t.proChange(e.pid)}}},[a("el-col",{staticClass:"pro_box_label overflow-ellipsis",attrs:{md:12}},[t.upgradeSubmitData.pid===e.pid?a("span",{staticClass:"iconfont icon-danxuanxuanzhong-copy mr-20",staticStyle:{color:"#2f54ea"}}):a("span",{staticClass:"iconfont icon-danxuanweixuanzhong mr-20"}),a("span",{staticClass:"overflow-ellipsis"},[t._v(t._s(e.host))])]),a("el-col",{staticClass:"pro_box_cycle ml-10",attrs:{md:12}},[a("el-select",{staticStyle:{width:"60%"},attrs:{size:"small",disabled:t.upgradeSubmitData.pid!==e.pid},on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,n){return a("el-option",{key:"cycle"+n,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1)})),1),a("div",{staticClass:"box_content_btn flexc-v"},[a("el-button",{staticClass:"pro_box_pre flexc",on:{click:function(e){t.proStep="1"}}},[t._v("返回")]),a("el-button",{staticClass:"pro_box_next flexc",on:{click:t.proNextHandleClick}},[t._v("下一步")])],1)]):t._e(),"3"===t.proStep?a("div",{staticClass:"pro_box_content mt-20"},[a("div",{staticClass:"pro_box_label",staticStyle:{opacity:"0.5"}},[t._v(t._s(t.proPageData.old_host.host))]),a("div",{staticClass:"pro_box_label"},[t._v("新的产品: "+t._s(t.proPageData.des))]),a("div",{staticClass:"mb-40 fz-14"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix)+" "+t._s(t.proPageData.amount?"/":"")+" "+t._s(t.proPageData.billingcycle_zh))]),a("div",{staticClass:"pro_box_line"}),a("div",{staticClass:"pro_box_total"},[a("label",{staticClass:"mr-20"},[t._v("总计：")]),a("span",{staticStyle:{color:"#2f54ea"}},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+t._s(t.proPageData.suffix)+" "+t._s(t.proPageData.amount_total?"/":"")+" "+t._s(t.proPageData.billingcycle_zh))]),a("span",{staticClass:"fz-12 ml-10 color-999"},[t._v(t._s(t.proPageData.flag?"(客户折扣优惠)":""))])]),a("div",{staticClass:"pro_box_promo"},[a("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"如有优惠券或者优惠码请输入"},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}},[a("el-button",{attrs:{slot:"append"},on:{click:t.addProductCode},slot:"append"},[t._v("应用")])],1)],1),a("div",{staticClass:"box_content_btn flexc-v"},[a("el-button",{staticClass:"pro_box_back flexc",on:{click:t.proBack}},[t._v("返回")]),a("el-button",{staticClass:"pro_box_pay flexc",attrs:{loading:t.btnLoading},on:{click:function(e){return t.settle("pro")}}},[t._v("结算")])],1)]):t._e()]):t._e()],1)]):t._e(),t.baseData.host_data.allow_upgrade_config&&"1"===t.proStep?a("el-col",{class:{"mt-20":"1"===t.configStep},attrs:{span:24}},[a("div",{staticClass:"upgrade_config_box",class:{upgrade_config_active:t.configMouseOver},on:{mouseover:t.conMouseOver,mouseleave:t.conMouseLeave}},["1"===t.configStep?a("el-row",{staticClass:"flexc config_box_step1"},[a("el-col",{staticClass:"config_box_label",attrs:{span:4}},[t._v("升降级选项")]),a("el-col",{staticClass:"config_box_desc overflow-ellipsis",attrs:{span:16}},[t._v(" 对IP数量、操作系统位数、CPU核心数、内存大小等, 都可以选择升级或降级 ")]),a("el-col",{staticClass:"flex-xend",staticStyle:{width:"100px"},attrs:{span:4}},[a("el-button",{staticClass:"config_box_btn flexc",attrs:{disabled:"1"!==t.proStep},on:{click:t.upgradeConfigHandleClick}},[t._v("升降级选项")])],1)],1):t._e(),"2"===t.configStep||"3"===t.configStep?a("div",[a("div",{staticClass:"config_box_titlebox"},[a("div",{staticStyle:{width:"200px"}},[t._v("升降级选项")]),a("div",{staticClass:"box_titlebox_desc overflow-ellipsis"}),a("span",{staticClass:"el-icon-circle-close fz-16 cursor-pointer",on:{click:function(e){t.configStep="1"}}})]),"2"===t.configStep?a("div",{staticClass:"config_box_content mt-20"},[a("div",{staticClass:"box_content_item"},[a("div",{},t._l(t.configs,(function(e,n){return a("div",{key:"confignew"+n,staticClass:"mb-20 content_item_label"},[a("div",{staticClass:"flexc-v fl lh-20 mr-10"},[a("label",{staticStyle:{display:"inline-block",width:"60px"}},[t._v(t._s(e.option_name)+"：")]),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("myInput",{attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:t.changeConfigsData},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}):t._e(),4===e.option_type||15===e.option_type?a("span",[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",[t._v(t._s(t.$t("cloudServer.core")))]):t._e(),9===e.option_type||17===e.option_type?a("span",[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",[t._v("GB")]):t._e()],1),1===e.option_type?a("el-select",{attrs:{size:"mini",placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.changeConfigsData},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{disabled:t.disabled,label:t.show_pricing,value:t.id}})})),1):t._e(),2===e.option_type?a("div",t._l(e.sub,(function(n,s){return a("el-radio",{key:"Radio"+s,attrs:{disabled:n.disabled,label:n.id},on:{change:t.changeConfigsData},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(n.option_name))])})),1):t._e(),[6,8,10,13].includes(e.option_type)?a("myRadio",{staticClass:"mt-10",attrs:{radioData:e.sub},on:{change:t.changeConfigsData},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}}):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("mySlider",{staticClass:"ml-5 mr-5 clearboth",attrs:{value:2,sliderData:e.sub,min:e.qty_minimum,max:e.qty_maximum},on:{change:t.changeConfigsData},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}):t._e()],1)})),0)]),a("div",{staticClass:"box_content_btn flexc-v"},[a("el-button",{staticClass:"config_box_pre flexc",on:{click:function(e){t.configStep="1"}}},[t._v("返回")]),a("el-button",{staticClass:"config_box_next flexc",attrs:{disabled:t.nextDisable},on:{click:t.configNextHandleClick}},[t._v("下一步")])],1)]):t._e(),"3"===t.configStep?a("div",{staticClass:"config_box_content mt-20"},[a("div",{staticClass:"config_box_step3 overflow-ellipsis"},[t._v(t._s(t.configPageData.name))]),a("div",{staticClass:"clearfix mb-20 config_box_oldconfig"},[a("ul",{staticClass:"pl-20"},t._l(t.configs,(function(e,n){return a("li",{key:"configold"+n,staticClass:"fl mr-50 mb-20"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(" "+t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",[t._v(t._s(t.$t("cloudServer.core")))]):t._e(),9===e.option_type||17===e.option_type?a("span",[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))])])})),0)]),a("div",{staticClass:"clearfix mb-20"},[a("ul",{staticClass:"pl-20"},t._l(t.configPageData.alloption,(function(e,n){return a("li",{key:n,staticClass:"fl mr-50 mb-20"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0)]),a("div",{staticClass:"mb-40 fz-14"},[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix)+" "+t._s(t.configPageData.subtotal?"/":"")+" "+t._s(t.configPageData.billingcycle_zh))]),a("div",{staticClass:"config_box_line"}),a("div",{staticClass:"config_box_total"},[a("label",{staticClass:"mr-20 fz-14"},[t._v("总计")]),a("span",[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix)+" "+t._s(t.configPageData.total?"/":"")+" "+t._s(t.configPageData.billingcycle_zh))]),a("span",{staticClass:"fz-12 ml-10 color-999"},[t._v(t._s(t.configPageData.flag?"(客户折扣优惠)":""))])]),a("div",{staticClass:"config_box_promo"},[a("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"如有优惠券或者优惠码请输入"},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}},[a("el-button",{attrs:{slot:"append"},on:{click:t.addConfigCode},slot:"append"},[t._v("应用")])],1)],1),a("div",{staticClass:"box_content_btn flexc-v"},[a("el-button",{staticClass:"config_box_back flexc",on:{click:t.configBack}},[t._v("返回")]),a("el-button",{staticClass:"config_box_pay flexc",attrs:{loading:t.btnLoading},on:{click:function(e){return t.settle("config")}}},[t._v("结算")])],1)]):t._e()]):t._e()],1)]):t._e()],1),a("el-dialog",{attrs:{title:"提示",visible:t.settleDialogVis,width:"600px"},on:{"update:visible":function(e){t.settleDialogVis=e}}},[a("div",{staticClass:"force_off_tips mb-20"},[a("div",{staticClass:"mb-20"},[t._v("升降级需要服务器在关机状态下进行：")]),a("div",{staticClass:"mb-10"},[a("span",{staticClass:"red-point"}),t._v(" 为了避免数据丢失，实例将关机中断您的业务，请仔细确认。 ")]),a("div",[a("span",{staticClass:"red-point"}),t._v(" 强制关机可能会导致数据丢失或文件系统损坏，您也可以主动关机后再进行操作。 ")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.settleSure}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)]),a("payNew",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},q=[],z=(a("a623"),a("caad"),a("d81d"),a("d3b7"),a("2532"),a("5319"),a("4c53"),a("a748")),I=a("42bc"),E=a("eb02"),L=a("4f32"),M=a("ecca"),V=a("2ef0"),N={mixins:[M["a"]],data:function(){return{proStep:"1",promo:"",cycle:"",proMouseOver:!1,configStep:"1",configMouseOver:!1,value1:"1",productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{},proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},id:this.$route.query.id,configs:[1],configsInit:[],upgradeConfigSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0,groupid:this.$route.query.groupid,configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",btnLoading:!1,settleDialogVis:!1,settleType:"pro"}},props:{baseData:{}},components:{myRadio:z["default"],myInput:I["default"],mySlider:E["default"]},methods:{upgradeProClick:function(){this.proStep="2",this.proMouseOver=!1},prodMouseOver:function(){"1"===this.configStep&&"1"===this.proStep&&(this.proMouseOver=!0)},prodMouseLeave:function(){"1"===this.configStep&&"1"===this.proStep&&(this.proMouseOver=!1)},conMouseOver:function(){"1"===this.configStep&&"1"===this.proStep&&(this.configMouseOver=!0)},conMouseLeave:function(){"1"===this.configStep&&"1"===this.proStep&&(this.configMouseOver=!1)},upgradeConfigHandleClick:function(){this.configStep="2",this.configMouseOver=!1},getProStep2Data:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["C"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,n=a.data,200!==n.status||((n.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=n.data.host[0].pid,t.productList=n.data.host,t.currency=n.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},proNextHandleClick:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(L["E"])(t.upgradeSubmitData);case 4:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$emit("nextClick"),t.getProStep3Data(),t.proStep="3");case 7:case"end":return e.stop()}}),e)})))()},getProStep3Data:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["D"])({hid:t.id});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.proPageData=n.data,t.promoCode=n.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getProStep3Data());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:V.throttle(Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(L["i"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.main({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),proBack:function(){this.proStep="2",this.getProStep2Data()},getConfigStep2Data:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["z"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,n=a.data,200!==n.status||((n.data.host||[]).forEach((function(e){if(e.id=e.oid,e.disabled=!1,(e.sub||[]).forEach((function(t){t.disabled=!1})),5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.originalData={option:n.data.host,link:n.data.links.map((function(t){for(var e in t.sub_id){var a=t.sub_id[e];a.qty_minimum=parseInt(a.qty_minimum),a.qty_maximum=parseInt(a.qty_maximum)}return t}))},t.configs=n.data.host,t.configsInit=JSON.parse(JSON.stringify(n.data.host)),t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},changeConfigsData:function(){var t=this;this.configsInit.forEach((function(e){t.configs.forEach((function(t){e.id===t.id&&([4,7,9,11,14,15,16,17,18,19].includes(t.option_type)?t.nextDisable=e.qty===t.qty:t.nextDisable=e.subid===t.subid)}))})),this.nextDisable=this.configs.every((function(t){return t.nextDisable})),this.clearOption()},objToArr:function(t,e){var a=[];for(var n in t)"dataCenter"===e?(t[n].id=this.guid(),t[n].active=!1,t[n].city=n,t[n].areaId=void 0):t[n].osName=n,a.push(t[n]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(n){if(5!==n.option_type)return!1;var s=function(s){t===s&&(n.subid=n.sub[s].child[0].id,n.osVersionOptions=n.sub[s].child),e?(n.sub[s].child||[]).forEach((function(t){n.subid===t.id&&(n.osName=s,n.osVersionOptions=n.sub[s].child)})):a.nextDisable=!1};for(var r in n.sub)s(r)}))},configNextHandleClick:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeConfigSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeConfigSubmitData.configoption[e.oid]=e.qty:t.upgradeConfigSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(L["B"])(t.$qs.stringify(t.upgradeConfigSubmitData));case 4:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$emit("nextClick"),t.getConfigStep3Data(),t.configStep="3");case 7:case"end":return e.stop()}}),e)})))()},getConfigStep3Data:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["A"])({hid:t.id});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.configPageData=n.data,t.promoCode=n.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=6;break}return e.next=3,Object(L["x"])({hid:t.id});case 3:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigStep3Data());case 6:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigStep3Data());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:V.throttle(Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(L["h"])(this.$qs.stringify(e));case 6:n=t.sent,s=n.data,200===s.status?this.$refs.control.main({id:s.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===s.status?(this.$message.success(s.msg),this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})):this.$message.error(s.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})},configBack:function(){this.configStep="2",this.getConfigStep2Data()},settle:function(t){this.settleType=t,this.settleDialogVis=!0},settleSure:function(){this.settleDialogVis=!1,"pro"===this.settleType?this.proUpgradePay():this.configUpgradePay()}},created:function(){this.getProStep2Data(),this.getConfigStep2Data()}},A=N,T=(a("4cd3"),Object(h["a"])(A,F,q,!1,null,"5327172d",null)),B=T.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_log"},[a("div",{staticClass:"standaloneserver_log_search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_log_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:t.$height-600,data:t.tableData,"header-row-class-name":"innerTableHeader","row-class-name":"innerTableRowClass","cell-class-name":"innerTableCellClass"},on:{"sort-change":t.changeSort}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():a("span",[t._v("暂无数据")])]),a("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("div",[t._v(t._s(t.$moment(1e3*n.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("div",{domProps:{innerHTML:t._s(n.description)}})]}}])}),a("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1)],1),a("div",{staticClass:"standaloneserver_log_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},G=[],H={data:function(){return{page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},tableData:[],tableLoading:!1}},methods:{getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(S["q"])(t.$route.query.id,t.page,t.limit,t.orderby,t.sort,t.search.input);case 3:if(a=e.sent,n=a.data,t.tableLoading=!1,200===n.status){e.next=9;break}return t.$message.error(n.msg),e.abrupt("return",!1);case 9:t.total=n.data.count,t.tableData=n.data.log_list;case 11:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()}},created:function(){this.getData()},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}}},U=H,J=(a("a51f"),Object(h["a"])(U,Y,G,!1,null,"be33ae98",null)),Z=J.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"support_main_right"},[n("div",{staticClass:"main_right_list"},[t.fileList.length?t._e():n("span",{staticClass:"emptyText"},[t._v("此分组下暂无文件下载")]),t._l(t.fileList,(function(e,s){return n("div",{key:s,staticClass:"right_list_item",on:{mouseenter:function(a){return t.changeDownIcon(e)},mouseleave:function(a){return t.changeDownIcon(e)}}},[e.hover||1===e.clientsonly?t._e():n("img",{staticClass:"downloadIcon",attrs:{src:a("9f0f"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}}}),e.hover&&1!==e.clientsonly?n("img",{staticClass:"downloadIcon",attrs:{src:a("abb1"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}}}):t._e(),1===e.clientsonly?n("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:e.title}},[n("img",{staticClass:"downloadIcon",attrs:{slot:"reference",src:a("ad78"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}},slot:"reference"})]):t._e(),n("div",{staticClass:"item_img"},["1"===e.type?n("img",{attrs:{src:a("81cd"),alt:"",width:"55px"}}):t._e(),"2"===e.type?n("img",{attrs:{src:a("7441"),alt:"",width:"55px"}}):t._e(),"3"===e.type?n("img",{attrs:{src:a("a83a"),alt:"",width:"55px"}}):t._e()]),n("div",{staticClass:"item_msg"},[n("div",{staticClass:"item_msg_title"},[n("span",[t._v(t._s(e.title))])]),n("div",{staticClass:"item_msg_download"},[n("span",[t._v("已下："+t._s(e.downloads)+"次")])]),n("div",{staticClass:"item_msg_info"},[n("span",[t._v(t._s(e.description))])])])],1)}))],2)])])},W=[],K=a("a78e"),X=a.n(K),tt={data:function(){return{fileList:[]}},props:{baseData:{type:Object,default:function(){return{}}}},methods:{changeDownIcon:function(t){t.hover=!t.hover,this.$forceUpdate()},downLoad:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.url?open(t.url+"&jwt="+X.a.get("OrfLcI2IqQItv0vS")):e.$message.error("该文件没有下载链接");case 1:case"end":return a.stop()}}),a)})))()}},created:function(){this.fileList=this.baseData.download_data}},et=tt,at=(a("1215"),Object(h["a"])(et,Q,W,!1,null,"6291a4ae",null)),nt=at.exports,st=a("4a8e"),rt=a("2ef0"),it={metaInfo:function(){return{title:"其他服务器"}},data:function(){return{hid:this.$route.query.id,tabActiveName:"1",htmlContent:"",baseData:{currency:{},host_data:{group:{}},download_data:[]},renewData:{currency:{prefix:""},cycle:[],host:{firstpaymentamount:""},pay_type:{}},overdue:0,tabIndex:1,renewDialogVisible:!1,renewCycle:"",renewPrice:"",pricingLoading:!1,renewRecordTableData:[],renewRecordSearch:{hostid:this.$route.query.id,page:1,limit:10,order:"trans_id",sort:"desc",keywords:""},renewTotal:0,host_cancel:{init:!0},cancelistOptions:[],cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]}}},components:{serverinfo:_,config:C,finance:P,log:Z,upgrade:B,download:nt},created:function(){this.getBaseData(),this.getCancelPage()},mounted:function(){},methods:{back:function(){this.$router.go(-1)},getBaseData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(st["e"])(t.hid);case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.baseData=n.data,t.getRenewData();case 8:case"end":return e.stop()}}),e)})))()},getRenewData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pricingLoading=!0,e.next=3,Object(S["u"])(t.hid,t.renewCycle||t.baseData.host_data.billingcycle);case 3:if(a=e.sent,n=a.data,t.pricingLoading=!1,200===n.status){e.next=8;break}return e.abrupt("return",!1);case 8:t.renewData=n.data,n.data.host.nextduedate&&"free"!==n.data.host.billingcycle&&"onetime"!==n.data.host.billingcycle?(t.overdue=t.$moment(1e3*n.data.host.nextduedate).diff(t.$moment(new Date),"days")+t.$t("standaloneServer.day"),0===parseInt(t.overdue)&&(t.overdue=t.$moment(1e3*n.data.host.nextduedate).diff(t.$moment(new Date),"hours")+t.$t("standaloneServer.hour"))):t.overdue="","ontrial"===n.data.host.billingcycle?t.renewCycle=n.data.cycle[0].billingcycle:t.renewCycle=n.data.host.billingcycle;case 11:case"end":return e.stop()}}),e)})))()},renewCycleChange:function(){var t=this;this.getRenewData(),(this.renewData.cycle||[]).forEach((function(e){t.renewCycle===e.billingcycle&&(t.renewPrice=e.amount)}))},payNow:rt.debounce((function(){this.$refs.control.main({id:this.renewData.host.id,name:this.$t("standaloneServer.pay")})}),200),renewPay:rt.debounce(Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.renewDialogVisible=!1,t.next=3,Object(L["y"])({hostid:this.hid,billingcycles:this.renewCycle});case 3:e=t.sent,a=e.data,1001===a.status?(this.$message.success(a.msg),this.getRenewData()):200===a.status?this.$refs.control.main({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")}):this.$message.error(a.msg);case 6:case"end":return t.stop()}}),t,this)}))),200),renewDialogOpen:function(){this.tabIndex=1},getRenewRecord:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["t"])(t.renewRecordSearch);case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.renewRecordTableData=n.data.invoices,t.renewTotal=n.data.count;case 8:case"end":return e.stop()}}),e)})))()},handleReSizeChange:function(t){this.renewRecordSearch.limit=t,this.getRenewRecord()},autoRenew:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])({hostid:t.hid,initiative_renew:t.baseData.host_data.initiative_renew});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):t.$message.success(n.msg);case 5:case"end":return e.stop()}}),e)})))()},getCancelPage:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["e"])({host_id:t.hid});case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.host_cancel=n.data.host_cancel,t.cancelistOptions=n.data.cancelist;case 8:case"end":return e.stop()}}),e)})))()},cancelSubmit:function(){var t=this,e="";e="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;t.cancelDialog=!1,t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["f"])(t.cancelFormData);case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.getBaseData(),t.getCancelPage(),t.$message.success(n.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}))}))},cancelOpen:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.cancelFormData.type=void 0,t.cancelFormData.tempReason=void 0,t.cancelFormData.reason="";case 3:case"end":return e.stop()}}),e)})))()},cancelOpened:function(){this.$refs.cancelForm.clearValidate()},beforeClose:function(){var t=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){t.$refs.cancelForm.clearValidate(),t.cancelDialog=!1}),100)},deleteCancel:function(){var t=this,e="";e="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["m"])({id:t.hid});case 2:a=e.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.getBaseData(),t.getCancelPage(),t.$message.success(n.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}))},clickCopy:function(t){var e,a=this;e=this.$refs[t].length?this.$refs[t][0]:this.$refs[t];var n=0,s=new o.a(e);s.on("success",(function(t){a.$message.success("复制成功"),n++,n>1&&s.destroy()})),s.on("error",(function(t){a.$message.error("复制失败")}))},getCustom:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&(parseInt(t.name)<=6||(n=localStorage.getItem("OrfLcI2IqQItv0vS"),e.htmlContent=e.$baseUrl+"/provision/custom/content?id="+e.hid+"&key="+t.name+"&jwt="+n));case 1:case"end":return a.stop()}}),a)})))()}},computed:{},watch:{}},ot=it,ct=(a("4365"),Object(h["a"])(ot,n,s,!1,null,"1aea33ac",null));e["default"]=ct.exports},e87d:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i}));var n=a("a27e");function s(t){return Object(n["a"])({url:"/upper/dcim_client/reinstall",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/upper/dcim_client/get_os",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/upper/dcim_client/crack_pass",method:"post",data:t})}},ecca:function(t,e,a){"use strict";a("a623"),a("7db0"),a("c740"),a("4160"),a("caad"),a("d81d"),a("b64b"),a("d3b7"),a("25f0"),a("2532"),a("9911"),a("4c53"),a("159b");var n=a("53ca"),s=[4,7,9,11,14,15,16,17,18,19];e["a"]={data:function(){return{originalData:{}}},watch:{configs:{handler:function(t){this.matchingCondition(),this.clearOptionValue()},deep:!0,immediate:!0}},methods:{clearOption:function(){(this.configs||[]).forEach((function(t){"object"===Object(n["a"])(t)&&(t.disabled=!1,(t.sub||[]).forEach((function(t){t.disabled=!1})))}))},clearOptionValue:function(){var t=this;this.$nextTick((function(){(t.configs||[]).forEach((function(e){if(s.includes(e.option_type)){if(!e.disabled){var a=(t.originalData.option||[]).find((function(t){return t.id===e.id}));e.sub=a.sub}e.qty_maximum=Math.max.apply(Math,e.sub.map((function(t){return t.qty_maximum}))),e.qty_minimum=Math.min.apply(Math,e.sub.map((function(t){return t.qty_minimum})))}else(e.sub||[]).forEach((function(t){if(t.disabled&&(e.subid===t.id||void 0===e.subid)){var a=e.sub.findIndex((function(t){return!1===t.disabled}));e.subid=-1!==a?e.sub[a].id:void 0}}))}))}))},matchingCondition:function(){var t=this;(this.configs||[]).forEach((function(e){"object"===Object(n["a"])(e)&&(t.originalData.link||[]).forEach((function(a){if(a.config_id===e.id){var n=!1;switch(a.relation){case"seq":if(s.includes(e.option_type))for(var r in a.sub_id){var i=a.sub_id[r];e.qty<=i.qty_maximum&&e.qty>=i.qty_minimum&&(n=!0)}else Object.keys(a.sub_id).includes((e.subid||"").toString())&&(n=!0);break;case"sneq":s.includes(e.option_type)?n=Object.keys(a.sub_id).every((function(t){var n=a.sub_id[t];if(e.qty>n.qty_maximum||e.qty<n.qty_minimum)return!0})):Object.keys(a.sub_id).includes((e.subid||"").toString())||(n=!0);break;default:break}n&&(a.result||[]).forEach((function(e){t.changeOptions(e)}))}}))}))},changeOptions:function(t){if(!t.sub_id)return!1;(this.configs||[]).forEach((function(e){if(e.id===t.config_id)switch(t.relation){case"seq":(e.sub||[]).forEach((function(a){s.includes(e.option_type)&&(a.qty_maximum=t.sub_id[a.id].qty_maximum,a.qty_minimum=t.sub_id[a.id].qty_minimum),Object.keys(t.sub_id).includes((a.id||"").toString())||(a.disabled=!0)}));break;case"sneq":(e.sub||[]).forEach((function(e){Object.keys(t.sub_id).includes((e.id||"").toString())&&(e.disabled=!0)}));break;default:break}}))}}}},f973:function(t,e,a){"use strict";var n=a("0311"),s=a.n(n);s.a}}]);