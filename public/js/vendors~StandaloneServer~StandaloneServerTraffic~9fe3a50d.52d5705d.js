(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors~StandaloneServer~StandaloneServerTraffic~9fe3a50d"],{"0f88":function(t,e,i){"use strict";function n(t,e,i){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate((function(t){return{lineDashOffset:(1-t)*n}}),e)}i.d(e,"a",(function(){return n}))},1674:function(t,e,i){"use strict";var n=i("9ab4"),o=i("7fa2"),r=function(t){function e(e){var i=t.call(this)||this;i.destroyed=!1;var n=e.visible,o=void 0===n||n;return i.visible=o,i}return Object(n["__extends"])(e,t),e.prototype.show=function(){var t=this.visible;t||(this.visible=!0,this.changeVisible(!0))},e.prototype.hide=function(){var t=this.visible;t&&(this.visible=!1,this.changeVisible(!1))},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(o["default"]);e["a"]=r},"17cb":function(t,e,i){"use strict";function n(t,e,i){var n=i.toAttrs,o=n.x,r=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:o,y:r},e)}i.d(e,"a",(function(){return n}))},"33be":function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("479c"),a=i("088c"),s=i("68b7"),c=i("74ab"),p=i("7d3d"),h=i("4a4d"),u=i("5142"),l=["container"],d=Object(n["__assign"])(Object(n["__assign"])({},s["a"]),{appear:null}),g=function(t){function e(e){var i=t.call(this,e)||this;return i.cache=new Map,i.gridContainer=i.view.getLayer(r["g"].BG).addGroup(),i.axisContainer=i.view.getLayer(r["g"].BG).addGroup(),i}return Object(n["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().axes,this.createXAxes(),this.createYAxes()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();Object(o["each"])(this.getComponents(),(function(i){var n,o=i.component,a=i.direction,s=i.type,h=i.extra,u=h.dim,l=h.scale,d=h.alignTick;if(s===r["b"].AXIS)e.isPolar?"x"===u?n=e.isTransposed?Object(c["d"])(e,a):Object(c["g"])(e):"y"===u&&(n=e.isTransposed?Object(c["g"])(e):Object(c["d"])(e,a)):n=Object(c["d"])(e,a);else if(s===r["b"].GRID)if(e.isPolar){var g=void 0;g=e.isTransposed?"x"===u?Object(p["a"])(e,t.view.getYScales()[0],l,d,u):Object(p["c"])(e,l,u,d):"x"===u?Object(p["c"])(e,l,u,d):Object(p["a"])(e,t.view.getXScale(),l,d,u),n={items:g,center:t.view.getCoordinate().getCenter()}}else n={items:Object(p["c"])(e,l,u,d)};o.update(n)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(i,n){t.has(n)?e.set(n,i):i.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=e.field,n=Object(c["c"])(this.option,e.field);if(!1!==n){var a=this.view.getCoordinate(),s=this.getId("axis",i),p=this.getId("grid",i),u=Object(c["a"])(n,r["c"].BOTTOM),d=r["g"].BG,g="x";if(a.isRect){var f=this.cache.get(s);if(f){var v=this.getLineAxisCfg(e,n,u);Object(h["b"])(v,l),f.component.update(v),t.set(s,f)}else f=this.createLineAxis(e,n,d,u,g),this.cache.set(s,f),t.set(s,f);var y=this.cache.get(p);if(y){v=this.getLineGridCfg(e,n,u,g);Object(h["b"])(v,l),y.component.update(v),t.set(p,y)}else y=this.createLineGrid(e,n,d,u,g),y&&(this.cache.set(p,y),t.set(p,y))}else if(a.isPolar){f=this.cache.get(s);if(f){v=a.isTransposed?this.getLineAxisCfg(e,n,"radius"):this.getCircleAxisCfg(e,n,u);Object(h["b"])(v,l),f.component.update(v),t.set(s,f)}else{if(a.isTransposed){if(Object(o["isUndefined"])(n))return;f=this.createLineAxis(e,n,d,"radius",g)}else f=this.createCircleAxis(e,n,d,u,g);this.cache.set(s,f),t.set(s,f)}y=this.cache.get(p);if(y){v=a.isTransposed?this.getCircleGridCfg(e,n,"radius",g):this.getLineGridCfg(e,n,"circle",g);Object(h["b"])(v,l),y.component.update(v),t.set(p,y)}else{if(a.isTransposed){if(Object(o["isUndefined"])(n))return;y=this.createCircleGrid(e,n,d,"radius",g)}else y=this.createLineGrid(e,n,d,"circle",g);y&&(this.cache.set(p,y),t.set(p,y))}}}}},e.prototype.updateYAxes=function(t){var e=this,i=this.view.getYScales();Object(o["each"])(i,(function(i,n){if(i&&!i.isIdentity){var a=i.field,s=Object(c["c"])(e.option,a);if(!1!==s){var p=r["g"].BG,u="y",d=e.getId("axis",a),g=e.getId("grid",a),f=e.view.getCoordinate();if(f.isRect){var v=Object(c["a"])(s,0===n?r["c"].LEFT:r["c"].RIGHT),y=e.cache.get(d);if(y){var b=e.getLineAxisCfg(i,s,v);Object(h["b"])(b,l),y.component.update(b),t.set(d,y)}else y=e.createLineAxis(i,s,p,v,u),e.cache.set(d,y),t.set(d,y);var O=e.cache.get(g);if(O){b=e.getLineGridCfg(i,s,v,u);Object(h["b"])(b,l),O.component.update(b),t.set(g,O)}else O=e.createLineGrid(i,s,p,v,u),O&&(e.cache.set(g,O),t.set(g,O))}else if(f.isPolar){y=e.cache.get(d);if(y){b=f.isTransposed?e.getCircleAxisCfg(i,s,"circle"):e.getLineAxisCfg(i,s,"radius");Object(h["b"])(b,l),y.component.update(b),t.set(d,y)}else{if(f.isTransposed){if(Object(o["isUndefined"])(s))return;y=e.createCircleAxis(i,s,p,"circle",u)}else y=e.createLineAxis(i,s,p,"radius",u);e.cache.set(d,y),t.set(d,y)}O=e.cache.get(g);if(O){b=f.isTransposed?e.getLineGridCfg(i,s,"circle",u):e.getCircleGridCfg(i,s,"radius",u);Object(h["b"])(b,l),O.component.update(b),t.set(g,O)}else{if(f.isTransposed){if(Object(o["isUndefined"])(s))return;O=e.createLineGrid(i,s,p,"circle",u)}else O=e.createCircleGrid(i,s,p,"radius",u);O&&(e.cache.set(g,O),t.set(g,O))}}}}}))},e.prototype.createXAxes=function(){var t=this.view.getXScale();if(t&&!t.isIdentity){var e=Object(c["c"])(this.option,t.field);if(!1!==e){var i=Object(c["a"])(e,r["c"].BOTTOM),n=r["g"].BG,a="x",s=this.view.getCoordinate(),p=this.getId("axis",t.field),h=this.getId("grid",t.field);if(s.isRect){var u=this.createLineAxis(t,e,n,i,a);this.cache.set(p,u);var l=this.createLineGrid(t,e,n,i,a);l&&this.cache.set(h,l)}else if(s.isPolar){u=void 0,l=void 0;if(s.isTransposed){if(Object(o["isUndefined"])(e))return;u=this.createLineAxis(t,e,n,"radius",a),l=this.createCircleGrid(t,e,n,"radius",a)}else u=this.createCircleAxis(t,e,n,i,a),l=this.createLineGrid(t,e,n,"circle",a);this.cache.set(p,u),l&&this.cache.set(h,l)}}}},e.prototype.createYAxes=function(){var t=this,e=this.view.getYScales();Object(o["each"])(e,(function(e,i){if(e&&!e.isIdentity){var n=e.field,a=Object(c["c"])(t.option,n);if(!1!==a){var s=r["g"].BG,p="y",h=t.getId("axis",n),u=t.getId("grid",n),l=t.view.getCoordinate();if(l.isRect){var d=Object(c["a"])(a,0===i?r["c"].LEFT:r["c"].RIGHT),g=t.createLineAxis(e,a,s,d,p);t.cache.set(h,g);var f=t.createLineGrid(e,a,s,d,p);f&&t.cache.set(u,f)}else if(l.isPolar){g=void 0,f=void 0;if(l.isTransposed){if(Object(o["isUndefined"])(a))return;g=t.createCircleAxis(e,a,s,"circle",p),f=t.createLineGrid(e,a,s,"circle",p)}else g=t.createLineAxis(e,a,s,"radius",p),f=t.createCircleGrid(e,a,s,"radius",p);t.cache.set(t.getId("axis",e.field),g),f&&t.cache.set(u,f)}}}}))},e.prototype.createLineAxis=function(t,e,i,n,o){var s={component:new a["h"](this.getLineAxisCfg(t,e,n)),layer:i,direction:"radius"===n?r["c"].NONE:n,type:r["b"].AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,e,i,n,s){var c=this.getLineGridCfg(t,e,n,s);if(c){var p={component:new a["i"](c),layer:i,direction:r["c"].NONE,type:r["b"].GRID,extra:{dim:s,scale:t,alignTick:Object(o["get"])(c,"alignTick",!0)}};return p.component.init(),p}},e.prototype.createCircleAxis=function(t,e,i,n,o){var s={component:new a["c"](this.getCircleAxisCfg(t,e,n)),layer:i,direction:n,type:r["b"].AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,e,i,n,s){var c=this.getCircleGridCfg(t,e,n,s);if(c){var p={component:new a["d"](c),layer:i,direction:r["c"].NONE,type:r["b"].GRID,extra:{dim:s,scale:t,alignTick:Object(o["get"])(c,"alignTick",!0)}};return p.component.init(),p}},e.prototype.getLineAxisCfg=function(t,e,i){var r=this.axisContainer,a=this.view.getCoordinate(),s=Object(c["d"])(a,i),p=Object(c["f"])(t,e),h=Object(c["e"])(this.view.getTheme(),i),u=Object(o["get"])(e,["title"])?Object(o["deepMix"])({title:{style:{text:p}}},e):e,l=Object(o["deepMix"])(Object(n["__assign"])(Object(n["__assign"])({container:r},s),{ticks:t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}})),verticalFactor:a.isPolar?-1*Object(c["b"])(s,a.getCenter()):Object(c["b"])(s,a.getCenter())}),h,u),d=this.getAnimateCfg(l),g=d.animate,f=d.animateOption;return l.animateOption=f,l.animate=g,l},e.prototype.getLineGridCfg=function(t,e,i,n){if(Object(p["d"])(Object(c["e"])(this.view.getTheme(),i),e)){var r=Object(p["b"])(this.view.getTheme(),i),a=Object(o["deepMix"])({container:this.gridContainer},r,Object(o["get"])(e,"grid"),this.getAnimateCfg(e));return a.items=Object(p["c"])(this.view.getCoordinate(),t,n,Object(o["get"])(a,"alignTick",!0)),a}},e.prototype.getCircleAxisCfg=function(t,e,i){var r=this.axisContainer,a=this.view.getCoordinate(),s=t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}));t.isCategory||Math.abs(a.endAngle-a.startAngle)!==2*Math.PI||s.pop();var p=Object(c["f"])(t,e),h=Object(c["e"])(this.view.getTheme(),"circle"),u=Object(o["get"])(e,["title"])?Object(o["deepMix"])({title:{style:{text:p}}},e):e,l=Object(o["deepMix"])(Object(n["__assign"])(Object(n["__assign"])({container:r},Object(c["g"])(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),h,u),d=this.getAnimateCfg(l),g=d.animate,f=d.animateOption;return l.animate=g,l.animateOption=f,l},e.prototype.getCircleGridCfg=function(t,e,i,n){if(Object(p["d"])(Object(c["e"])(this.view.getTheme(),i),e)){var r=Object(p["b"])(this.view.getTheme(),"radius"),a=Object(o["deepMix"])({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(o["get"])(e,"grid"),this.getAnimateCfg(e)),s=Object(o["get"])(a,"alignTick",!0),h="x"===n?this.view.getYScales()[0]:this.view.getXScale();return a.items=Object(p["a"])(this.view.getCoordinate(),h,t,s,n),a}},e.prototype.getId=function(t,e){var i=this.view.getCoordinate();return t+"-"+e+"-"+i.type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(o["get"])(t,"animate"),animateOption:t&&t.animateOption?Object(o["deepMix"])({},d,t.animateOption):d}},e}(u["a"]);e["a"]=g},"479c":function(t,e,i){"use strict";var n,o,r;i.d(e,"g",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"f",(function(){return c})),i.d(e,"k",(function(){return a})),i.d(e,"j",(function(){return s})),i.d(e,"e",(function(){return p})),i.d(e,"d",(function(){return h})),i.d(e,"i",(function(){return u})),i.d(e,"h",(function(){return l})),i.d(e,"a",(function(){return d})),function(t){t["FORE"]="fore",t["MID"]="mid",t["BG"]="bg"}(n||(n={})),function(t){t["TOP"]="top",t["TOP_LEFT"]="top-left",t["TOP_RIGHT"]="top-right",t["RIGHT"]="right",t["RIGHT_TOP"]="right-top",t["RIGHT_BOTTOM"]="right-bottom",t["LEFT"]="left",t["LEFT_TOP"]="left-top",t["LEFT_BOTTOM"]="left-bottom",t["BOTTOM"]="bottom",t["BOTTOM_LEFT"]="bottom-left",t["BOTTOM_RIGHT"]="bottom-right",t["NONE"]="none"}(o||(o={})),function(t){t["AXIS"]="axis",t["GRID"]="grid",t["LEGEND"]="legend",t["TOOLTIP"]="tooltip",t["ANNOTATION"]="annotation",t["OTHER"]="other"}(r||(r={}));var a,s,c={FORE:3,MID:2,BG:1};(function(t){t["BEFORE_RENDER"]="beforerender",t["AFTER_RENDER"]="afterrender",t["BEFORE_PAINT"]="beforepaint",t["AFTER_PAINT"]="afterpaint",t["BEFORE_CHANGE_DATA"]="beforechangedata",t["AFTER_CHANGE_DATA"]="afterchangedata",t["BEFORE_CLEAR"]="beforeclear",t["AFTER_CLEAR"]="afterclear",t["BEFORE_DESTROY"]="beforedestroy"})(a||(a={})),function(t){t["MOUSE_ENTER"]="plot:mouseenter",t["MOUSE_DOWN"]="plot:mousedown",t["MOUSE_MOVE"]="plot:mousemove",t["MOUSE_UP"]="plot:mouseup",t["MOUSE_LEAVE"]="plot:mouseleave",t["TOUCH_START"]="plot:touchstart",t["TOUCH_MOVE"]="plot:touchmove",t["TOUCH_END"]="plot:touchend",t["TOUCH_CANCEL"]="plot:touchcancel",t["CLICK"]="plot:click",t["DBLCLICK"]="plot:dblclick",t["CONTEXTMENU"]="plot:contextmenu",t["LEAVE"]="plot:leave",t["ENTER"]="plot:enter"}(s||(s={}));var p=["color","shape","size"],h="_origin",u=1,l=1,d=.25},5142:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("8937"),o=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(){Object(n["each"])(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}()},"51c2":function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("088c"),a=i("ba6d"),s=i("0779"),c=i("ff7d"),p=i("5142");function h(t){for(var e=[],i=function(i){var n=t[i],r=Object(o["find"])(e,(function(t){return t.color===n.color&&t.name===n.name&&t.value===n.value&&t.title===n.title}));r||e.push(n)},n=0;n<t.length;n++)i(n);return e}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e.isVisible=!0,e}return Object(n["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){var t=this.view.getOptions().tooltip;this.isVisible=!1!==t},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible){var e=this.view,i=this.getTooltipItems(t);if(i.length){var r=this.getTitle(i),a={x:i[0].x,y:i[0].y};e.emit("tooltip:show",Object(n["__assign"])({items:i,title:r},t));var s=this.getTooltipCfg(),c=s.follow,p=s.showMarkers,h=s.showCrosshairs,u=s.showContent,l=s.marker,d=this.items,g=this.title;if(Object(o["isEqual"])(g,r)&&Object(o["isEqual"])(d,i)?(this.tooltip&&c&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Object(n["__assign"])({items:i,title:r},t)),u&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(o["mix"])({},s,{items:i,title:r},c?t:{})),this.tooltip.show()),p&&this.renderTooltipMarkers(i,l)),this.items=i,this.title=r,h){var f=Object(o["get"])(s,["crosshairs","follow"],!1);this.renderCrosshairs(f?t:a,s)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(t){var e=this.tooltipMarkersGroup;e&&e.hide();var i=this.xCrosshair,n=this.yCrosshair;i&&i.hide(),n&&n.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,i=t.xCrosshair,n=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),i&&i.clear(),n&&n.clear(),o&&o.clear()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,i=e.tooltip,n=e.tooltipMarkersGroup,o=e.xCrosshair,r=e.yCrosshair;t?(i&&i.show(),n&&n.show(),o&&o.show(),r&&r.show()):(i&&i.hide(),n&&n.hide(),o&&o.hide(),r&&r.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=Object(o["flatten"])(e);for(var i=0,n=e;i<n.length;i++)for(var r=n[i],a=0,s=r;a<s.length;a++){var c=s[a],p=c.mappingData,u=p.x,l=p.y;c.x=Object(o["isArray"])(u)?u[u.length-1]:u,c.y=Object(o["isArray"])(l)?l[l.length-1]:l}var d=this.getTooltipCfg().shared;if(!1===d&&e.length>1){for(var g=e[0],f=Math.abs(t.y-g[0].y),v=0,y=e;v<y.length;v++){var b=y[v],O=Math.abs(t.y-b[0].y);O<=f&&(g=b,f=O)}e=[g]}return h(Object(o["flatten"])(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){this.point&&this.showTooltip(this.point)},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=t.getTheme(),n=Object(o["get"])(i,["components","tooltip"],{}),r=Object(o["isUndefined"])(Object(o["get"])(e,"enterable"))?n.enterable:Object(o["get"])(e,"enterable");return Object(o["deepMix"])({},n,e,{capture:!(!r&&!this.isLocked)})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),o=new r["g"](Object(n["__assign"])(Object(n["__assign"])({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));o.init(),this.tooltip=o},e.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),o=0,r=t;o<r.length;o++){var a=r[o],s=a.x,c=a.y,p=Object(n["__assign"])(Object(n["__assign"])({fill:a.color,symbol:"circle",shadowColor:a.color},e),{x:s,y:c});i.addShape("marker",{attrs:p})}},e.prototype.renderCrosshairs=function(t,e){var i=Object(o["get"])(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Object(a["f"])(i,t)){var n,c;if(i.isRect)i.isTransposed?(n={x:i.start.x,y:t.y},c={x:i.end.x,y:t.y}):(n={x:t.x,y:i.end.y},c={x:t.x,y:i.start.y});else{var p=Object(a["a"])(i,t),h=i.getCenter(),u=i.getRadius();c=Object(s["f"])(h.x,h.y,u,p),n=h}var l=Object(o["deepMix"])({start:n,end:c,container:this.getTooltipCrosshairsGroup()},Object(o["get"])(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var d=this.xCrosshair;d?d.update(l):(d=new r["f"].Line(l),d.init()),d.render(),d.show(),this.xCrosshair=d}},e.prototype.renderYCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Object(a["f"])(i,t)){var n,s;if(i.isRect){var c=void 0,p=void 0;i.isTransposed?(c={x:t.x,y:i.end.y},p={x:t.x,y:i.start.y}):(c={x:i.start.x,y:t.y},p={x:i.end.x,y:t.y}),n={start:c,end:p},s="Line"}else n={center:i.getCenter(),radius:Object(a["c"])(i,t),startAngle:i.startAngle,endAngle:i.endAngle},s="Circle";n=Object(o["deepMix"])({container:this.getTooltipCrosshairsGroup()},n,Object(o["get"])(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete n.type;var h=this.yCrosshair;h?i.isRect&&"circle"===h.get("type")||!i.isRect&&"line"===h.get("type")?(h=new r["f"][s](n),h.init()):h.update(n):(h=new r["f"][s](n),h.init()),h.render(),h.show(),this.yCrosshair=h}},e.prototype.getCrosshairsText=function(t,e,i){var n=Object(o["get"])(i,["crosshairs","text"]),r=Object(o["get"])(i,["crosshairs","follow"]),a=this.items;if(n){var s=this.getViewWithGeometry(this.view),c=a[0],p=s.getXScale(),h=s.getYScales()[0],u=void 0,l=void 0;if(r){var d=this.view.getCoordinate().invert(e);u=p.invert(d.x),l=h.invert(d.y)}else u=c.data[p.field],l=c.data[h.field];var g="x"===t?u:l;return Object(o["isFunction"])(n)?n=n(t,g,a,e):n.content=g,{text:n}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.getTooltipItemsByHitShape=function(t,e,i){var n=[],o=t.container,r=o.getShape(e.x,e.y);if(r&&r.get("visible")&&r.get("origin")){var a=r.get("origin").mappingData,s=Object(c["b"])(a,t,i);s.length&&n.push(s)}return n},e.prototype.getTooltipItemsByFindData=function(t,e,i){var n=[],o=t.dataArray;t.sort(o);for(var r=0,a=o;r<a.length;r++){var s=a[r],p=Object(c["a"])(e,s,t);if(p){var h=t.getElementId(p),u=t.elementsMap[h];if("heatmap"===t.type||u.visible){var l=Object(c["b"])(p,t,i);l.length&&n.push(l)}}}return n},e.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var i=[],n=t.geometries,o=this.getTooltipCfg(),r=o.shared,a=o.title,s=0,c=n;s<c.length;s++){var p=c[s];if(p.visible&&!1!==p.tooltipOption){var h=p.type,u=void 0;u=["point","edge","polygon"].includes(h)?this.getTooltipItemsByHitShape(p,e,a):["area","line","path","heatmap"].includes(h)||!1!==r?this.getTooltipItemsByFindData(p,e,a):this.getTooltipItemsByHitShape(p,e,a),u.length&&i.push(u)}}for(var l=0,d=t.views;l<d.length;l++){var g=d[l];i=i.concat(this.findItemsFromView(g,e))}return i},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(o["find"])(t.views,(function(t){return e.getViewWithGeometry(t)}))},e}(p["a"]);e["a"]=u},"53a3":function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("479c"),a=i("088c"),s=i("b736"),c=i("70b0"),p=i("4a4d"),h=i("5142"),u=function(t){function e(e){var i=t.call(this,e)||this;return i.onValueChanged=function(t){var e=t[0],n=t[1];i.updateMinMaxText(e,n),i.view.render(!0)},i.container=i.view.getLayer(r["g"].FORE).addGroup(),i}return Object(n["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),i=new s["a"](e.x,e.y,Math.min(e.width,t),e.height),n=Object(c["a"])(this.view.viewBBox,i,r["c"].BOTTOM),o=(n[0],n[1]),a=Object(c["a"])(this.view.coordinateBBox,i,r["c"].BOTTOM),p=a[0];a[1];this.slider.component.update({x:p,y:o,width:t})}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new a["j"](Object(n["__assign"])({container:this.container},t));return e.init(),{component:e,layer:r["g"].FORE,direction:r["c"].BOTTOM,type:r["b"].OTHER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();return Object(p["b"])(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},e.prototype.getSliderCfg=function(){if(Object(o["isObject"])(this.option)){var t=Object(n["__assign"])({data:this.getData()},Object(o["get"])(this.option,"trendCfg",{})),e=0,i=0,r=this.view.coordinateBBox.width,a=Object(o["deepMix"])({},{x:e,y:i,width:r},this.option);return Object(n["__assign"])(Object(n["__assign"])({},a),{trendCfg:t})}return{}},e.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0];return t.map((function(t){return t[e.field]||0}))},e.prototype.updateMinMaxText=function(t,e){var i=this.view.getOptions().data,n=Object(o["size"])(i),r=this.view.getXScale();if(r&&n){var a=r.field,s=i.map((function(t){return t[a]||""})),c=Math.floor(t*(n-1)),h=Math.floor(e*(n-1)),u=Object(o["get"])(s,[c]),l=Object(o["get"])(s,[h]);this.slider.component.update({minText:u,maxText:l,start:t,end:e}),this.view.filter(r.field,(function(t,e,i){return Object(p["a"])(i,c,h)}))}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e}(h["a"]);e["a"]=u},6478:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return c}));var n=i("9ab4"),o=i("e897"),r=i("8937");function a(t,e,i){if(t.isGroup())Object(r["each"])(t.getChildren(),(function(t){a(t,e,i)}));else{var s=t.getBBox(),c=(s.minX+s.maxX)/2,p=(s.minY+s.maxY)/2;if(t.applyToMatrix([c,p,1]),"zoomIn"===i){var h=Object(o["b"])(t.getMatrix(),[["t",-c,-p],["s",.01,.01],["t",c,p]]);t.setMatrix(h),t.animate({matrix:Object(o["b"])(t.getMatrix(),[["t",-c,-p],["s",100,100],["t",c,p]])},e)}else t.animate({matrix:Object(o["b"])(t.getMatrix(),[["t",-c,-p],["s",.01,.01],["t",c,p]])},Object(n["__assign"])(Object(n["__assign"])({},e),{callback:function(){t.remove(!0)}}))}}function s(t,e,i){a(t,e,"zoomIn")}function c(t,e,i){a(t,e,"zoomOut")}},"68b7":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return d}));var n=i("9ab4"),o=i("8937"),r=i("479c"),a=i("e085"),s={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},c={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},p={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){var e;return e=t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function h(t,e){return{delay:Object(o["isFunction"])(t.delay)?t.delay(e):t.delay,easing:Object(o["isFunction"])(t.easing)?t.easing(e):t.easing,duration:Object(o["isFunction"])(t.duration)?t.duration(e):t.duration,callback:t.callback}}function u(t,e,i){var n=c[t];return n&&(Object(o["isFunction"])(n)&&(n=n(e)),n=Object(o["deepMix"])({},s,n),i)?n[i]:n}function l(t,e,i){var n=Object(o["get"])(t.get("origin"),"data",r["d"]),s=e.animation,c=h(e,n);if(s){var p=Object(a["a"])(s);p&&p(t,c,i)}else t.animate(i.toAttrs,c)}function d(t,e,i,r,c){if(p[i]){var h=p[i](r),u=Object(a["a"])(Object(o["get"])(h,"animation",""));if(u){var l=Object(n["__assign"])(Object(n["__assign"])(Object(n["__assign"])({},s.appear),h),e);t.stopAnimate(),u(t,l,{coordinate:r,minYPoint:c,toAttrs:null})}}}},"766a":function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("479c"),a=i("088c"),s=i("68b7"),c=i("b736"),p=i("70b0"),h=i("4a4d"),u=i("6671"),l=i("9c82"),d=i("5142");function g(t,e){return Object(o["isBoolean"])(t)?!1!==t&&{}:Object(o["get"])(t,[e],t)}function f(t){return Object(o["get"])(t,"position",r["c"].BOTTOM)}var v=function(t){function e(e){var i=t.call(this,e)||this;return i.container=i.view.getLayer(r["g"].FORE).addGroup(),i}return Object(n["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(e,i,n){var o=t.createFieldLegend(e,i,n);o&&(o.component.init(),t.components.push(o))};if(Object(o["get"])(this.option,"custom")){var i=this.createCustomLegend(void 0,void 0,void 0,this.option);if(i){i.init();var n=r["g"].FORE,a=f(this.option);this.components.push({id:"global-custom",component:i,layer:n,direction:a,type:r["b"].LEGEND,extra:void 0})}}else this.loopLegends(e)},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,Object(o["each"])(this.components,(function(e){var i=e.component,n=e.direction,o=Object(u["c"])(n),r=t.getCategoryLegendSizeCfg(o),a=i.get("maxWidth"),s=i.get("maxHeight");i.update({maxWidth:Math.min(r.maxWidth,a||0),maxHeight:Math.min(r.maxHeight,s||0)});var h=i.getLayoutBBox(),l=new c["a"](h.x,h.y,h.width,h.height),d=Object(p["a"])(t.view.coordinateBBox,l,n),g=d[0],f=d[1],v=Object(p["a"])(t.layoutBBox,l,n),y=v[0],b=v[1],O=0,m=0;n.startsWith("top")||n.startsWith("bottom")?(O=g,m=b):(O=y,m=f),i.update({x:O,y:m}),t.layoutBBox=t.layoutBBox.cut(l,n)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},i=function(i,n,r){var a=t.getId(r.field),s=t.getComponentById(a);if(s){var c=void 0,p=g(t.option,r.field);!1!==p&&(Object(o["get"])(p,"custom")?c=t.getCategoryCfg(i,n,r,p,!0):r.isLinear?c=t.getContinuousCfg(i,n,r,p):r.isCategory&&(c=t.getCategoryCfg(i,n,r,p))),c&&(Object(h["b"])(c,["container"]),s.direction=f(p),s.component.update(c),e[a]=!0)}else{var u=t.createFieldLegend(i,n,r);u&&(u.component.init(),t.components.push(u),e[a]=!0)}};if(Object(o["get"])(this.option,"custom")){var n="global-custom",a=this.getComponentById(n);if(a){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Object(h["b"])(s,["container"]),a.component.update(s),e[n]=!0}else{var c=this.createCustomLegend(void 0,void 0,void 0,this.option);if(c){c.init();var p=r["g"].FORE,u=f(this.option);this.components.push({id:n,component:c,layer:p,direction:u,type:r["b"].LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends(i);var l=[];Object(o["each"])(this.getComponents(),(function(t){e[t.id]?l.push(t):t.component.destroy()})),this.components=l},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,i=t.geometries;return Object(o["each"])(t.views,(function(t){i=i.concat(e.getGeometries(t))})),i},e.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(e){var i=this.getGeometries(this.view),n={};Object(o["each"])(i,(function(e){var i=e.getGroupAttributes();Object(o["each"])(i,(function(i){var o=i.getScale(i.type);o&&"identity"!==o.type&&!n[o.field]&&(t(e,i,o),n[o.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,i){var n,a=g(this.option,i.field),s=r["g"].FORE,c=f(a);if(!1!==a&&(Object(o["get"])(a,"custom")?n=this.createCustomLegend(t,e,i,a):i.isLinear?n=this.createContinuousLegend(t,e,i,a):i.isCategory&&(n=this.createCategoryLegend(t,e,i,a))),n)return n.set("field",i.field),{id:this.getId(i.field),component:n,layer:s,direction:c,type:r["b"].LEGEND,extra:{scale:i}}},e.prototype.createCustomLegend=function(t,e,i,n){var o=this.getCategoryCfg(t,e,i,n,!0);return new a["b"](o)},e.prototype.createContinuousLegend=function(t,e,i,n){var o=this.getContinuousCfg(t,e,i,n);return new a["e"](o)},e.prototype.createCategoryLegend=function(t,e,i,n){var o=this.getCategoryCfg(t,e,i,n);return new a["b"](o)},e.prototype.getContinuousCfg=function(t,e,i,n){var r=i.getTicks(),a=Object(o["find"])(r,(function(t){return 0===t.value})),c=Object(o["find"])(r,(function(t){return 1===t.value})),p=r.map((function(t){var n=t.value,o=t.tickValue,r=e.mapping(i.invert(n)).join("");return{value:o,attrValue:r,color:r,scaleValue:n}}));a||p.push({value:i.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),c||p.push({value:i.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1}),p.sort((function(t,e){return t.value-e.value}));var h={min:Object(o["head"])(p).value,max:Object(o["last"])(p).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(h.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(h.colors=p.map((function(t){return t.attrValue})));var d=this.container,g=f(n),v=Object(u["c"])(g),y=Object(o["get"])(n,"title");return y&&(y=Object(o["deepMix"])({text:Object(l["b"])(i)},y)),h.container=d,h.layout=v,h.title=y,h.animateOption=s["a"],this.mergeLegendCfg(h,n,"continuous")},e.prototype.getCategoryCfg=function(t,e,i,n,a){var c=this.container,p=Object(o["get"])(n,"position",r["c"].BOTTOM),h=Object(o["get"])(this.view.getTheme(),["components","legend",p,"marker"]),d=Object(o["get"])(n,"marker"),g=Object(u["c"])(p),f=a?Object(u["a"])(h,d,n.items):Object(u["b"])(this.view,t,e,h,d),v=Object(o["get"])(n,"title");v&&(v=Object(o["deepMix"])({text:i?Object(l["b"])(i):""},v));var y=this.getCategoryLegendSizeCfg(g);y.container=c,y.layout=g,y.items=f,y.title=v,y.animateOption=s["a"];var b=this.mergeLegendCfg(y,n,p);return b.reversed&&b.items.reverse(),b},e.prototype.mergeLegendCfg=function(t,e,i){var n=Object(o["get"])(this.view.getTheme(),["components","legend",i],{});return Object(o["deepMix"])({},n,t,e)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return Object(o["find"])(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,i=e.width,n=e.height,o=this.view.coordinateBBox,a=o.width,s=o.height;return"vertical"===t?{maxWidth:i*r["a"],maxHeight:s}:{maxWidth:a,maxHeight:n*r["a"]}},e}(d["a"]);e["a"]=v},8298:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i("8937");function o(t,e,i){var o={fillOpacity:Object(n["isNil"])(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(n["isNil"])(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(n["isNil"])(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(o,e)}function r(t,e,i){var n={fillOpacity:0,strokeOpacity:0,opacity:0},o=e.easing,r=e.duration,a=e.delay;t.animate(n,r,o,(function(){t.remove(!0)}),a)}},c471:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return c}));var n=i("e897");function o(t,e,i){var o,r=e[0],a=e[1];return t.applyToMatrix([r,a,1]),"x"===i?(t.setMatrix(Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",.01,1],["t",r,a]])),o=Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",100,1],["t",r,a]])):"y"===i?(t.setMatrix(Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",1,.01],["t",r,a]])),o=Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",1,100],["t",r,a]])):"xy"===i&&(t.setMatrix(Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",.01,.01],["t",r,a]])),o=Object(n["b"])(t.getMatrix(),[["t",-r,-a],["s",100,100],["t",r,a]])),o}function r(t,e,i,n,r){var a,s,c=i.start,p=i.end,h=i.getWidth(),u=i.getHeight();"y"===r?(a=c.x+h/2,s=n.y<c.y?n.y:c.y):"x"===r?(a=n.x>c.x?n.x:c.x,s=c.y+u/2):"xy"===r&&(i.isPolar?(a=i.getCenter().x,s=i.getCenter().y):(a=(c.x+p.x)/2,s=(c.y+p.y)/2));var l=o(t,[a,s],r);t.animate({matrix:l},e)}function a(t,e,i){var n=i.coordinate,o=i.minYPoint;r(t,e,n,o,"x")}function s(t,e,i){var n=i.coordinate,o=i.minYPoint;r(t,e,n,o,"y")}function c(t,e,i){var n=i.coordinate,o=i.minYPoint;r(t,e,n,o,"xy")}},cc19:function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("68b7"),a=i("f088"),s=i("0779"),c=i("550c"),p=function(){function t(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,i=t.container;this.layout=e,this.container=i}return t.prototype.render=function(t,e,i){var a=this;void 0===i&&(i=!1),this.shapesMap={};for(var c=this.container,p=this.createOffscreenGroup(),h=0,u=t;h<u.length;h++){var l=u[h];l&&this.renderLabel(l,p)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t);var d=this.lastShapesMap,g=this.shapesMap;Object(o["each"])(g,(function(t,e){if(t.destroyed)delete g[e];else{if(d[e]){var p=t.get("data"),h=t.get("origin"),u=t.get("coordinate"),l=d[e],f=t.get("animateCfg");l.set("data",p),l.set("origin",h),l.set("animateCfg",f),l.set("coordinate",u);var v=Object(o["get"])(f,"update"),y=l.getChildren();t.getChildren().map((function(t,e){var i=y[e];i.set("data",p),i.set("origin",h),i.set("animateCfg",f),i.set("coordinate",u);var n=Object(s["d"])(i,t);v?Object(r["b"])(i,v,{toAttrs:n,coordinate:u}):i.attr(n)})),a.shapesMap[e]=l}else{c.add(t);var b=Object(o["get"])(t.get("animateCfg"),i?"enter":"appear");b&&Object(r["b"])(t,b,{toAttrs:Object(n["__assign"])({},t.attr()),coordinate:t.get("coordinate")})}delete d[e]}})),Object(o["each"])(d,(function(t){var e=Object(o["get"])(t.get("animateCfg"),"leave");e?Object(r["b"])(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.lastShapesMap=g,p.destroy()},t.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},t.prototype.renderLabel=function(t,e){var i,r=t.id,a=t.data,s=t.mappingData,p=t.coordinate,h=t.animate,u=t.content,l={id:r,data:a,origin:s,coordinate:p},d=e.addGroup(Object(n["__assign"])({name:"label",animateCfg:!1!==this.animate&&null!==h&&!1!==h&&Object(o["deepMix"])({},this.animate,h)},l));if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var g=u.getCanvasBBox(),f=g.width,v=g.height,y=Object(o["get"])(t,"textAlign","left"),b=t.x,O=t.y-v/2;"center"===y?b-=f/2:"right"!==y&&"end"!==y||(b-=f),Object(c["c"])(u,b,O),i=u,d.add(u)}else i=d.addShape("text",Object(n["__assign"])({attrs:Object(n["__assign"])({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(o["get"])(t,"textBaseline","middle"),text:t.content},t.style)},l));t.rotate&&Object(c["a"])(i,t.rotate),this.shapesMap[r]=d},t.prototype.doLayout=function(t,e){var i=this;if(this.layout){var n=Object(o["isArray"])(this.layout)?this.layout:[this.layout];Object(o["each"])(n,(function(n){var r=Object(a["b"])(Object(o["get"])(n,"type",""));if(r){var s=[],c=[];Object(o["each"])(i.shapesMap,(function(t,i){s.push(t),c.push(e[i])})),r(t,s,c,i.region,n.cfg)}}))}},t.prototype.renderLabelLine=function(t){var e=this;Object(o["each"])(t,(function(t){if(t&&t.labelLine){var i=Object(o["get"])(t,"labelLine",{}),r=t.id,a=i.path;if(!a){var s=t.start;a=[["M",s.x,s.y],["L",t.x,t.y]]}var c=e.shapesMap[r];c.destroyed||c.addShape("path",{capture:!1,attrs:Object(n["__assign"])({path:a,stroke:t.color?t.color:Object(o["get"])(t,["style","fill"],"#000"),fill:null},i.style),id:r,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}))},t.prototype.createOffscreenGroup=function(){var t=this.container,e=t.getGroupBase(),i=new e({});return i},t.prototype.adjustLabel=function(t){var e=this;Object(o["each"])(t,(function(t){if(t){var i=t.id,n=e.shapesMap[i];if(!n.destroyed){var o=n.find((function(t){return"text"===t.get("type")}));o&&(t.offsetX&&o.attr("x",o.attr("x")+t.offsetX),t.offsetY&&o.attr("y",o.attr("y")+t.offsetY))}}}))},t}();e["a"]=p},ce72:function(t,e,i){"use strict";i.d(e,"b",(function(){return L})),i.d(e,"a",(function(){return I["a"]})),i.d(e,"f",(function(){return y})),i.d(e,"i",(function(){return S})),i.d(e,"m",(function(){return R["b"]})),i.d(e,"j",(function(){return k["c"]})),i.d(e,"k",(function(){return k["d"]})),i.d(e,"l",(function(){return h["c"]})),i.d(e,"d",(function(){return h["b"]})),i.d(e,"h",(function(){return p["b"]})),i.d(e,"c",(function(){return u["a"]})),i.d(e,"n",(function(){return u["b"]})),i.d(e,"g",(function(){return a["b"]})),i.d(e,"e",(function(){return P["b"]}));var n=i("9ab4"),o=i("8937"),r=i("479c"),a=i("580d"),s=i("090e"),c=i("1674"),p=i("b12a"),h=i("12e3"),u=i("db2f"),l=i("b736"),d=i("ba6d"),g=i("4a4d"),f=i("ff7d"),v={};function y(t,e){v[t]=e}function b(){return Object.keys(v)}function O(t){return v[t]}var m=i("088c"),j=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return Object(o["some"])(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var i=this.option,o=i.type,r=i.cfg,a="theta"===o,s=Object(n["__assign"])({start:t,end:e},r),c=Object(m["k"])(a?"polar":o);return this.coordinate=new c(s),this.coordinate.type=o,a&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return Object(n["__assign"])({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,i=this.option.actions;Object(o["each"])(i,(function(i){var n,r=i[0],a=i.slice(1),s=!!Object(o["isNil"])(t)||t.includes(r);s&&(n=e.coordinate)[r].apply(n,a)}))},t}(),x=j,C=function(){function t(t,e,i){this.view=t,this.gEvent=e,this.data=i,this.type=e.type}return Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}(),w=C,T=i("ad83"),E=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.top=t,this.right=e,this.bottom=i,this.left=n}return t.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];return this.top+=e,this.right+=i,this.bottom+=n,this.left+=o,this},t.prototype.inc=function(t,e){var i=t.width,n=t.height;switch(e){case r["c"].TOP:case r["c"].TOP_LEFT:case r["c"].TOP_RIGHT:this.top+=n;break;case r["c"].RIGHT:case r["c"].RIGHT_TOP:case r["c"].RIGHT_BOTTOM:this.right+=i;break;case r["c"].BOTTOM:case r["c"].BOTTOM_LEFT:case r["c"].BOTTOM_RIGHT:this.bottom+=n;break;case r["c"].LEFT:case r["c"].LEFT_TOP:case r["c"].LEFT_BOTTOM:this.left+=i;break;default:break}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t}();function _(t){var e=t.padding;if(!Object(T["a"])(e))return Object(T["b"])(e);var i=t.viewBBox,n=new E;return Object(o["each"])(t.getComponents(),(function(t){var e=t.component,o=t.type;if(o!==r["b"].GRID&&o!==r["b"].TOOLTIP){var a=e.getLayoutBBox(),s=new l["a"](a.x,a.y,a.width,a.height);if(o===r["b"].AXIS){var c=s.exceed(i);n.shrink(c)}else{var p=t.direction;n.inc(s,p)}}})),n.getPadding()}function G(t){var e=t.getController("axis"),i=t.getController("legend"),n=t.getController("annotation"),o=t.getController("slider"),r=_(t),a=t.viewBBox.shrink(r);t.coordinateBBox.isEqual(a)?n&&n.layout():(t.coordinateBBox=a,t.adjustCoordinate(),[e,o,i,n].forEach((function(t){t&&t.layout()})))}var M=i("9c82"),A=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,i,n){var r=i,a=this.getScaleMeta(n);if(0===e.length&&a){var s=a.scale,c={type:s.type};s.isCategory&&(c.values=s.values),r=Object(o["deepMix"])(c,a.scaleDef,i)}var p=Object(M["a"])(t,e,r);return this.cacheScale(p,i,n),p},t.prototype.sync=function(){var t=this;this.syncScales.forEach((function(e,i){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=[];Object(o["each"])(e,(function(e){var i=t.getScale(e);r=Object(o["isNumber"])(i.max)?Math.max(r,i.max):r,n=Object(o["isNumber"])(i.min)?Math.min(n,i.min):n,Object(o["each"])(i.values,(function(t){a.includes(t)||a.push(t)}))})),Object(o["each"])(e,(function(e){var i=t.getScale(e);i.isContinuous?i.change({min:n,max:r,values:a}):i.isCategory&&i.change({values:a})}))}))},t.prototype.cacheScale=function(t,e,i){var n=this.getScaleMeta(i);n&&n.scale.type===t.type?(Object(M["c"])(n.scale,t),n.scaleDef=e):(n={key:i,scale:t,scaleDef:e},this.scales.set(i,n));var o=this.getSyncKey(n);if(n.syncKey=o,this.removeFromSyncScales(i),o){var r=this.syncScales.get(o);r||(r=[],this.syncScales.set(o,r)),r.push(i)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var i=Object(o["last"])(t.split("-")),n=this.syncScales.get(i);n&&n.length&&(e=this.getScaleMeta(n[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var i=e.syncKey,n=this.syncScales.get(i);if(n&&n.length){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(i,n){var o=i.indexOf(t);if(-1!==o)return i.splice(o,1),0===i.length&&e.syncScales.delete(n),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,i=t.scaleDef,n=e.field,r=Object(o["get"])(i,["sync"]);return!0===r?n:!1===r?void 0:r},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),B=function(t){function e(e){var i=t.call(this,{visible:e.visible})||this;i.id=Object(o["uniqueId"])("view"),i.views=[],i.geometries=[],i.controllers=[],i.interactions={},i.limitInPlot=!1,i.options={data:[],animate:!0},i.usedControllers=b(),i.scalePool=new A,i.layoutFunc=G,i.isPreMouseInPlot=!1,i.isDataChanged=!1,i.createdScaleKeys=new Map,i.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var n=i.createViewEvent(t);i.doPlotEvent(n),i.emit(e,n)}},i.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var n=i.createViewEvent(t);i.emit(e,n)}};var r=e.parent,a=e.canvas,s=e.backgroundGroup,c=e.middleGroup,p=e.foregroundGroup,h=e.region,l=void 0===h?{start:{x:0,y:0},end:{x:1,y:1}}:h,d=e.padding,g=e.theme,f=e.options,v=e.limitInPlot;return i.parent=r,i.canvas=a,i.backgroundGroup=s,i.middleGroup=c,i.foregroundGroup=p,i.region=l,i.padding=d,i.options=Object(n["__assign"])(Object(n["__assign"])({},i.options),f),i.limitInPlot=v,i.themeObject=Object(o["isObject"])(g)?Object(o["deepMix"])({},Object(u["a"])("default"),g):Object(u["a"])(g),i.init(),i}return Object(n["__extends"])(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new x(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},e.prototype.render=function(t){void 0===t&&(t=!1),this.emit(r["k"].BEFORE_RENDER),this.paint(t),this.emit(r["k"].AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(r["k"].BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1;for(var e=this.geometries,i=0;i<e.length;i++)e[i].clear();this.geometries=[];var n=this.controllers;for(i=0;i<n.length;i++)n[i].clear();this.createdScaleKeys.forEach((function(e,i){t.getRootView().scalePool.deleteScale(i)})),this.createdScaleKeys.clear();var o=this.views;for(i=0;i<o.length;i++)o[i].clear();this.emit(r["k"].AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(r["k"].BEFORE_DESTROY);var e=this.interactions;Object(o["each"])(e,(function(t){t&&t.destroy()})),this.clear();for(var i=this.controllers,n=0,a=i.length;n<a;n++){var s=i[n];s.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var i=this.geometries,n=0,o=i.length;n<o;n++){var r=i[n];r.changeVisible(e)}var a=this.controllers;for(n=0,o=a.length;n<o;n++){var s=a[n];s.changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return Object(o["set"])(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return Object(o["isFunction"])(e)?(Object(o["set"])(this.options,["filters",t],e),this):(!e&&Object(o["get"])(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return Object(o["isBoolean"])(t)?Object(o["set"])(this.options,["axes"],t):Object(o["set"])(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return Object(o["isBoolean"])(t)?Object(o["set"])(this.options,["legends"],t):Object(o["isString"])(t)?Object(o["set"])(this.options,["legends",t],e):Object(o["set"])(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var i=this;return Object(o["isString"])(t)?Object(o["set"])(this.options,["scales",t],e):Object(o["isObject"])(t)&&Object(o["each"])(t,(function(t,e){Object(o["set"])(i.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return Object(o["set"])(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return Object(o["isString"])(t)?Object(o["set"])(this.options,"coordinate",{type:t,cfg:e}):Object(o["set"])(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=Object(p["a"])(t);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,Object(n["__assign"])(Object(n["__assign"])({},e),{type:t})),this},e.prototype.animate=function(t){return Object(o["set"])(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Object(o["mix"])(this.options,t),this.initOptions(),this},e.prototype.option=function(t,i){if(e.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(o["set"])(this.options,t,i),this},e.prototype.theme=function(t){return this.themeObject=Object(o["isObject"])(t)?Object(o["deepMix"])({},this.themeObject,t):Object(u["a"])(t),this},e.prototype.interaction=function(t,e){var i=this.interactions[t];i&&i.destroy();var n=Object(h["a"])(t,this,e);return n&&(n.init(),this.interactions[t]=n),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(r["k"].BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,i=0,n=e.length;i<n;i++){var o=e[i];o.changeData(t)}this.emit(r["k"].AFTER_CHANGE_DATA)},e.prototype.createView=function(t){var i={data:this.options.data,scales:Object(o["clone"])(this.options.scales),axes:Object(o["clone"])(this.options.axes),coordinate:Object(o["clone"])(this.coordinateController.getOption()),tooltip:Object(o["clone"])(this.options.tooltip),legends:Object(o["clone"])(this.options.legends),animate:this.options.animate,visible:this.visible},a=new e(Object(n["__assign"])(Object(n["__assign"])({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:r["f"].BG}),middleGroup:this.middleGroup.addGroup({zIndex:r["f"].MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:r["f"].FORE}),theme:this.themeObject,padding:this.padding},t),{options:Object(n["__assign"])(Object(n["__assign"])({},i),Object(o["get"])(t,"options",{}))}));return this.views.push(a),a},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=Object(o["remove"])(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={};return this.geometries.map((function(e){var i=e.getYScale(),n=i.field;if(!t[n])return t[n]=!0,i}))},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,i={},n=0,o=e.length;n<o;n++){var r=e[n],a="x"===t?r.getXScale():r.getYScale();a&&!i[a.field]&&(i[a.field]=a)}return i},e.prototype.getScaleByField=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getLayer=function(t){return t===r["g"].BG?this.backgroundGroup:t===r["g"].MID?this.middleGroup:(r["g"].FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return Object(d["f"])(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return Object(o["flatten"])(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return Object(g["d"])(Object(o["flatten"])(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){var t=this;while(1){if(!t.parent)break;t=t.parent}return t},e.prototype.getXY=function(t){var e,i,n=this.getCoordinate(),r=this.getScalesByDim("x"),a=this.getScalesByDim("y");if(Object(o["each"])(t,(function(t,n){r[n]&&(e=r[n].scale(t)),a[n]&&(i=a[n].scale(t))})),!Object(o["isNil"])(e)&&!Object(o["isNil"])(i))return n.convert({x:e,y:i})},e.prototype.getController=function(t){return Object(o["find"])(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,i=[],n=0,o=e.length;n<o;n++){var r=e[n],a=r.dataArray;r.sort(a);for(var s=void 0,c=0,p=a.length;c<p;c++){var h=a[c];s=Object(f["a"])(t,h,r),s&&i.push(s)}}var u=this.views;for(n=0,o=u.length;n<o;n++){var l=u[n],d=l.getSnapRecords(t);i=i.concat(d)}return i},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,n=e.length;i<n;i++){var o=e[i];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===Object(o["size"])(e)?t:Object(o["filter"])(t,(function(t,i){var n=Object.keys(e);return n.every((function(n){var o=e[n];return o(t[n],t,i)}))}))},e.prototype.filterFieldData=function(t,e){var i=this.options.filters,n=Object(o["get"])(i,t);return Object(o["isUndefined"])(n)?e:e.filter((function(e,i){return n(e[t],e,i)}))},e.prototype.adjustCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.adjust(t,e)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(r["k"].BEFORE_PAINT),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(r["k"].AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();for(var e=this.views,i=0,n=e.length;i<n;i++){var o=e[i];o.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,i=Object(d["b"])(this.coordinateInstance),n=i.type,o=i.attrs;e.setClip({type:n,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var r=this.views,a=0,s=r.length;a<s;a++){var c=r[a];c.renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,i,r){var a=Object(o["get"])(this.options.scales,[t]),s=Object(n["__assign"])(Object(n["__assign"])({},a),i);return this.parent?this.parent.createScale(t,e,s,r):this.scalePool.createScale(t,e,s,r)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,n=e.length;i<n;i++){var o=e[i];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,i,n;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,i=o.width,n=o.height}else t=0,e=0,i=this.canvas.get("width"),n=this.canvas.get("height");var r=this.region,a=r.start,s=r.end;this.viewBBox=new l["a"](t+i*a.x,e+n*a.y,i*(s.x-a.x),n*(s.y-a.y)),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,i=t.length;e<i;e++){var n=t[e],o=O(n);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,n=e?e.get("origin"):null,o=new w(this,t,n);return o.type=i,o},e.prototype.doPlotEvent=function(t){var e=t.type,i=t.x,n=t.y,o={x:i,y:n},a=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(a.includes(e)){var s=this.isPointInPlot(o);if(s){var c="plot:"+e;t.type=c,this.emit(c,t),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!s?("mousemove"===e&&(t.type=r["j"].MOUSE_LEAVE,this.emit(r["j"].MOUSE_LEAVE,t)),t.type=r["j"].LEAVE,this.emit(r["j"].LEAVE,t)):!this.isPreMouseInPlot&&s&&("mousemove"===e&&(t.type=r["j"].MOUSE_ENTER,this.emit(r["j"].MOUSE_ENTER,t)),t.type=r["j"].ENTER,this.emit(r["j"].ENTER,t)),this.isPreMouseInPlot=s):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(t.type=r["j"].MOUSE_LEAVE,this.emit(r["j"].MOUSE_LEAVE,t)),t.type=r["j"].LEAVE,this.emit(r["j"].LEAVE,t),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),i=Object(o["get"])(this.options,"scales",{}),n=this.geometries,r=0,a=n.length;r<a;r++){var s=n[r];s.scales=this.getGeometryScales();var c={coordinate:e,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged};t?s.update(c):s.init(c)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),i=this.getOptions(),n=i.data,o=i.scales,r=void 0===o?{}:o,a=this.filteredData,s=0,c=t.length;s<c;s++){var p=t[s],h=r[p],u=this.getScaleKey(p);this.createScale(p,e.includes(p)?n:a,h,u),this.createdScaleKeys.set(u,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync()},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var n=t[i];e[n]=this.getScaleByField(n)}return e},e.prototype.getScaleFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++){var o=i[n],r=o.getScaleFields();Object(g["d"])(r,t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++){var o=i[n],r=o.getGroupFields();Object(g["d"])(r,t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=Object(n["__spreadArrays"])([this.getXScale()],this.getYScales()).filter((function(t){return!!t})),i=this.getCoordinate(),r=this.options.scales;Object(o["each"])(e,(function(e){var n=e.field,a=e.values,s=e.isCategory,c=e.isIdentity;if((s||c)&&a&&!Object(o["get"])(r,[n,"range"])){var p=a.length,h=void 0;if(1===p)h=[.5,1];else{var u=1,l=0;Object(d["e"])(i)?i.isTransposed?(u=Object(o["get"])(t.theme,"widthRatio.multiplePie",1/1.3),l=1/p*u,h=[l/2,1-l/2]):h=[0,1-1/p]:(l=1/p/2,h=[l,1-l])}e.range=h}}))},e.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var n=e[i];t?n.update():(n.clear(),n.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,i=this.getCoordinate(),n={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,r=0;r<o.length;r++){var a=o[r];a.coordinate=i,a.canvasRegion=n,e||a.animate(!1),a.paint(t)}},e.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var i=this.getComponents()[e];i.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,i=void 0===e?[]:e,n=t.interactions,o=void 0===n?[]:n,r=t.views,a=void 0===r?[]:r,s=t.annotations,c=void 0===s?[]:s,p=0;p<i.length;p++){var h=i[p];this.createGeometry(h)}for(var u=0;u<o.length;u++){var l=o[u],d=l.type,g=l.cfg;this.interaction(d,g)}for(var f=0;f<a.length;f++){var v=a[f];this.createView(v)}for(var y=this.getController("annotation"),b=0;b<c.length;b++){var O=c[b];y.annotation(O)}},e.prototype.createGeometry=function(t){var e=t.type,i=t.cfg,n=void 0===i?{}:i;if(this[e]){var r=this[e](n);Object(o["each"])(t,(function(t,e){Object(o["isFunction"])(r[e])&&r[e](t)}))}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(c["a"]);function S(t,e){B.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var i=Object(n["__assign"])({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),o=new e(i);return this.geometries.push(o),o}}var L=B,I=(function(t){function e(e){var i=this,c=e.container,p=e.width,h=e.height,u=e.autoFit,l=void 0!==u&&u,d=e.padding,g=e.renderer,f=void 0===g?"canvas":g,v=e.pixelRatio,y=e.localRefresh,b=void 0===y||y,O=e.visible,m=void 0===O||O,j=e.defaultInteractions,x=void 0===j?["tooltip","legend-filter","legend-active","continuous-filter"]:j,C=e.options,w=e.limitInPlot,T=e.theme,E=Object(o["isString"])(c)?document.getElementById(c):c,_=Object(s["a"])('<div style="position:relative;"></div>');E.appendChild(_);var G=Object(s["b"])(E,l,p,h),M=Object(a["a"])(f),A=new M.Canvas(Object(n["__assign"])({container:_,pixelRatio:v,localRefresh:b},G));return i=t.call(this,{parent:null,canvas:A,backgroundGroup:A.addGroup({zIndex:r["f"].BG}),middleGroup:A.addGroup({zIndex:r["f"].MID}),foregroundGroup:A.addGroup({zIndex:r["f"].FORE}),padding:d,visible:m,options:C,limitInPlot:w,theme:T})||this,i.onResize=Object(o["debounce"])((function(){i.forceFit()}),300),i.ele=E,i.canvas=A,i.width=G.width,i.height=G.height,i.autoFit=l,i.localRefresh=b,i.renderer=f,i.wrapperElement=_,i.updateCanvasStyle(),i.bindAutoFit(),i.initDefaultInteractions(x),i}Object(n["__extends"])(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;Object(o["each"])(t,(function(t){e.interaction(t)}))},e.prototype.changeSize=function(t,e){return this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Object(s["d"])(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){var t=Object(s["b"])(this.ele,!0,this.width,this.height),e=t.width,i=t.height;this.changeSize(e,i)},e.prototype.updateCanvasStyle=function(){Object(s["c"])(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)}}(L),i("5142"),i("6239")),R=(i("2bb7"),i("53ed"),i("e7d3")),k=i("f088"),P=i("e085")},d3ae:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i("e897");function o(t,e,i){var o=t.getBBox(),r=t.get("origin").mappingData,a=r.points,s=a[0].y-a[1].y>0?o.maxX:o.minX,c=(o.minY+o.maxY)/2;t.applyToMatrix([s,c,1]);var p=Object(n["b"])(t.getMatrix(),[["t",-s,-c],["s",.01,1],["t",s,c]]);t.setMatrix(p),t.animate({matrix:Object(n["b"])(t.getMatrix(),[["t",-s,-c],["s",100,1],["t",s,c]])},e)}function r(t,e,i){var o=t.getBBox(),r=t.get("origin").mappingData,a=(o.minX+o.maxX)/2,s=r.points,c=s[0].y-s[1].y<=0?o.maxY:o.minY;t.applyToMatrix([a,c,1]);var p=Object(n["b"])(t.getMatrix(),[["t",-a,-c],["s",1,.01],["t",a,c]]);t.setMatrix(p),t.animate({matrix:Object(n["b"])(t.getMatrix(),[["t",-a,-c],["s",1,100],["t",a,c]])},e)}},db41:function(t,e,i){"use strict";var n=i("9ab4"),o=i("8937"),r=i("088c"),a=i("68b7"),s=i("479c"),c=i("ba6d"),p=i("4a4d"),h=i("5142"),u=function(t){function e(e){var i=t.call(this,e)||this;return i.cache=new Map,i.foregroundContainer=i.view.getLayer(s["g"].FORE).addGroup(),i.backgroundContainer=i.view.getLayer(s["g"].BG).addGroup(),i.option=[],i}return Object(n["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){var t=this,e=this.getComponents(),i=function(e){var i=e.component,n=e.extra,o=n.type,r=t.getAnnotationTheme(o);i.update(t.getAnnotationCfg(o,n,r))},n=function(e){var i=t.createAnnotation(e);i&&(i.component.init(),"regionFilter"===e.type&&i.component.render(),t.cache.set(e,i))};e.length?Object(o["each"])(e,(function(e){var n=e.component;"regionFilter"===n.get("type")?t.view.once(s["k"].AFTER_RENDER,(function(){i(e)})):i(e)})):Object(o["each"])(this.option,(function(e){"regionFilter"===e.type?t.view.once(s["k"].AFTER_RENDER,(function(){n(e)})):n(e)}))},e.prototype.render=function(){},e.prototype.update=function(){var t=this,e=new WeakMap,i=function(i){var n=i.type,o=t.getAnnotationTheme(n),r=t.getAnnotationCfg(n,i,o),a=t.cache.get(i);if(a)Object(p["b"])(r,["container"]),a.component.update(r),e.set(i,!0);else{var s=t.createAnnotation(i);s&&(s.component.init(),"regionFilter"===i.type&&s.component.render(),t.cache.set(i,s),e.set(i,!0))}};this.view.once(s["k"].AFTER_RENDER,(function(){Object(o["each"])(t.option,(function(t){"regionFilter"===t.type&&i(t)}));var n=new Map;t.cache.forEach((function(t,i){e.has(i)?n.set(i,t):t.component.destroy()})),t.cache=n})),Object(o["each"])(this.option,(function(t){"regionFilter"!==t.type&&i(t)}))},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.createAnnotation=function(t){var e=t.type,i=r["a"][Object(o["upperFirst"])(e)];if(i){var n=this.getAnnotationTheme(e),a=this.getAnnotationCfg(e,t,n),c=new i(a);return{component:c,layer:this.isTop(a)?s["g"].FORE:s["g"].BG,direction:s["c"].NONE,type:s["b"].ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(Object(n["__assign"])({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(Object(n["__assign"])({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(Object(n["__assign"])({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(Object(n["__assign"])({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(Object(n["__assign"])({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(Object(n["__assign"])({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(Object(n["__assign"])({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(Object(n["__assign"])({type:"regionFilter"},t))},e.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),n=Object(o["isFunction"])(t)?t.call(null,e,i):t,r=0,a=0;if(Object(o["isArray"])(n)){var s=n[0],c=n[1];if(Object(o["isString"])(s)&&-1!==s.indexOf("%")&&!isNaN(s.slice(0,-1)))return this.parsePercentPosition(n);r=this.getNormalizedValue(s,e),a=this.getNormalizedValue(c,Object.values(i)[0])}else if(!Object(o["isNil"])(n))for(var p=0,h=Object(o["keys"])(n);p<h.length;p++){var u=h[p],l=n[u];u===e.field&&(r=this.getNormalizedValue(l,e)),i[u]&&(a=this.getNormalizedValue(l,i[u]))}return this.view.getCoordinate().convert({x:r,y:a})},e.prototype.getRegionPoints=function(t,e){var i,n=this,r=this.view.getXScale(),a=this.view.getScalesByDim("y"),s=Object.values(a)[0],c=r.field,p=this.view.getData(),h=Object(o["isArray"])(t)?t[0]:t[c],u=Object(o["isArray"])(e)?e[0]:e[c],l=[];return Object(o["each"])(p,(function(t,e){if(t[c]===h&&(i=e),e>=i){var o=n.parsePosition([t[c],t[s.field]]);o&&l.push(o)}if(t[c]===u)return!1})),l},e.prototype.getNormalizedValue=function(t,e){var i,n;switch(t){case"start":i=0;break;case"end":i=1;break;case"median":n=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(n);break;case"min":case"max":n=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(n);break;default:i=e.scale(t)}return i},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,n=this.view.getCoordinate(),o=n.start,r=n.end,a={x:Math.min(o.x,r.x),y:Math.min(o.y,r.y)},s=n.getWidth()*e+a.x,c=n.getHeight()*i+a.y;return{x:s,y:c}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,n=t.getWidth(),o=t.getHeight(),r={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:r.x,y:r.y,minX:r.x,minY:r.y,maxX:r.x+n,maxY:r.y+o,width:n,height:o}},e.prototype.getAnnotationCfg=function(t,e,i){var r=this.view.getCoordinate(),s={};if(Object(o["isNil"])(e))return null;if("arc"===t){var p=e,h=p.start,u=p.end,l=this.parsePosition(h),d=this.parsePosition(u),g=Object(c["a"])(r,l),f=Object(c["a"])(r,d);g>f&&(f=2*Math.PI+f),s={center:r.getCenter(),radius:Object(c["c"])(r,l),startAngle:g,endAngle:f}}else if("image"===t){var v=e;h=v.start,u=v.end;s={start:this.parsePosition(h),end:this.parsePosition(u),src:e.src}}else if("line"===t){var y=e;h=y.start,u=y.end;s={start:this.parsePosition(h),end:this.parsePosition(u),text:Object(o["get"])(e,"text",null)}}else if("region"===t){var b=e;h=b.start,u=b.end;s={start:this.parsePosition(h),end:this.parsePosition(u)}}else if("text"===t){var O=e,m=O.position,j=O.rotate;s=Object(n["__assign"])(Object(n["__assign"])({},this.parsePosition(m)),{content:e.content,rotate:j})}else if("dataMarker"===t){var x=e,C=(m=x.position,x.point),w=x.line,T=x.text,E=x.autoAdjust,_=x.direction;s=Object(n["__assign"])(Object(n["__assign"])({},this.parsePosition(m)),{coordinateBBox:this.getCoordinateBBox(),point:C,line:w,text:T,autoAdjust:E,direction:_})}else if("dataRegion"===t){var G=e,M=(h=G.start,u=G.end,G.region),A=(T=G.text,G.lineLength);s={points:this.getRegionPoints(h,u),region:M,text:T,lineLength:A}}else if("regionFilter"===t){var B=e,S=(h=B.start,u=B.end,B.apply),L=B.color,I=this.view.geometries,R=[],k=function(t){t&&(t.isGroup()?t.getChildren().forEach((function(t){return k(t)})):R.push(t))};Object(o["each"])(I,(function(t){S?Object(o["contains"])(S,t.type)&&Object(o["each"])(t.elements,(function(t){k(t.shape)})):Object(o["each"])(t.elements,(function(t){k(t.shape)}))})),s={color:L,shapes:R,start:this.parsePosition(h),end:this.parsePosition(u)}}var P=Object(o["deepMix"])({},i,Object(n["__assign"])(Object(n["__assign"])({},s),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return P.container=this.getComponentContainer(P),P.animate=this.view.getOptions().animate&&P.animate&&Object(o["get"])(e,"animate",P.animate),P.animateOption=Object(o["deepMix"])({},a["a"],P.animateOption,e.animateOption),P},e.prototype.isTop=function(t){return Object(o["get"])(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return Object(o["get"])(this.view.getTheme(),["components","annotation",t],{})},e}(h["a"]);e["a"]=u},dfda:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("9ab4"),o=i("ba6d");function r(t,e,i){var r=Object(o["b"])(i.coordinate,20),a=r.type,s=r.startState,c=r.endState,p=t.setClip({type:a,attrs:s});p.animate(c,Object(n["__assign"])(Object(n["__assign"])({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),p.remove(!0)}}))}},e085:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n={};function o(t){return n[t.toLowerCase()]}function r(t,e){n[t.toLowerCase()]=e}},e53d:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("9ab4"),o=i("9351"),r=i.n(o),a=i("8937"),s=i("0779");function c(t,e){var i,n=r()(t,e),o=n.startAngle,s=n.endAngle;return!Object(a["isNumberEqual"])(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),!Object(a["isNumberEqual"])(s,.5*-Math.PI)&&s<.5*-Math.PI&&(s+=2*Math.PI),0===e[5]&&(i=[s,o],o=i[0],s=i[1]),Object(a["isNumberEqual"])(o,1.5*Math.PI)&&(o=-.5*Math.PI),Object(a["isNumberEqual"])(s,-.5*Math.PI)&&(s=1.5*Math.PI),{startAngle:o,endAngle:s}}function p(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function h(t){var e,i,n,o=t.filter((function(t){return"A"===t[0]||"a"===t[0]})),r=o[0],s=o.length>1?o[1]:o[0],h=t.indexOf(r),u=t.indexOf(s),l=p(t[h-1]),d=p(t[u-1]),g=c(l,r),f=g.startAngle,v=g.endAngle,y=c(d,s),b=y.startAngle,O=y.endAngle;Object(a["isNumberEqual"])(f,b)&&Object(a["isNumberEqual"])(v,O)?(i=f,n=v):(i=Math.min(f,b),n=Math.max(v,O));var m=r[1],j=o[o.length-1][1];return m<j?(e=[j,m],m=e[0],j=e[1]):m===j&&(j=0),{startAngle:i,endAngle:n,radius:m,innerRadius:j}}function u(t,e,i){var o=i.toAttrs,r=i.coordinate,c=o.path,p=c.map((function(t){return t[0]})),u=h(c),l=u.startAngle,d=u.endAngle,g=u.radius,f=u.innerRadius,v=h(t.attr("path")),y=v.startAngle,b=v.endAngle,O=r.getCenter(),m=l-y,j=d-b;t.animate((function(t){var e=y+t*m,i=b+t*j;return Object(n["__assign"])(Object(n["__assign"])({},o),{path:Object(a["isEqual"])(p,["M","A","A","Z"])?Object(s["b"])(O.x,O.y,g,e,i):Object(s["e"])(O.x,O.y,g,e,i,f)})}),Object(n["__assign"])(Object(n["__assign"])({},e),{callback:function(){t.attr("path",c)}}))}}}]);