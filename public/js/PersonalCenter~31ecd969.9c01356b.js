(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PersonalCenter~31ecd969","OtherControl~987e6011","StandaloneServerControl~987e6011"],{"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3");var r=a("6b75");function o(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(e,t):void 0}}},"1dde":function(e,t,a){var r=a("d039"),o=a("b622"),n=a("2d00"),s=o("species");e.exports=function(e){return n>=51||!r((function(){var t=[],a=t.constructor={};return a[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,a){"use strict";var r=a("6eeb"),o=a("825a"),n=a("d039"),s=a("ad6d"),l="toString",i=RegExp.prototype,c=i[l],u=n((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),m=c.name!=l;(u||m)&&r(RegExp.prototype,l,(function(){var e=o(this),t=String(e.source),a=e.flags,r=String(void 0===a&&e instanceof RegExp&&!("flags"in i)?s.call(e):a);return"/"+t+"/"+r}),{unsafe:!0})},"350b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person layout_card"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("i",{staticClass:"iconfont icon-gerenziliao2"}),e._v(" 个人中心 ")])],1)],1),a("div",{staticClass:"form_wrapper customFrom"},[a("el-row",[a("el-col",[a("div",{staticClass:"customForm-title"},[a("span",{staticClass:"customForm-title_left"},[e._v("用户的个人详细资料:")])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"auto","label-position":"top"}},[a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.name"),prop:"username"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("personalCenter.placeholderName"),clearable:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.company"),prop:"companyname"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("personalCenter.placeholderCompany"),clearable:""},model:{value:e.formData.companyname,callback:function(t){e.$set(e.formData,"companyname",t)},expression:"formData.companyname"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入QQ"},model:{value:e.formData.qq,callback:function(t){e.$set(e.formData,"qq",t)},expression:"formData.qq"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.country"),prop:"country"}},[a("el-select",{style:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("personalCenter.placeholderCountry"),clearable:""},model:{value:e.formData.country,callback:function(t){e.$set(e.formData,"country",t)},expression:"formData.country"}},e._l(e.countryOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.provincesCitiesArea"),prop:"field888"}},[a("el-cascader",{style:{width:"100%"},attrs:{options:e.field888Options,props:e.field888Props,placeholder:e.$t("personalCenter.placeholderProvinces"),filterable:"",clearable:""},model:{value:e.formData.field888,callback:function(t){e.$set(e.formData,"field888",t)},expression:"formData.field888"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.address"),prop:"address1"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("personalCenter.placeholderAddress"),clearable:""},model:{value:e.formData.address1,callback:function(t){e.$set(e.formData,"address1",t)},expression:"formData.address1"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.defaultPayment"),prop:"defaultgateway"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:e.$t("personalCenter.placeholderPayment"),clearable:""},model:{value:e.formData.defaultgateway,callback:function(t){e.$set(e.formData,"defaultgateway",t)},expression:"formData.defaultgateway"}},e._l(e.defaultgatewayOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.name,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:e.$t("personalCenter.userGroups"),prop:"groupid"}},[a("el-input",{style:{width:"100%"},attrs:{readonly:""},model:{value:e.formData.groupid,callback:function(t){e.$set(e.formData,"groupid",t)},expression:"formData.groupid"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:"接受营销信息",prop:"marketing_emails_opt_in"}},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.formData.marketing_emails_opt_in,callback:function(t){e.$set(e.formData,"marketing_emails_opt_in",t)},expression:"formData.marketing_emails_opt_in"}})],1)],1),e._l(e.options,(function(t,r){return a("el-col",{key:"option"+r,attrs:{xs:24,sm:12}},[a("el-form-item",{attrs:{label:t.fieldname,rules:{required:t.required,message:"请输入"+t.fieldname,trigger:"blur"}}},["dropdown"===t.fieldtype?[a("el-select",{staticClass:"sel",style:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}},e._l(t.fieldoptions.split(","),(function(e){return a("el-option",{key:"Dropdown"+e,attrs:{label:e,value:e}})})),1)]:e._e(),"tickbox"===t.fieldtype?[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}},[e._v(" "+e._s(t.fieldname))])]:e._e(),"password"===t.fieldtype?[a("el-input",{style:{width:"100%"},attrs:{"show-password":""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}})]:e._e(),"text"===t.fieldtype?[a("el-input",{style:{width:"100%"},attrs:{placeholder:t.description},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}})]:e._e(),"link"===t.fieldtype?[a("el-input",{style:{width:"100%"},attrs:{placeholder:t.description},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}})]:e._e(),"textarea"===t.fieldtype?[a("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:t.description,autosize:{minRows:4,maxRows:4}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"optionItem.value"}})]:e._e()],2)],1)}))],2)],1)],1),a("div",{staticClass:"custom_bottom"},[a("div",{staticClass:"custom_bottom_wrapper"},[a("el-button",{staticClass:"form_bottom_btn",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("personalCenter.submit"))+" ")])],1)])])},o=[],n=(a("4160"),a("b0c0"),a("159b"),a("6b75"));function s(e){if(Array.isArray(e))return Object(n["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return s(e)||l(e)||Object(i["a"])(e)||c()}a("96cf");var m=a("1da1"),d=a("a27e");function f(){return Object(d["a"])({url:"/get_areas"})}function p(){return Object(d["a"])({url:"/user_info"})}function b(e){return Object(d["a"])({url:"/user_info",method:"put",data:e})}var v=a("2ef0"),y={metaInfo:function(){return{title:this.$t("personalCenter.pageTitle"),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{options:{},formData:{custom:[],id:void 0,username:void 0,companyname:void 0,qq:void 0,address1:void 0,defaultgateway:void 0,groupid:void 0,field888:[],country:void 0,province:"",city:"",region:"",marketing_emails_opt_in:0},rules:{options:[],id:[],field888:[],country:[],username:[{required:!0,message:this.$t("personalCenter.placeholderName"),trigger:"blur"}],companyname:[],address1:[],defaultgateway:[],groupid:[],qq:[{required:!1,pattern:/^\d{1,}$/,message:"请输入正确的QQ",trigger:"blur"}]},field888Options:[],countryOptions:[],field888Props:{multiple:!1,label:"name",value:"name",children:"son"},groupidOptions:[],defaultgatewayOptions:[],address1Props:{multiple:!1}}},methods:{submitForm:v.throttle(Object(m["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.elForm.validate(function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(a){var r,o,n,s,l,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return(t.options||[]).forEach((function(e){t.formData.custom[e.id]=e.value})),r=u(t.formData.field888),o=r[0],n=r[1],s=r[2],t.formData.province=o,t.formData.city=n,t.formData.region=s,e.next=9,b(t.$qs.stringify(t.formData));case 9:l=e.sent,i=l.data,200!==i.status?t.$message.error(i.msg):(t.$message.success(i.msg),t.getUesrInfo());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)}))),3e3),resetForm:function(){this.$refs.elForm.resetFields()},getAreas:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:a=t.sent,r=a.data,200!==r.status?e.$message.error(r.msg):(e.field888Options=r.data.areas,e.countryOptions=r.data.country,e.getTreeData(r.data.areas));case 5:case"end":return t.stop()}}),t)})))()},getUesrInfo:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,r,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:a=t.sent,r=a.data,e.$store.commit("setName",r.user.username),e.formData.id=r.user.id,e.formData.username=r.user.username,e.formData.companyname=r.user.companyname,e.formData.marketing_emails_opt_in=r.user.marketing_emails_opt_in,e.formData.qq=r.user.qq,e.formData.country=r.user.country,e.formData.address1=r.user.address1,e.formData.groupid=r.client_group?r.client_group.group_name:"默认分组",e.formData.defaultgateway=""===r.user.defaultgateway?r.gateways[0].name:r.user.defaultgateway,o=r.user.province,n=r.user.city,s=r.user.region,e.defaultgatewayOptions=r.gateways,e.formData.field888.push(o,n,s),e.$store.dispatch("addAsync",r.user),e.options=r.customs;case 21:case"end":return t.stop()}}),t)})))()},getTreeData:function(e){for(var t=0;t<e.length;t++)e[t].son.length<1?e[t].son=void 0:this.getTreeData(e[t].son);return e}},created:function(){this.getAreas(),this.getUesrInfo()}},g=y,h=(a("9691"),a("2877")),w=Object(h["a"])(g,r,o,!1,null,"f50a91f6",null);t["default"]=w.exports},"4df4":function(e,t,a){"use strict";var r=a("0366"),o=a("7b0b"),n=a("9bdd"),s=a("e95a"),l=a("50c4"),i=a("8418"),c=a("35a1");e.exports=function(e){var t,a,u,m,d,f,p=o(e),b="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,g=void 0!==y,h=c(p),w=0;if(g&&(y=r(y,v>2?arguments[2]:void 0,2)),void 0==h||b==Array&&s(h))for(t=l(p.length),a=new b(t);t>w;w++)f=g?y(p[w],w):p[w],i(a,w,f);else for(m=h.call(p),d=m.next,a=new b;!(u=d.call(m)).done;w++)f=g?n(m,y,[u.value,w],!0):u.value,i(a,w,f);return a.length=w,a}},"6b75":function(e,t,a){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a.d(t,"a",(function(){return r}))},8418:function(e,t,a){"use strict";var r=a("c04e"),o=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var s=r(t);s in e?o.f(e,s,n(0,a)):e[s]=a}},9691:function(e,t,a){"use strict";var r=a("cb90"),o=a.n(r);o.a},a630:function(e,t,a){var r=a("23e7"),o=a("4df4"),n=a("1c7e"),s=!n((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:o})},cb90:function(e,t,a){},fb6a:function(e,t,a){"use strict";var r=a("23e7"),o=a("861d"),n=a("e8b5"),s=a("23cb"),l=a("50c4"),i=a("fc6a"),c=a("8418"),u=a("b622"),m=a("1dde"),d=a("ae40"),f=m("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),v=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!f||!p},{slice:function(e,t){var a,r,u,m=i(this),d=l(m.length),f=s(e,d),p=s(void 0===t?d:t,d);if(n(m)&&(a=m.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[b],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(m,f,p);for(r=new(void 0===a?Array:a)(y(p-f,0)),u=0;f<p;f++,u++)f in m&&c(r,u,m[f]);return r.length=u,r}})}}]);