(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CloudServer~31ecd969","OtherFinance~31ecd969","StandaloneServerFinance~31ecd969"],{"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return s})),a.d(e,"h",(function(){return n})),a.d(e,"g",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p}));var r=a("a27e");function s(t,e,a,s,n,i,o,l){return Object(r["a"])({url:"/host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:s,sort:n,search:i,dcim_area:o,domain_status:l}})}function n(t){return Object(r["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function i(t,e){return Object(r["a"])({url:"/host/renewpage",params:{hostid:t,billingcycles:e}})}function o(t){return Object(r["a"])({url:"/host/renew",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/provision/default",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/provision/button",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/host/cancel",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/host/cancel",method:"delete",data:t})}function p(t){return Object(r["a"])({url:"/host/autorenew",method:"post",data:t})}},1276:function(t,e,a){"use strict";var r=a("d784"),s=a("44e7"),n=a("825a"),i=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),p=a("d039"),g=[].push,h=Math.min,f=4294967295,v=!p((function(){return!RegExp(f,"y")}));r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(i(this)),n=void 0===a?f:a>>>0;if(0===n)return[];if(void 0===t)return[r];if(!s(t))return e.call(r,t,n);var o,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,p+"g");while(o=d.call(v,r)){if(l=v.lastIndex,l>h&&(u.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&g.apply(u,o.slice(1)),c=o[0].length,h=l,u.length>=n))break;v.lastIndex===o.index&&v.lastIndex++}return h===r.length?!c&&v.test("")||u.push(""):u.push(r.slice(h)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s,a):r.call(String(s),e,a)},function(t,s){var i=a(r,t,this,s,r!==e);if(i.done)return i.value;var d=n(t),p=String(this),g=o(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),_=new g(v?d:"^(?:"+d.source+")",b),y=void 0===s?f:s>>>0;if(0===y)return[];if(0===p.length)return null===u(_,p)?[p]:[];var S=0,x=0,w=[];while(x<p.length){_.lastIndex=v?x:0;var C,k=u(_,v?p:p.slice(x));if(null===k||(C=h(c(_.lastIndex+(v?0:x)),p.length))===S)x=l(p,x,m);else{if(w.push(p.slice(S,x)),w.length===y)return w;for(var O=1;O<=k.length-1;O++)if(w.push(k[O]),w.length===y)return w;x=S=C}}return w.push(p.slice(S)),w}]}),!v)},1292:function(t,e,a){t.exports=a.p+"img/sigh.d14ddcca.svg"},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1dde":function(t,e,a){var r=a("d039"),s=a("b622"),n=a("2d00"),i=s("species");t.exports=function(t){return n>=51||!r((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"44e7":function(t,e,a){var r=a("861d"),s=a("c6b6"),n=a("b622"),i=n("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},"4de4":function(t,e,a){"use strict";var r=a("23e7"),s=a("b727").filter,n=a("1dde"),i=a("ae40"),o=n("filter"),l=i("filter");r({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var r=a("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5ec5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"standlone_server_list layout_card"},[r("div",{staticClass:"breadcrumb"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[r("i",{class:t.setClass}),t._v(" "+t._s(t.group.groupname)+" ")])],1)],1),r("div",{staticClass:"page-title"},[t._v(t._s(t.group.groupname))]),r("div",{staticClass:"standlone_server_list_box"},[r("div",{staticClass:"standlone_server_list_header"},[r("div",{staticClass:"selectBox"},[r("div",{staticClass:"select"},[r("el-select",{attrs:{placeholder:t.$t("standaloneServer.placeholderSelect"),clearable:""},on:{change:t.changeArea},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}},[t.areaValue?r("template",{slot:"prefix"},[r("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+t.showArea+".png",alt:""}})]):t._e(),t._l(t.areaOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.code+"-"+e.name}},[r("div",{staticClass:"select_box"},[r("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:""}}),t._v(t._s(e.name))])])}))],2)],1),r("div",{staticClass:"mulselect"},[r("el-select",{attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return r("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1),r("div",{staticClass:"mulselect-m",staticStyle:{width:"100%"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return r("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1)]),r("div",{staticClass:"search"},[r("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1)]),r("div",{staticClass:"standlone_server_list_table"},[r("el-table",{ref:"serverTableRef",staticStyle:{width:"100%"},attrs:{height:t.$height-305,data:t.tableData,"row-class-name":"iRowClass","cell-class-name":"iCellClass","header-row-class-name":"iHeaderRowClass","header-cell-class-name":"iHeaderCellClass"},on:{"sort-change":t.changeSort,"selection-change":t.tableSelectionChange}},[r("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?r("span",[r("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():r("span",[t._v("暂无数据")])]),r("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),r("el-table-column",{attrs:{prop:"domainstatus",label:t.$t("standaloneServer.domainstatus"),align:"center",sortable:"custom",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("div",{staticClass:"status_box",class:a.loadingStatus?"status_box_anm":""},["Active"===a.domainstatus?r("div",{staticClass:"active_color"},[t._v("已激活")]):t._e(),200===a.status.status?r("el-tooltip",{staticClass:"item",attrs:{disabled:a.loading,effect:"light",content:a.status.data.des,placement:"top"}},[a.loading?r("div",{staticClass:"loading-box"},[r("i",{staticClass:"dots el-icon-loading",staticStyle:{color:"#333","font-size":"15px",position:"absolute",left:"-1px",top:"0"}})]):r("div",{staticClass:"dots-box",on:{click:function(e){return t.getSingleStatus(a)}}},["on"===a.status.data.status?r("div",{staticClass:"dots on_color"}):"off"===a.status.data.status?r("div",{staticClass:"dots off_color"}):"process"===a.status.data.status?r("div",{staticClass:"dots ing_color"},[r("i",{staticClass:"dots el-icon-loading",staticStyle:{color:"#333","font-size":"15px",position:"absolute",left:"-1px",top:"-1px"}})]):t._e()])]):"Pending"===a.domainstatus?r("div",{staticClass:"pengding_color"},[t._v(t._s(a.domainstatus_desc))]):"Cancelled"===a.domainstatus?r("div",{staticClass:"cancelled_color"},[t._v(t._s(a.domainstatus_desc)+" ")]):"Suspended"===a.domainstatus?r("div",{staticClass:"suspended_color"},[t._v(t._s(a.domainstatus_desc)+" ")]):"Deleted"===a.domainstatus?r("div",{staticClass:"terminated_color"},[t._v(t._s(a.domainstatus_desc))]):"Fraud"===a.domainstatus?r("div",{staticClass:"fraud_color"},[t._v(t._s(a.domainstatus_desc))]):a.domainstatus?t._e():r("div",{staticClass:"cancelled_color"},[t._v("未知状态")])],1)]}}])}),r("el-table-column",{attrs:{prop:"productname",label:t.$t("standaloneServer.productname"),width:"350",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("div",{staticClass:"product_box"},[r("div",{staticClass:"ip_box"},[r("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===a.area_code}},[r("div",{staticClass:"area_name_box"},[t._v(t._s(a.area_name))]),r("div",{attrs:{slot:"reference"},slot:"reference"},[a.area_code?r("img",{attrs:{src:"/upload/common/country/"+a.area_code+"-y.png",alt:""}}):t._e()])]),r("el-link",{on:{click:function(e){return t.goToView(a)}}},[t._v(t._s(a.productname))])],1),r("div",{staticStyle:{color:"#999","line-height":"16px"}},[t._v(t._s(a.domain))])])]}}])}),r("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",width:"175",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.dedicatedip?r("div",[r("el-popover",{staticClass:"popStyle",attrs:{placement:"bottom",trigger:"hover",disabled:0===a.assignedips.length}},[r("div",{staticClass:"popStyle"},[r("span",{ref:a.assignedips,staticClass:"popSpanStyle",attrs:{"data-clipboard-text":a.assignedips?a.assignedips:""},on:{mouseenter:function(e){return t.clickCopy(a.assignedips)},click:function(e){return t.clickCopy(a.assignedips)}}},[t._v("复制")])]),r("ul",{staticClass:"item_ip"},t._l(a.assignedips,(function(e,a){return r("li",{key:a},[t._v(t._s(e))])})),0),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("el-link",{on:{click:function(e){return t.goToView(a)}}},[t._v(t._s(a.dedicatedip)+" "),parseInt(a.assignedips.length)?[r("span",{staticStyle:{color:"#007bfc"}},[t._v(" "+t._s("("+parseInt(a.assignedips.length)+")")+" ")])]:t._e()],2)],1)])],1):r("div",[r("span",[t._v(" - ")])])]}}])}),r("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("standaloneServer.nextduedate"),align:"center",sortable:"custom",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["hour"===s.billingcycle?r("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.noDate"))+" ")]):r("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.noDate"))+" ")]),""!==s.host_cancel?[r("el-popover",{attrs:{"close-delay":50,placement:"bottom",width:"160",trigger:"hover"}},[r("p",{staticStyle:{marginTop:"9px",color:"#ff6262"}},[t._v("停用并删除该产品")]),r("p",{staticStyle:{"font-size":"12px",marginTop:"0"}},[r("span",{staticStyle:{color:"#999"}},[t._v("取消时间：")]),t._v(" "+t._s(s.host_cancel.type)+" ")]),r("p",{staticStyle:{"font-size":"12px",marginTop:"0",marginBottom:"7px"}},[r("span",{staticStyle:{color:"#999"}},[t._v("取消原因：")]),t._v(" "+t._s(s.host_cancel.reason)+" ")]),r("img",{staticStyle:{"vertical-align":"middle"},attrs:{slot:"reference",src:a("1292"),alt:"",width:"14px"},slot:"reference"})])]:t._e()]}}])}),r("el-table-column",{attrs:{prop:"amount",label:t.$t("standaloneServer.amount"),align:"center",width:"210",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["free"!==a.billingcycle&&"ontrial"!==a.billingcycle?r("div",[r("span",[t._v(t._s(a.price_desc))]),t._v(" / "),"day"===a.billingcycle?r("span",[t._v(t._s(a.pay_type.pay_day_cycle)+"天")]):"hour"===a.billingcycle?r("span",[t._v(t._s(a.pay_type.pay_hour_cycle)+"小时")]):r("span",[t._v(t._s(t._f("cutFu")(a.cycle_desc)))])]):r("div",[t._v(t._s(a.cycle_desc))]),a.initiative_renew?r("div",{staticStyle:{"font-size":"12px",color:"#ccc"}},[t._v("余额自动续费")]):t._e()]}}])}),r("el-table-column",{attrs:{prop:"os",label:t.$t("standaloneServer.os"),width:"130",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.svg?r("div",{staticClass:"system_box"},[r("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===a.os}},[t._v(" "+t._s(a.os)+" "),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("img",{attrs:{src:"/upload/common/system/"+a.svg+".svg",alt:""}}),t._v(t._s(t._f("osFilter")(a.svg))+" ")])])],1):r("div",{staticClass:"system_box"},[r("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===a.os}},[t._v(" "+t._s(a.os)+" "),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("img",{attrs:{src:"/upload/common/system/"+t.getOsSvg(a.os_url)+".svg",alt:""}}),t._v(t._s(a.os_url)+" ")])])],1)]}}])}),r("el-table-column",{attrs:{prop:"notes",label:t.$t("standaloneServer.remark"),align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("div",{staticClass:"table_notebox",on:{click:function(e){return t.showDialog(a)}}},[r("span",[t._v(t._s(a.notes?a.notes:"-"))]),r("i",{staticClass:"el-icon-edit"})])]}}])}),r("el-table-column",{attrs:{label:t.$t("standaloneServer.operate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-button",{staticClass:"borr4",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToView(a)}}},[t._v("管理")])]}}])})],1)],1),r("el-row",{staticClass:"flex-between"},[r("el-col",{attrs:{sm:24,lg:8}},[r("div",{staticClass:"bottomBtn"},[t.tableData.length?r("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goToMulBilling}},[t._v(" "+t._s(t.$t("standaloneServer.renew"))+" ")]):t._e(),t.allPending?t._e():r("el-dropdown",{on:{command:t.handleOperating}},[r("el-button",{staticClass:"bulkBtn",attrs:{type:"primary",plain:""}},[t._v(" 批量操作"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"on"}},[t._v("开机")]),r("el-dropdown-item",{attrs:{command:"off"}},[t._v("关机")]),r("el-dropdown-item",{attrs:{command:"reboot"}},[t._v("重启")]),r("el-dropdown-item",{attrs:{command:"hard_off"}},[t._v("硬关机")]),r("el-dropdown-item",{attrs:{command:"hard_reboot"}},[t._v("硬重启")])],1)],1)],1)]),r("el-col",{attrs:{sm:24,lg:16}},[r("div",{staticClass:"standlone_server_list_page"},[r("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-sizes":[10,15,20,25],"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),r("el-dialog",{attrs:{title:t.$t("standaloneServer.dialogEditRemark"),visible:t.editNoteDialogVisible,width:"500px"},on:{"update:visible":function(e){t.editNoteDialogVisible=e}}},[r("el-form",{ref:"editNoteFormRef",attrs:{model:t.editNoteForm}},[r("el-form-item",{attrs:{label:t.$t("standaloneServer.remark")}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:1}},model:{value:t.editNoteForm.remark,callback:function(e){t.$set(t.editNoteForm,"remark",e)},expression:"editNoteForm.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelNotes}},[t._v(t._s(t.$t("btnCancle")))]),r("el-button",{attrs:{type:"primary"},on:{click:t.editNote}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1)],1)])},s=[],n=(a("a623"),a("4de4"),a("4160"),a("c975"),a("b0c0"),a("ac1f"),a("8a79"),a("841c"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("b311"),o=a.n(i),l=a("27fd"),c=a("048a"),u=a("2ef0"),d={metaInfo:function(){return{title:this.group.groupname,htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{loopStatusTimer:null,batchObj:{id:[],func:"",code:""},allPending:!0,groupid:this.$route.query.groupid,tableData:[],tableLoading:!1,page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},dcim_area:"",editNoteForm:{id:0,remark:""},editNoteDialogVisible:!1,areaValue:"",areaOptions:[],showArea:"",selectStatus:["Active","Pending","Suspended"],statusOptions:[{value:"Pending",label:"待开通",color:"#fca426"},{value:"Active",label:"已激活",color:"#3fbf70"},{value:"Fraud",label:"有欺诈",color:"#FF0000"},{value:"Deleted",label:"被删除",color:"#2d2d2d"},{value:"Suspended",label:"已暂停",color:"#e31519"}],tableMul:[],idMul:[],group:{fa_icon:"",groupname:"",id:0}}},methods:{handleOperating:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(clearInterval(e.loopStatusTimer),e.batchObj.id.length=0,e.batchObj.func=t,r=0;r<e.tableMul.length;r++)s=e.tableMul[r],e.batchObj.id.push(s.id);return a.next=6,Object(c["d"])(e.batchObj);case 6:if(n=a.sent,i=n.data,200===i.status){a.next=11;break}return e.$message.error(i.msg),a.abrupt("return");case 11:e.$message.success(i.msg),1===e.tableData.length&&(e.tableData[0].status.data.status="process"),e.loopGetStatus(e.tableData);case 14:case"end":return a.stop()}}),a)})))()},clickCopy:function(t){var e=this,a=0,r=new o.a(this.$refs[t]);r.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&r.destroy()})),r.on("error",(function(t){e.$message.error("复制失败")}))},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(c["f"])(t.groupid,t.page,t.limit,t.orderby,t.sort,t.search.input,t.dcim_area,t.selectStatus);case 3:if(a=e.sent,r=a.data,t.tableLoading=!1,200===r.status){e.next=8;break}return e.abrupt("return",!1);case 8:for(r.data.list.forEach((function(t){t.loadingStatus=!1,t.powerStatus=""})),s=0;s<r.data.list.length;s++)n=r.data.list[s],n.loading=!1,n.status={data:{des:"",status:""},status:0};for(o in t.tableData=r.data.list,t.page=r.data.page,t.limit=r.data.limit,t.total=r.data.sum,t.orderby=r.data.orderby,t.areaOptions=r.data.area,i=r.data.domainstatus,t.statusOptions=[],i)l={value:o,label:i[o].name,color:i[o].color},t.statusOptions.push(l);!r.data.list.every((function(t){return"Pending"===t.domainstatus}))&&r.data.list.length&&t.getStatus(r.data.list),r.group&&(t.group=r.group);case 21:case"end":return e.stop()}}),e)})))()},getStatus:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n,i,o,l,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r={id:[],func:"status ",code:""},t=t.filter((function(t){var e,a;return"on"!==(null===(e=t.status)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.status)})),Array.isArray(t))for(s=0;s<t.length;s++)n=t[s],r.id.push(n.id);if(r.id.length){a.next=7;break}return clearInterval(e.loopStatusTimer),e.loopStatusTimer=null,a.abrupt("return");case 7:return a.next=9,Object(c["d"])(r);case 9:if(i=a.sent,o=i.data,200===o.status){a.next=14;break}return e.$message.error(o.msg),a.abrupt("return");case 14:for(l=0;l<e.tableData.length;l++)for(d in u=e.tableData[l],o.data)p=o.data[d],u.id===parseInt(d)&&(u.status=p);case 15:case"end":return a.stop()}}),a)})))()},loopGetStatus:function(t){var e=this;null!==this.loopStatusTimer&&clearInterval(this.loopStatusTimer);var a=0;this.getStatus(t),this.loopStatusTimer=setInterval(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(a>=300)){t.next=4;break}return clearInterval(e.loopStatusTimer),e.loopStatusTimer=null,t.abrupt("return");case 4:return window.cancel(),t.next=7,e.getStatus(e.tableData);case 7:a+=15;case 8:case"end":return t.stop()}}),t)}))),15e3)},getSingleStatus:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,r={id:[t.id],func:"status ",code:""},a.next=4,Object(c["d"])(r);case 4:if(s=a.sent,n=s.data,200===n.status){a.next=9;break}return e.$message.error(n.msg),a.abrupt("return");case 9:t.loading=!1,t.status.data=n.data[t.id].data;case 11:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.page=1,this.getData()},changeArea:function(t){var e=t.split("-");this.showArea=e[0]?e[0]:"",this.dcim_area=e[1],this.getData()},changeStatus:function(t){this.selectStatus=t,this.getData()},showDialog:function(t){this.editNoteForm.id=t.id,this.editNoteForm.remark=t.notes,this.editNoteDialogVisible=!0},editNote:u.debounce(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["l"])(this.editNoteForm);case 2:if(a=t.sent,r=a.data,200===r.status){t.next=7;break}return this.$message({type:"error",message:r.msg,center:!0}),t.abrupt("return",!1);case 7:this.$message({type:"success",message:r.msg,center:!0}),this.editNoteDialogVisible=!1,this.getData();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),700),cancelNotes:function(){this.$refs.editNoteFormRef.resetFields(),this.editNoteDialogVisible=!1},goToView:function(t){"dcimcloud"===t.product_type||"cloud"===t.product_type?this.$router.push({name:"ServerInnerPage",query:{id:t.id,groupid:this.groupid}}):"dcim"===t.product_type||"server"===t.product_type?this.$router.push({name:"StandaloneServerInner",query:{id:t.id,groupid:this.groupid}}):"software"===t.product_type?this.$router.push({path:"/authorize",query:{id:t.id,groupid:this.groupid}}):this.$router.push({name:"OhterServerInner",query:{id:t.id,groupid:this.groupid}})},tableSelectionChange:function(t){this.tableMul=t},goToMulBilling:u.throttle((function(){if(0===this.tableMul.length)return this.$message.warning(this.$t("standaloneServer.notSelectServer")),this.$refs.serverTableRef.clearSelection(),!1;var t=this.tableMul.filter((function(t){return("Active"===t.domainstatus||"Suspended"===t.domainstatus)&&"free"!==t.billingcycle&&"onetime"!==t.billingcycle})),e=[];if(t.forEach((function(t){e.push(t.id)})),this.idMul=e,0===this.idMul.length)return this.$message.error(this.$t("standaloneServer.selectErrorServer")),this.$refs.serverTableRef.clearSelection(),!1;sessionStorage.setItem("multipleType","cloud"),this.$router.push({name:"StandaloneServerMBilling",query:{ids:this.idMul}})}),1e3),getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e}},filters:{cutFu:function(t){if(t.endsWith("付")){var e=t.substring(0,t.length-1);return e}return t},osFilter:function(t){var e="";return e=1===t?"windows":2===t?"centos":3===t?"ubuntu":4===t?"debian":5===t?"esxi":6===t?"xenserver":7===t?"freebsd":8===t?"fedora":"-",e}},computed:{setClass:function(){return this.group.fa_icon}},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0},tableMul:{handler:function(t){this.allPending=t.every((function(t){return"Pending"===t.domainstatus}))||!t.length},deep:!0,immediate:!0}},created:function(){this.getData()},beforeDestroy:function(){clearInterval(this.loopStatusTimer)}},p=d,g=(a("d940d"),a("2877")),h=Object(g["a"])(p,r,s,!1,null,"4e44752c",null);e["default"]=h.exports},"841c":function(t,e,a){"use strict";var r=a("d784"),s=a("825a"),n=a("1d80"),i=a("129f"),o=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=n(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var n=s(t),l=String(this),c=n.lastIndex;i(c,0)||(n.lastIndex=0);var u=o(n,l);return i(n.lastIndex,c)||(n.lastIndex=c),null===u?-1:u.index}]}))},"8a79":function(t,e,a){"use strict";var r=a("23e7"),s=a("06cf").f,n=a("50c4"),i=a("5a34"),o=a("1d80"),l=a("ab13"),c=a("c430"),u="".endsWith,d=Math.min,p=l("endsWith"),g=!c&&!p&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!g&&!p},{endsWith:function(t){var e=String(o(this));i(t);var a=arguments.length>1?arguments[1]:void 0,r=n(e.length),s=void 0===a?r:d(n(a),r),l=String(t);return u?u.call(e,l,s):e.slice(s-l.length,s)===l}})},a623:function(t,e,a){"use strict";var r=a("23e7"),s=a("b727").every,n=a("a640"),i=a("ae40"),o=n("every"),l=i("every");r({target:"Array",proto:!0,forced:!o||!l},{every:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,e,a){var r=a("b622"),s=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(r){}}return!1}},d940d:function(t,e,a){"use strict";var r=a("db6a"),s=a.n(r);s.a},db6a:function(t,e,a){}}]);