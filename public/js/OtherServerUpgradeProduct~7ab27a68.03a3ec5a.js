(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OtherServerUpgradeProduct~7ab27a68"],{"5bd6":function(t,e,c){},b0f3:function(t,e,c){"use strict";var r=c("5bd6"),i=c.n(r);i.a},b4f7:function(t,e,c){"use strict";c.r(e);var r=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"box"},[t.productList.length?t._e():c("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,r){return c("div",{key:"pro"+r,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(c){return t.proChange(e.pid)}}},[e.host?c("el-row",[c("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),c("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[c("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(c){t.$set(e,"billingcycle",c)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,r){return c("el-option",{key:"cycle"+r,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?c("div",{staticClass:"tar"},[c("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},i=[],a=(c("4160"),c("159b"),c("96cf"),c("1da1")),n=c("27fd"),u={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["P"])({hid:t.id,currencyid:void 0});case 2:c=e.sent,r=c.data,200!==r.status||((r.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=r.data.host[0].pid,t.productList=r.data.host,t.currency=r.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(c){c.pid===t&&c.cycle.length&&e.cycleChange(c.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(c){(c.cycle||[]).forEach((function(c){t===c.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=c.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(n["R"])(t.upgradeSubmitData);case 4:c=e.sent,r=c.data,200!==r.status?t.$message.error(r.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},o=u,l=(c("b0f3"),c("2877")),s=Object(l["a"])(o,r,i,!1,null,"1c60d1d6",null);e["default"]=s.exports}}]);