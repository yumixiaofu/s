(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StandaloneServerInner~e000e1ef"],{"2d95":function(e,t,a){"use strict";var s=a("98f3"),n=a.n(s);n.a},"33a2":function(e,t,a){},"4b18":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"breadcrumb"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[1===e.baseData.host_data.group.id?s("el-breadcrumb-item",{attrs:{to:{path:"/cloud-server",query:{groupid:e.baseData.host_data.group.id}}}},[s("i",{class:e.setClass}),e._v(" "+e._s(e.baseData.host_data.group.groupname)+" ")]):2===e.baseData.host_data.group.id?s("el-breadcrumb-item",{attrs:{to:{path:"/servers",query:{groupid:e.baseData.host_data.group.id}}}},[s("i",{class:e.setClass}),e._v(" "+e._s(e.baseData.host_data.group.groupname)+" ")]):e.baseData.host_data.group.id>=3?s("el-breadcrumb-item",{attrs:{to:{path:"/other-servers",query:{groupid:e.baseData.host_data.group.id}}}},[s("i",{class:e.setClass}),e._v(" "+e._s(e.baseData.host_data.group.groupname)+" ")]):e._e(),s("el-breadcrumb-item",[e._v("详情")])],1)],1),s("div",{staticClass:"server_header_box mb-20 flex-between"},[s("div",{staticClass:"flexc-v header_box_inner"},[s("div",{staticClass:"header_box_left flex-between mr-20"},[s("div",{staticClass:"box_left_icon"},[e.baseData.module_power_status?s("el-tooltip",{attrs:{effect:"light",placement:"top",content:e.powerStatus.msg}},[s("div",{staticClass:"left_icon_img flexc cursor-pointer",on:{click:e.handlePowerStatus}},["process"===e.powerStatus.status||e.powerStatusLoading||e.tasking?s("span",{staticClass:"el-icon-loading",staticStyle:{"font-size":"20px",color:"#4a7ffc"}}):"on"===e.powerStatus.status?s("span",{staticClass:"sprite start"}):"off"===e.powerStatus.status?s("span",{staticClass:"sprite close"}):"waiting"===e.powerStatus.status?s("span",{staticClass:"sprite waitOn"}):"suspend"===e.powerStatus.status?s("span",{staticClass:"sprite pause"}):"wait_reboot"===e.powerStatus.status||"wait"===e.powerStatus.status?s("span",{staticClass:"sprite waiting"}):(e.powerStatus.status,s("span",{staticClass:"sprite unknown"}))])]):s("el-tooltip",{attrs:{effect:"light",placement:"top",content:e.baseData.host_data.domainstatus_desc}},[s("div",{staticClass:"left_icon_img flexc"},["Fraud"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Fraud"}):"Pending"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Pending"}):"Deleted"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Deleted"}):"Cancelled"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Cancelled"}):"Active"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Active"}):"Suspended"===e.baseData.host_data.domainstatus?s("span",{staticClass:"sprite2 Suspended"}):e._e()])])],1),s("div",{staticClass:"box_left_proname ml-20 mr-10"},[s("div",{staticClass:"fz-18 font-bold mb-10 ofe lh-20"},[s("label",[e._v(e._s(e.baseData.host_data.productname))]),e.baseData.host_data.suspendreason?s("el-tooltip",{attrs:{effect:"light",placement:"top",content:e.baseData.host_data.suspendreason}},[s("span",{staticClass:"ml-10",class:e.baseData.host_data.domainstatus},[e._v(e._s(e.baseData.host_data.domainstatus_desc))])]):s("span",{staticClass:"ml-10 tac",class:e.baseData.host_data.domainstatus,staticStyle:{display:"inline-block",width:"50px",padding:"0px 10px"}},[e._v(e._s(e.baseData.host_data.domainstatus_desc))])],1),s("div",{staticClass:"fz-12 domain flex-between"},[s("span",{staticStyle:{opacity:"0.5"}},[e._v(e._s(e.baseData.host_data.domain))]),e.tasking?s("span",{staticClass:"cancelBtn",on:{click:e.cancelTask}},[e._v(e._s(e.taskName))]):e._e()])])]),s("div",{staticClass:"header_box_middle clearfix"},[e._l(e.baseData.config_options,(function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:[5,6,8].includes(t.option_type),expression:"[5, 6, 8].includes(item.option_type)"}],key:"headerconfig"+a,staticClass:"box_middle_item fl mr-20"},[s("div",{staticClass:"fz-16 color-333 font-bold"},[e._v(e._s(t.sub_name))]),s("div",{staticClass:"fz-12 color-999 mt-10"},[5===t.option_type?s("i",{staticClass:"el-icon-s-tools"}):e._e(),6===t.option_type?s("i",{staticClass:"el-icon-cpu"}):e._e(),8===t.option_type?s("i",{staticClass:"iconfont icon-Rectanglex fz-12"}):e._e(),s("span",{staticClass:"ml-10 mr-10"},[e._v(e._s(t.name))]),5===t.option_type&&e.consoleBtns.filter((function(e){return"reinstall"===e.value}))[0].show&&"bms"!==e.baseData.host_data.config_option1?s("span",{staticClass:"btn pointer",on:{click:e.reloadSystemPopup}},[e._v("重装系统")]):e._e(),5===t.option_type&&e.baseData.module_button.control.map((function(e){return e.func})).includes("reinstall")&&"bms"===e.baseData.host_data.config_option1?s("span",{staticClass:"btn pointer",on:{click:function(t){e.controlBmsHandleCommand(e.baseData.module_button.control.filter((function(e){return"reinstall"===e.func}))[0].name+"-"+e.baseData.module_button.control.filter((function(e){return"reinstall"===e.func}))[0].func+"-"+e.baseData.module_button.control.filter((function(e){return"reinstall"===e.func}))[0].type)}}},[e._v(e._s(e.baseData.module_button.control.filter((function(e){return"reinstall"===e.func}))[0].name))]):e._e()])])})),s("div",{staticClass:"box_middle_item fl mr-20"},[s("div",{staticClass:"fz-16 color-333 font-bold"},[s("el-popover",{staticClass:"mb-10",attrs:{placement:"right",trigger:"hover",disabled:0===e.baseData.host_data.assignedips.length||!e.baseData.host_data.dedicatedip}},[s("ul",{staticStyle:{"list-style":"none",padding:"0",color:"#333333"}},e._l(e.baseData.host_data.assignedips,(function(t,a){return s("li",{key:"ip"+a,style:{color:t.color},on:{mouseover:function(e){t.color="#2f54ea"}}},[s("span",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(t.ip))]),s("i",{ref:t.guid,refInFor:!0,staticClass:"iconfont icon-fuzhiyemian cursor-pointer",attrs:{"data-clipboard-text":t.ip},on:{click:function(a){return e.clickCopy(t.guid)},mouseenter:function(a){return e.clickCopy(t.guid)}}})])})),0),s("span",{staticClass:"main_name",staticStyle:{cursor:"pointer",marginRight:"5px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.baseData.host_data.dedicatedip?e.baseData.host_data.dedicatedip+(e.baseData.host_data.assignedips.length?"("+e.baseData.host_data.assignedips.length+")":""):"-")+" ")])])],1),s("div",{staticClass:"fz-12 color-999 mt-10"},[s("i",{staticClass:"iconfont icon-ip fz-12"}),e._v(" IP地址 "),s("i",{ref:e.baseData.host_data.dedicatedip,staticClass:"iconfont icon-fuzhiyemian cursor-pointer",staticStyle:{"font-weight":"normal"},attrs:{"data-clipboard-text":e.baseData.host_data.dedicatedip},on:{click:function(t){return e.clickCopy(e.baseData.host_data.dedicatedip)},mouseenter:function(t){return e.clickCopy(e.baseData.host_data.dedicatedip)}}})])]),s("div",{staticClass:"box_middle_item fl mr-20"},[s("el-popover",{attrs:{placement:"bottom-end",width:"auto",trigger:"hover"}},[s("div",[s("label",{staticClass:"box_row1_label",staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("用户名:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.username))])]),s("div",[s("label",{staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("密码:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.password))]),s("i",{ref:e.baseData.host_data.password+"header1",staticClass:"iconfont icon-fuzhiyemian ml-10 cursor-pointer",staticStyle:{color:"#506cfe"},attrs:{"data-clipboard-text":e.baseData.host_data.password},on:{click:function(t){return e.clickCopy(e.baseData.host_data.password+"header1")},mouseenter:function(t){return e.clickCopy(e.baseData.host_data.password+"header1")}}})]),s("div",[s("label",{staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("端口:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.port||"默认"))])]),s("span",{staticClass:"main_name",staticStyle:{outline:"none"},attrs:{slot:"reference"},slot:"reference"},[e.showPwd?s("span",[e._v(e._s(e.baseData.host_data.password))]):s("span",{staticStyle:{display:"inline-block",width:"100px"}},[e._v("********")]),s("i",{staticClass:"el-icon-view ml-10 cursor-pointer",on:{click:function(t){e.showPwd=!e.showPwd}}}),s("i",{ref:e.baseData.host_data.password+"header",staticClass:"iconfont icon-fuzhiyemian cursor-pointer ml-10",staticStyle:{"font-weight":"normal"},attrs:{"data-clipboard-text":e.baseData.host_data.password},on:{click:function(t){return e.clickCopy(e.baseData.host_data.password+"header")},mouseenter:function(t){return e.clickCopy(e.baseData.host_data.password+"header")}}})])]),s("div",{staticClass:"fz-12 color-999 mt-10"},[s("i",{staticClass:"iconfont icon-suo fz-12"}),s("span",{staticClass:"ml-10 mr-10"},[e._v("密码")]),e.consoleBtns.filter((function(e){return"crack_pass"===e.value}))[0].show&&"Active"===e.baseData.host_data.domainstatus&&e.baseData.dcim.auth&&"bms"!==e.baseData.host_data.config_option1?s("span",{staticClass:"btn pointer",on:{click:e.openaaCrackPass}},[e._v("破解密码")]):e._e(),e.baseData.module_button.control.map((function(e){return e.func})).includes("crack_pass")&&"Active"===e.baseData.host_data.domainstatus&&"bms"===e.baseData.host_data.config_option1?s("span",{staticClass:"btn pointer",on:{click:function(t){e.controlBmsHandleCommand(e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].name+"-"+e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].func+"-"+e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].type)}}},[e._v(e._s(e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].name))]):e._e()])],1)],2)]),s("div",{staticClass:"header_box_right"},[s("div",{staticClass:"box_right_inner"},["bms"!==e.baseData.host_data.config_option1?["Active"===e.baseData.host_data.domainstatus&&e.baseData.dcim.auth?s("el-dropdown",{staticClass:"mr-10",on:{command:e.controlHandleCommand}},[s("el-button",{staticClass:"custom-button"},[e._v(" 控制"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.consoleBtns,(function(t,a){return s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:"consolebtn"+a,attrs:{command:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),"Active"===e.baseData.host_data.domainstatus&&e.baseData.dcim.auth?s("el-dropdown",{on:{command:e.consoleHandleClick}},[s("el-button",{staticClass:"custom-button"},[e._v(" 控制台"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===e.baseData.dcim.auth["kvm"],expression:"baseData.dcim.auth['kvm'] === 'on'"}],attrs:{command:"kvm"}},[e._v("kvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===e.baseData.dcim.auth["ikvm"],expression:"baseData.dcim.auth['ikvm'] === 'on'"}],attrs:{command:"ikvm"}},[e._v("ikvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===e.baseData.dcim.auth["novnc"],expression:"baseData.dcim.auth['novnc'] === 'on'"}],attrs:{command:"vnc"}},[e._v("vnc")])],1)],1):e._e()]:[s("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.baseData.module_button.control.length,expression:"baseData.module_button.control.length"}],on:{command:e.controlBmsHandleCommand}},[s("el-button",{staticClass:"custom-button"},[e._v(" 控制"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.baseData.module_button.control,(function(t,a){return s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"crack_pass"!==t.func&&("reinstall"!==t.func||e.showReinstallBtn),expression:"item.func !== 'crack_pass' && (item.func !== 'reinstall' || showReinstallBtn)"}],key:"controlbtn"+a,attrs:{command:t.name+"-"+t.func+"-"+t.type}},[e._v(" "+e._s(t.name))])})),1)],1),e.baseData.module_button.console.length?s("el-dropdown",{staticClass:"mr-10",on:{command:e.consoleBmsHandleCommand}},[s("el-button",{staticClass:"custom-button"},[e._v(" 控制台"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.baseData.module_button.console,(function(t,a){return s("el-dropdown-item",{key:"consolebtn"+a,attrs:{command:t.name+"-"+t.func+"-"+t.type}},[e._v(e._s(t.name))])})),1)],1):e._e()]],2),e.host_cancel.init||"Active"!==e.baseData.host_data.domainstatus&&"Suspended"!==e.baseData.host_data.domainstatus?e._e():s("div",{staticClass:"mr-10 box_right_inner"},[0===e.host_cancel.length?s("el-button",{staticClass:"custom-button",on:{click:function(t){e.cancelDialog=!0}}},[e._v("停用 ")]):s("el-button",{staticStyle:{height:"37px",border:"none","border-radius":"4px"},attrs:{type:"danger"},on:{click:e.deleteCancel}},[e._v(" "+e._s("Immediate"!==e.host_cancel.type?"到期时停用":"立即停用"))])],1)])]),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{xs:24,sm:24,md:24,lg:7,xl:7}},[s("div",{staticClass:"server_left_box"},[s("div",{staticClass:"left_box_row1 mb-10"},[s("el-popover",{attrs:{placement:"bottom-end",width:"auto",trigger:"hover"}},[s("div",[s("label",{staticClass:"box_row1_label",staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("用户名:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.username))])]),s("div",[s("label",{staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("密码:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.password))]),s("i",{ref:e.baseData.host_data.password,staticClass:"iconfont icon-fuzhiyemian ml-10 cursor-pointer",staticStyle:{color:"#506cfe"},attrs:{"data-clipboard-text":e.baseData.host_data.password},on:{click:function(t){return e.clickCopy(e.baseData.host_data.password)},mouseenter:function(t){return e.clickCopy(e.baseData.host_data.password)}}})]),s("div",[s("label",{staticStyle:{"font-size":"12px",color:"#999",display:"inline-block",width:"40px","text-align-last":"justify"}},[e._v("端口:")]),s("span",{staticClass:"ml-10",staticStyle:{"font-size":"12px",color:"#333"}},[e._v(e._s(e.baseData.host_data.port||"默认"))])]),s("div",{staticClass:"tac mt-10"},[e.consoleBtns.filter((function(e){return"crack_pass"===e.value}))[0].show&&"Active"===e.baseData.host_data.domainstatus&&e.baseData.dcim.auth&&"bms"!==e.baseData.host_data.config_option1?s("span",{staticClass:"btn fz-12",staticStyle:{display:"inline-block",width:"121px",height:"27px","line-height":"27px",color:"#fff","background-color":"#2f54ea","border-radius":"4px",cursor:"pointer"},on:{click:e.openaaCrackPass}},[e._v("破解密码")]):e._e(),e.baseData.module_button.control.map((function(e){return e.func})).includes("crack_pass")&&"Active"===e.baseData.host_data.domainstatus&&"bms"===e.baseData.host_data.config_option1?s("span",{staticClass:"btn fz-12",staticStyle:{display:"inline-block",width:"121px",height:"27px","line-height":"27px",color:"#fff","background-color":"#2f54ea","border-radius":"4px",cursor:"pointer"},on:{click:function(t){e.controlBmsHandleCommand(e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].name+"-"+e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].func+"-"+e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].type)}}},[e._v(e._s(e.baseData.module_button.control.filter((function(e){return"crack_pass"===e.func}))[0].name))]):e._e()]),s("div",{staticClass:"box_row1_login flexc",attrs:{slot:"reference"},slot:"reference"},[e._v("登录信息"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),e.baseData.host_data.bwlimit>0&&"Active"===e.baseData.host_data.domainstatus||"Suspended"===e.baseData.host_data.domainstatus&&("用量超额"===e.baseData.host_data.suspendreason_type||"flow"===e.baseData.host_data.suspendreason_type)?s("div",{staticClass:"box_row1_flow flexc",on:{click:function(t){e.flowDialogVisible=!0}}},[e._v(" 订购流量")]):e._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.baseData.host_data.bwlimit>0&&"Active"===e.baseData.host_data.domainstatus||"Suspended"===e.baseData.host_data.domainstatus&&("用量超额"===e.baseData.host_data.suspendreason_type||"flow"===e.baseData.host_data.suspendreason_type),expression:"(baseData.host_data.bwlimit>0 && baseData.host_data.domainstatus==='Active') || (baseData.host_data.domainstatus === 'Suspended' && (baseData.host_data.suspendreason_type === '用量超额' || baseData.host_data.suspendreason_type === 'flow'))"}],staticClass:"left_box_row2"},[s("div",{ref:"chartBox",staticClass:"w-100 box_row2_chart",attrs:{id:"chartBox"}})]),s("div",{staticClass:"left_box_row3"},[s("el-row",{attrs:{gutter:10}},[e._l(e.baseData.config_options,(function(t,a){return s("el-col",{directives:[{name:"show",rawName:"v-show",value:![5,6,8].includes(t.option_type),expression:"![5, 6, 8].includes(item.option_type)"}],key:"leftconfig"+a,staticClass:"mb-10",attrs:{span:12}},[s("div",{staticClass:"row3_config_item"},[s("label",[e._v(e._s(t.name))]),s("span",[12===t.option_type?s("img",{attrs:{src:"/upload/common/country/"+t.code+".png",alt:"",width:"20px"}}):e._e(),e._v(" "+e._s(t.sub_name)+" ")])])])})),e._l(e.baseData.custom_field_data,(function(t,a){return s("el-col",{key:"customfiled"+a,staticClass:"mb-10",attrs:{span:24}},[s("div",{staticClass:"row3_config_remark"},[s("label",[e._v(e._s(t.fieldname))]),s("span",[e._v(e._s(t.value))])])])})),s("el-col",{staticClass:"mb-10 mt-10",attrs:{span:24}},[s("div",{staticClass:"row3_config_remark"},[s("label",[e._v("备注信息")]),s("span",[e._v(e._s(e.baseData.host_data.remark||"-"))])])])],2)],1),s("div",{staticClass:"left_box_row4 mt-20 mb-20"},[s("div",{staticClass:"box_row4_title mb-20"},[s("span",{staticClass:"row4_title_first"},[e._v("首次订购价格")]),"Paid"===e.renewData.host.status&&"onetime"!==e.baseData.host_data.billingcycle&&"free"!==e.baseData.host_data.billingcycle?s("span",{staticClass:"row4_title_renew",on:{click:function(t){e.renewDialogVisible=!0}}},[e._v("立即续费")]):e._e(),"Unpaid"===e.renewData.host.status?s("span",{staticClass:"row4_title_renew",on:{click:e.payNow}},[e._v("立即支付")]):e._e()]),s("div",{staticClass:"box_row4_content"},[s("div",{staticClass:" auto_renew_box"},[s("div",{staticClass:"mb-20"},[s("span",{staticClass:"row4_content_price mr-10"},[e._v(e._s(e.renewData.currency.prefix)+e._s(e.renewData.host.firstpaymentamount))]),e.renewData.host.status?s("span",{staticClass:"row4_content_expire"},["Paid"===e.renewData.host.status&&"onetime"!==e.renewData.host.billingcycle&&"free"!==e.renewData.host.billingcycle?s("span",[e.$moment(1e3*e.renewData.host.nextduedate).diff(e.$moment(new Date),"days")>=7?s("span",{staticClass:"content_expire_label",style:{background:"#3fbf70"}},[e._v(e._s("还剩"+e.overdue))]):e._e(),e.$moment(1e3*e.renewData.host.nextduedate).diff(e.$moment(new Date),"days")<7&&e.$moment(1e3*e.renewData.host.nextduedate).diff(e.$moment(new Date),"seconds")>0?s("span",{staticClass:"content_expire_label",style:{background:"#f7a200"}},[e._v("即将到期")]):e._e(),e.$moment(1e3*e.renewData.host.nextduedate).diff(e.$moment(new Date),"seconds")<=0?s("span",{staticClass:"content_expire_label",style:{background:"#ee5186"}},[e._v("已逾期")]):e._e()]):e._e(),"Unpaid"===e.renewData.host.status?s("span",{staticClass:"content_expire_label",style:{background:"#ee5186"}},[e._v("未支付")]):e._e()]):e._e()]),"Paid"!==e.renewData.host.status||"free"===e.renewData.host.billingcycle||"onetime"===e.renewData.host.billingcycle||"Active"!==e.renewData.host.domainstatus&&"Suspended"!==e.renewData.host.domainstatus?e._e():s("div",{staticClass:"mb-20"},[s("span",{staticClass:"mr-10"},[e._v("自动余额续费")]),s("el-switch",{staticClass:"mr-20",attrs:{"active-value":1,"inactive-value":0},on:{change:e.autoRenew},model:{value:e.baseData.host_data.initiative_renew,callback:function(t){e.$set(e.baseData.host_data,"initiative_renew",t)},expression:"baseData.host_data.initiative_renew"}})],1)]),s("div",{staticClass:"bottom_first_row ml-10"},[s("span",{staticClass:"mb-10"},[s("span",{staticClass:"black-point mr-10"}),e._v(" 订购日期："+e._s(e.renewData.host.regdate?e.$moment(1e3*e.renewData.host.regdate).format("YYYY-MM-DD"):"-")+" ")]),s("span",{},[s("span",{staticClass:"black-point mr-10"}),e._v(" 付款周期："+e._s(e.renewData.host.billingcycle_zh)+" ")])]),s("div",{staticClass:"mt-10 ml-10"},[s("span",{staticClass:"mr-20"},[s("span",{staticClass:"black-point mr-10"}),e._v(" 到期时间："+e._s(e.baseData.host_data.nextduedate&&"free"!==e.baseData.host_data.billingcycle&&"onetime"!==e.baseData.host_data.billingcycle?e.$moment(1e3*e.baseData.host_data.nextduedate).format("YYYY-MM-DD"):"不到期")+" ")])])])])])]),s("el-col",{attrs:{xs:24,sm:24,md:24,lg:17,xl:17}},[s("div",{staticClass:"server_right_box custom-tabs"},[s("el-tabs",{on:{"tab-click":e.getCustom},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},["Active"===e.baseData.host_data.domainstatus&&e.baseData.dcim.auth&&"on"===e.baseData.dcim.auth.traffic?s("el-tab-pane",{attrs:{label:"图表",name:"1"}},["1"===e.tabActiveName?s("chart",{ref:"chart"}):e._e()],1):e._e(),e._e(),e.baseData.host_data.show_traffic_usage?s("el-tab-pane",{attrs:{label:"用量",name:"3"}},["3"===e.tabActiveName?s("used"):e._e()],1):e._e(),"Active"===e.baseData.host_data.domainstatus&&(e.baseData.host_data.allow_upgrade_config||e.baseData.host_data.allow_upgrade_product)?s("el-tab-pane",{attrs:{label:"升降级",name:"4"}},["4"===e.tabActiveName?s("upgrade",{attrs:{baseData:e.baseData}}):e._e()],1):e._e(),e.baseData.download_data.length?s("el-tab-pane",{attrs:{label:"文件下载",name:"5"}},["5"===e.tabActiveName?s("download",{attrs:{baseData:e.baseData}}):e._e()],1):e._e(),e._l(e.baseData.module_client_area,(function(t){return s("el-tab-pane",{key:"tabpage"+t.key,attrs:{label:t.name,name:t.key}},[s("div",[s("embed",{directives:[{name:"show",rawName:"v-show",value:isNaN(parseInt(e.tabActiveName)),expression:"isNaN(parseInt(tabActiveName))"}],staticStyle:{width:"100%"},attrs:{height:"800",src:e.htmlContent,type:""}})])])})),s("el-tab-pane",{attrs:{label:"日志",name:"6"}},["6"===e.tabActiveName?s("log"):e._e()],1)],2)],1)])],1),s("el-dialog",{attrs:{title:e.$t("standaloneServer.controlRescueSystem"),visible:e.rescueDialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.rescueDialogFormVisible=t}}},[s("div",{staticClass:"custom_body"},[s("el-form",{ref:"rescueFormRef",staticClass:"rescue-box",attrs:{model:e.rescueForm,"label-width":"80px"}},[s("el-form-item",{attrs:{label:e.$t("standaloneServer.os")}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.rescueForm.system,callback:function(t){e.$set(e.rescueForm,"system",t)},expression:"rescueForm.system"}},[s("el-option",{attrs:{label:"Linux",value:"1"}}),s("el-option",{attrs:{label:"Windows",value:"2"}})],1)],1)],1),s("div",{staticClass:"tar"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.rescueDialogFormVisible=!1}}},[e._v(e._s(e.$t("btnCancle")))]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.clickRescue}},[e._v(e._s(e.$t("btnConfirmation")))])],1)],1)]),s("el-dialog",{attrs:{title:e.$t("standaloneServer.controlDecryption"),visible:e.isCrack,width:"600px",height:"600px"},on:{"update:visible":function(t){e.isCrack=t},closed:e.crackPassFunc}},[s("div",{staticClass:"custom_body"},[s("el-form",{ref:"crackPassObjRef",staticClass:"demo-reloadSystemData",attrs:{model:e.crackPassObj,rules:e.crackRules,"label-width":"95px"}},[s("el-form-item",{attrs:{label:"","label-width":"0px"}},[s("span",[e._v(e._s(e.$t("standaloneServer.decryTitle")))])]),s("el-form-item",{staticClass:"creakInput",attrs:{label:e.$t("standaloneServer.password"),prop:"password"}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.crackPassObj.password,callback:function(t){e.$set(e.crackPassObj,"password",t)},expression:"crackPassObj.password"}}),s("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(t){return e.creatCode(12)}}}),s("i",{ref:e.crackPassObj.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":e.crackPassObj.password},on:{click:function(t){return e.clickCopy(e.crackPassObj.password)},mouseenter:function(t){return e.clickCopy(e.crackPassObj.password)}}})],1),s("el-form-item",{attrs:{label:e.$t("standaloneServer.crackOther")}},[s("el-checkbox-group",{model:{value:e.crackRest,callback:function(t){e.crackRest=t},expression:"crackRest"}},[s("el-checkbox",{attrs:{value:"1",label:"1"}},[e._v(e._s(e.$t("standaloneServer.crackOtherLabel")))])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==e.crackRest.length,expression:"crackRest.length === 0 ? false : true"}],attrs:{label:e.$t("standaloneServer.customUser")}},[s("el-input",{attrs:{type:"text",placeholder:"",autocomplete:"off",clearable:""},model:{value:e.crackPassObj.user,callback:function(t){e.$set(e.crackPassObj,"user",t)},expression:"crackPassObj.user"}})],1)],1),s("div",{staticClass:"tar"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.isCrack=!1}}},[e._v(e._s(e.$t("btnCancle")))]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.crackBtn}},[e._v(e._s(e.$t("btnConfirmation")))])],1)],1)]),s("el-dialog",{staticClass:"reloadSystem",attrs:{title:e.$t("standaloneServer.controlReinstallSystem"),visible:e.isReloadSystem,width:"600px",height:"600px"},on:{"update:visible":function(t){e.isReloadSystem=t},colsed:e.onClosed}},[e.reloadSystemData.domain||e.reloadSystemData.advIp||e.reloadSystemData.remark?s("div",{staticClass:"reinstall_row mb-10"},[s("el-row",{staticStyle:{padding:"24px 35px"}},[s("el-col",{attrs:{span:12}},[s("label",{staticClass:"fz-12 color-999",staticStyle:{display:"inline-block",width:"60px"}},[e._v(e._s(e.$t("standaloneServer.hostName"))+"：")]),s("span",[e._v(e._s(e.reloadSystemData.domain))])]),s("el-col",{attrs:{span:12}},[s("label",{staticClass:"fz-12 color-999",staticStyle:{display:"inline-block",width:"60px"}},[e._v(e._s(e.$t("standaloneServer.dedicatedIP"))+"：")]),s("span",[e._v(e._s(e.reloadSystemData.advIp+"("+e.reloadSystemData.sum+")"))])]),s("el-col",{staticClass:"mt-10",attrs:{span:12}},[s("label",{staticClass:"fz-12 color-999",staticStyle:{display:"inline-block",width:"60px"}},[e._v(e._s(e.$t("standaloneServer.remark"))+"：")]),s("span",[e._v(e._s(e.reloadSystemData.remark))])])],1)],1):e._e(),s("div",{staticClass:"custom_body"},[s("el-form",{ref:"reloadSystemDataRef",staticClass:"demo-reloadSystemData",attrs:{model:e.reloadSystemData,rules:e.rules,"label-width":"60px"}},[s("el-form-item",{attrs:{label:e.$t("standaloneServer.os"),prop:"systemVal"}},[s("el-select",{staticClass:"systemVal mr-10",attrs:{size:"small",placeholder:e.$t("standaloneServer.pleaseSelect")},on:{change:e.systemChang},model:{value:e.reloadSystemData.systemVal,callback:function(t){e.$set(e.reloadSystemData,"systemVal",t)},expression:"reloadSystemData.systemVal"}},[s("template",{slot:"prefix"},[s("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"5px"},attrs:{src:"/upload/common/system/"+e.getOsSvg(e.reloadSystemData.systemVal)+".svg",alt:""}})]),e._l(e.systemArray,(function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[s("div",{staticClass:"flexc-v"},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.getOsSvg(t.id)+".svg",alt:""}}),s("span",[e._v(e._s(t.name))])])])}))],2),s("el-select",{staticClass:"versionsVal",attrs:{size:"small",placeholder:e.$t("standaloneServer.pleaseSelect")},on:{change:e.versionsChang},model:{value:e.reloadSystemData.versionsVal,callback:function(t){e.$set(e.reloadSystemData,"versionsVal",t)},expression:"reloadSystemData.versionsVal"}},e._l(e.versionsArray,(function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),s("el-form-item",{attrs:{label:e.$t("standaloneServer.password"),prop:"rootPass"}},[s("el-input",{attrs:{type:"password",size:"small","show-password":"",autocomplete:"off",clearable:""},model:{value:e.reloadSystemData.rootPass,callback:function(t){e.$set(e.reloadSystemData,"rootPass",t)},expression:"reloadSystemData.rootPass"}})],1),s("el-form-item",{attrs:{label:e.$t("standaloneServer.port"),prop:"port"}},[s("el-input",{attrs:{size:"small",placeholder:e.$t("standaloneServer.port")},model:{value:e.reloadSystemData.port,callback:function(t){e.$set(e.reloadSystemData,"port",t)},expression:"reloadSystemData.port"}},[s("el-button",{staticClass:"random",attrs:{slot:"append",type:"primary"},on:{click:e.portRandom},slot:"append"},[e._v(" "+e._s(e.$t("standaloneServer.random")))])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showSubType,expression:"showSubType"}],attrs:{label:e.$t("standaloneServer.partitionType"),prop:"subareaType"}},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("el-radio-group",{on:{change:e.subTypeFunc},model:{value:e.reloadSystemData.subareaType,callback:function(t){e.$set(e.reloadSystemData,"subareaType",t)},expression:"reloadSystemData.subareaType"}},[s("el-radio",{attrs:{label:"0"}},[e._v(e._s(e.$t("standaloneServer.fullFormat")))]),s("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$t("standaloneServer.formatTheFirstPartition")))])],1),s("el-checkbox-group",{staticClass:"advanced ml-40",on:{change:e.advancedFunc},model:{value:e.advanced,callback:function(t){e.advanced=t},expression:"advanced"}},[s("el-checkbox",{attrs:{value:"1",label:"高级"}},[e._v(e._s(e.$t("standaloneServer.highLevel")))])],1)],1)]),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showDisk,expression:"showDisk"}],attrs:{label:e.$t("standaloneServer.disk")}},[s("el-select",{staticClass:"disk-w",attrs:{size:"small",placeholder:e.$t("standaloneServer.pleaseSelect")},model:{value:e.reloadSystemData.disk,callback:function(t){e.$set(e.reloadSystemData,"disk",t)},expression:"reloadSystemData.disk"}},e._l(e.diskArray,(function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),s("el-form-item",{staticStyle:{width:"60%"},attrs:{label:" ",prop:""}},[s("el-checkbox",{model:{value:e.reInstallChecked,callback:function(t){e.reInstallChecked=t},expression:"reInstallChecked"}},[e._v("我已完成备份")])],1),s("p",{directives:[{name:"show",rawName:"v-show",value:"1"===e.reloadSystemData.subareaType,expression:"reloadSystemData.subareaType === '1'"}],staticClass:"hintStr"},[e._v(" "+e._s(e.hintStr)+" ")])],1),s("div",{class:{"flex-between":e.reinstallCheck.max_times,tar:!e.reinstallCheck.max_times}},[e.reinstallCheck.max_times?s("div",{staticClass:"fz-12 color-333"},[e._v("您本周免费重装次数 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.max_times))]),e._v(" 次，已重装次数 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.num))]),e._v(" 次，剩余 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.max_times-e.reinstallCheck.num))]),e._v(" 次")]):e._e(),s("div",[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.isReloadSystem=!1}}},[e._v(e._s(e.$t("btnCancle")))]),s("el-button",{attrs:{size:"small",type:"primary",disabled:!e.reInstallChecked},on:{click:e.saveReloadSystem}},[e._v(e._s(e.$t("btnConfirmation")))])],1)])],1)]),[s("el-dialog",{attrs:{title:e.$t("standaloneServer.controlReinstallSystem"),visible:e.reinstallDialog,width:"600px"},on:{"update:visible":function(t){e.reinstallDialog=t},open:e.getOsData,closed:e.reinstallClosed}},[s("el-row",{staticClass:"custom_body",attrs:{gutter:15}},[s("el-form",{ref:"reinstallForm",staticClass:"mt-20",attrs:{model:e.reinstallFormData,rules:e.reinstallRules,"label-width":"40px"}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:e.$t("standaloneServer.os"),prop:"osVal"}},[s("el-row",[e.cloudOsGroupOptions&&e.cloudOsGroupOptions.length>0?s("el-col",{staticClass:"mb-10",staticStyle:{"padding-right":"10px"},attrs:{xs:24,lg:12}},[s("el-select",{attrs:{size:"small",placeholder:e.$t("standaloneServer.pleaseSelect")},on:{change:e.osGroupChange},model:{value:e.reinstallFormData.groupVal,callback:function(t){e.$set(e.reinstallFormData,"groupVal",t)},expression:"reinstallFormData.groupVal"}},[s("template",{slot:"prefix"},[s("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"5px"},attrs:{src:"/upload/common/system/"+e.osSvgSelected+".svg",alt:""}})]),e._l(e.cloudOsGroupOptions,(function(t){return s("el-option",{key:"reinstallosgroup"+t.id,attrs:{label:t.name,value:t.id}},[s("div",{staticClass:"flexc-v"},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+t.osSvg+".svg",alt:""}}),s("span",[e._v(e._s(t.name))])])])}))],2)],1):e._e(),s("el-col",{attrs:{xs:24,lg:12}},[s("el-select",{attrs:{size:"small",placeholder:e.$t("standaloneServer.pleaseSelect")},model:{value:e.reinstallFormData.osVal,callback:function(t){e.$set(e.reinstallFormData,"osVal",t)},expression:"reinstallFormData.osVal"}},e._l(e.filterOsOptions,(function(t){return s("el-option",{key:"reinstallos"+t.id,attrs:{label:t.name,value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)],1),s("el-form-item",{staticStyle:{width:"60%"},attrs:{label:" ",prop:""}},[s("el-checkbox",{model:{value:e.reInstallChecked,callback:function(t){e.reInstallChecked=t},expression:"reInstallChecked"}},[e._v("我已完成备份")])],1)],1),s("el-col",{class:{"flex-between":e.reinstallCheck.max_times,tar:!e.reinstallCheck.max_times},attrs:{span:24}},[e.reinstallCheck.max_times?s("div",{staticClass:"fz-12 color-333"},[e._v("您本周免费重装次数 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.max_times))]),e._v(" 次，已重装次数 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.num))]),e._v(" 次，剩余 "),s("span",{staticStyle:{color:"#2f54ea"}},[e._v(e._s(e.reinstallCheck.max_times-e.reinstallCheck.num))]),e._v(" 次")]):e._e(),s("div",[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.reinstallDialog=!1}}},[e._v(e._s(e.$t("btnCancle")))]),s("el-button",{attrs:{size:"small",type:"primary",disabled:!e.reInstallChecked},on:{click:e.saveReinstall}},[e._v(e._s(e.$t("btnConfirmation")))])],1)])],1)],1)],1),s("el-dialog",{attrs:{title:"重置密码",visible:e.crackDialog,width:"600px"},on:{"update:visible":function(t){e.crackDialog=t},close:e.creakonClose}},[s("div",{staticClass:"custom_body"},[s("el-form",{ref:"crackPassword",staticClass:"mt-20",attrs:{model:e.crackFrom,"label-width":"80px"}},[s("el-form-item",{staticClass:"creakInput",staticStyle:{width:"80%"},attrs:{label:e.$t("cloudServer.pwd"),prop:"password",rules:[{required:!0,message:this.$t("cloudServer.pwdEmpty")}]}},[s("el-input",{model:{value:e.crackFrom.password,callback:function(t){e.$set(e.crackFrom,"password",t)},expression:"crackFrom.password"}}),s("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(t){return e.creatCode(12)}}}),s("i",{ref:e.crackFrom.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":e.crackFrom.password},on:{click:function(t){return e.clickCopy(e.crackFrom.password)},mouseenter:function(t){return e.clickCopy(e.crackFrom.password)}}})],1)],1),"on"===e.powerStatus.status&&("dcimcloud"===e.baseData.host_data.type||"dcim"===e.baseData.host_data.type&&"bms"===e.baseData.host_data.config_option1)?s("div",{staticClass:"force_off_tips mb-20"},[s("div",{staticClass:"mb-20"},[e._v("当前操作需要实例在关机状态下进行：")]),s("div",{staticClass:"mb-10"},[s("span",{staticClass:"red-point"}),e._v(" 为了避免数据丢失，实例将关机中断您的业务，请仔细确认。 ")]),s("div",[s("span",{staticClass:"red-point"}),e._v(" 强制关机可能会导致数据丢失或文件系统损坏，您也可以主动关机后再进行操作。 ")])]):e._e(),"on"===e.powerStatus.status&&("dcimcloud"===e.baseData.host_data.type||"dcim"===e.baseData.host_data.type&&"bms"===e.baseData.host_data.config_option1)?s("div",{staticClass:"force_off_item"},[s("label",{staticClass:"tar"},[s("span",{staticStyle:{color:"#f66e6e","margin-right":"5px"}},[e._v("*")]),e._v("强制关机")]),s("el-checkbox",{model:{value:e.agreeOff,callback:function(t){e.agreeOff=t},expression:"agreeOff"}},[e._v("同意强制关机")])],1):e._e(),s("div",{staticClass:"tar"},[s("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading,disabled:!e.agreeOff&&"on"===e.powerStatus.status&&("dcimcloud"===e.baseData.host_data.type||"dcim"===e.baseData.host_data.type&&"bms"===e.baseData.host_data.config_option1)},on:{click:e.saveCrack}},[e._v(" "+e._s(e.$t("cloudServer.determine")))])],1)],1)])],s("el-dialog",{attrs:{visible:e.cancelDialog,title:e.$t("cloudServer.chooseDeleteTime"),width:"25%","before-close":e.beforeClose},on:{"update:visible":function(t){e.cancelDialog=t},open:e.cancelOpen,opened:e.cancelOpened}},[s("div",{staticClass:"custom_body"},[s("el-form",{ref:"cancelForm",attrs:{model:e.cancelFormData,rules:e.cancelRules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:e.$t("cloudServer.cancelTime"),prop:"type"}},[s("el-select",{staticClass:"w-100",model:{value:e.cancelFormData.type,callback:function(t){e.$set(e.cancelFormData,"type",t)},expression:"cancelFormData.type"}},[s("el-option",{attrs:{value:"Immediate",label:e.$t("cloudServer.immediate")}}),"free"!==e.baseData.host_data.billingcycle&&"onetime"!==e.baseData.host_data.billingcycle?s("el-option",{attrs:{value:"Endofbilling",label:e.$t("cloudServer.waitingForEnd")}}):e._e()],1)],1),s("el-form-item",{staticClass:"limit_sel",attrs:{label:e.$t("cloudServer.cancelReason"),prop:"tempReason"}},[s("el-select",{staticClass:"w-100",on:{change:function(t){e.cancelFormData.reason=""}},model:{value:e.cancelFormData.tempReason,callback:function(t){e.$set(e.cancelFormData,"tempReason",t)},expression:"cancelFormData.tempReason"}},[e._l(e.cancelistOptions,(function(e,t){return s("el-option",{key:"cancel"+t,style:{maxWidth:"600px"},attrs:{value:e.reason,label:e.reason}})})),s("el-option",{attrs:{value:"other",label:e.$t("cloudServer.other")}})],2)],1),"other"===e.cancelFormData.tempReason?s("el-form-item",{attrs:{label:"",prop:"reason"}},[s("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:e.$t("cloudServer.pleaseEnterReason")},model:{value:e.cancelFormData.reason,callback:function(t){e.$set(e.cancelFormData,"reason",t)},expression:"cancelFormData.reason"}})],1):e._e()],1),s("div",{staticClass:"tar"},[s("el-button",{attrs:{size:"small"},on:{click:e.beforeClose}},[e._v(e._s(e.$t("cloudServer.cancel")))]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.cancelSubmit}},[e._v(e._s(e.$t("cloudServer.determine")))])],1)],1)]),s("el-dialog",{attrs:{title:"",visible:e.flowDialogVisible,width:"600px"},on:{"update:visible":function(t){e.flowDialogVisible=t},open:e.flowDialogOpen}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("div",{staticClass:"traffic-dialog-title"},[s("span",{staticClass:"cursor-pointer",class:{"dialog-title-active":1===e.tabIndex},on:{click:function(t){e.tabIndex=1}}},[e._v("订购流量")]),s("span",[e._v("丨")]),s("span",{staticClass:"cursor-pointer",class:{"dialog-title-active":2===e.tabIndex},on:{click:function(t){e.tabIndex=2}}},[e._v("交易记录")])])]),1===e.tabIndex?s("div",{staticClass:"traffic-dialog-body"},[s("el-table",{staticClass:"ml-20 mr-20 list_item",staticStyle:{width:"calc(100% - 40px)"},attrs:{data:e.baseData.dcim.flowpacket,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[s("el-table-column",{attrs:{prop:"name",label:"流量包名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.name))]),0===a.leave?s("span",[e._v("(缺货)")]):e._e()]}}],null,!1,153683085)}),s("el-table-column",{attrs:{prop:"capacity",label:"流量"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.capacity)+" GB")])]}}],null,!1,532867518)}),s("el-table-column",{attrs:{prop:"price",label:"支付金额"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(e.renewData.currency.prefix)+" "+e._s(a.price)+" "+e._s(e.renewData.currency.suffix))])]}}],null,!1,2229061390)}),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("el-button",{attrs:{type:"text",size:"mini",disabled:!a.leave},on:{click:function(t){return e.buy(a)}}},[e._v("订购")])]}}],null,!1,1082432634)})],1)],1):e._e(),2===e.tabIndex?s("div",{staticClass:"traffic-dialog-body"},[s("el-table",{staticClass:"ml-20 mr-20 list_item",staticStyle:{width:"calc(100% - 40px)"},attrs:{data:e.baseData.dcim.flow_packet_use_list,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[s("el-table-column",{attrs:{prop:"name",label:"名称"}}),s("el-table-column",{attrs:{prop:"capacity",label:"总计"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.capacity)+" GB")])]}}],null,!1,532867518)}),s("el-table-column",{attrs:{prop:"leave",label:"剩余"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.leave)+" GB")])]}}],null,!1,2382970897)}),s("el-table-column",{attrs:{prop:"pay_time",label:"订购时间"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(e.$moment(1e3*a.pay_time).format("YYYY-MM-DD")))])]}}],null,!1,3255626772)})],1)],1):e._e()]),s("el-dialog",{attrs:{title:"",visible:e.renewDialogVisible,width:"600px"},on:{"update:visible":function(t){e.renewDialogVisible=t},open:e.renewDialogOpen}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("div",{staticClass:"renew-dialog-title"},[s("span",{staticClass:"cursor-pointer",class:{"dialog-title-active":1===e.tabIndex},on:{click:function(t){e.tabIndex=1}}},[e._v("立即续费")]),s("span",[e._v("丨")]),s("span",{staticClass:"cursor-pointer",class:{"dialog-title-active":2===e.tabIndex},on:{click:function(t){e.tabIndex=2}}},[e._v("交易记录")])])]),1===e.tabIndex?s("div",{staticClass:"renew-dialog-body"},[s("div",{staticStyle:{display:"flex","align-items":"baseline"}},[s("div",{staticClass:"mr-10 tar",staticStyle:{width:"90px"}},[e._v("付款周期")]),s("div",[s("el-radio-group",{attrs:{size:"mini"},on:{change:e.renewCycleChange},model:{value:e.renewCycle,callback:function(t){e.renewCycle=t},expression:"renewCycle"}},e._l(e.renewData.cycle,(function(t,a){return s("el-radio-button",{key:"renew"+a,attrs:{label:t.billingcycle}},[e._v(e._s(t.billingcycle_zh))])})),1)],1)]),s("div",{staticClass:"mt-20 mb-40",staticStyle:{display:"flex","align-items":"baseline"}},[s("div",{staticClass:"mr-10 tar",staticStyle:{width:"60px"}},[e._v("续费价格")]),e.pricingLoading?s("span",{staticClass:"mr-10",staticStyle:{"font-size":"24px",color:"#007bfc"}},[e._v("价格计算中...")]):s("span",{staticClass:"mr-10",staticStyle:{"font-size":"24px",color:"#007bfc"}},[s("span",[e._v(e._s(e.renewData.currency.prefix))]),"ontrial"!==e.renewData.host.billingcycle?s("span",[e._v(e._s(e.renewData.host.amount))]):e._e(),"ontrial"===e.renewData.host.billingcycle?s("span",[e._v(e._s(Number(e.renewData.cycle[0].amount).toFixed(2)))]):e._e()]),e.pricingLoading?e._e():[s("span",[e._v(e._s(e.renewData.currency.suffix?e.renewData.currency.suffix+"/":""))]),"ontrial"!==e.renewData.host.billingcycle?s("span",["day"===e.renewData.host.billingcycle?s("span",[e._v(e._s(e.renewData.pay_type.pay_day_cycle))]):e._e(),"hour"===e.renewData.host.billingcycle?s("span",[e._v(e._s(e.renewData.pay_type.pay_hour_cycle))]):e._e(),e._v(" "+e._s(e.renewData.host.billingcycle_zh)+" ")]):e._e(),"ontrial"===e.renewData.host.billingcycle?s("span",[e._v(e._s(e.renewData.cycle[0].billingcycle_zh))]):e._e()],this.customerDiscounts?s("span",{staticStyle:{color:"#a5a5a5"}},[e._v(" (客户折扣优惠)")]):e._e()],2),s("div",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.renewPay}},[e._v("立即续费")])],1)]):e._e(),2===e.tabIndex?s("div",{staticClass:"renew-dialog-body"},[s("el-table",{staticClass:"ml-20 mr-20 list_item",staticStyle:{width:"calc(100% - 40px)"},attrs:{data:e.renewRecordTableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[s("el-table-column",{attrs:{prop:"pay_time",label:"支付时间",sortable:"",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(e.$moment(1e3*a.pay_time).format("YYYY-MM-DD")))])]}}],null,!1,3255626772)}),s("el-table-column",{attrs:{prop:"type",label:"来源",sortable:""}}),s("el-table-column",{attrs:{prop:"amount_in",label:"支付金额",sortable:"",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(e.renewData.currency.prefix)+e._s(Number(a.refund)>0?-Number(a.amount_out):a.amount_in)+e._s(e.renewData.currency.suffix))])]}}],null,!1,3503417955)}),s("el-table-column",{attrs:{prop:"trans_id",label:"流水单号",sortable:""}}),s("el-table-column",{attrs:{prop:"gateway",label:"支付方式",sortable:""}})],1),s("div",{staticClass:"finance_record_paging"},[s("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,15,20,25],"prev-text":e.$t("Previous"),"next-text":e.$t("Nextpage"),"current-page":e.renewRecordSearch.page,"page-size":e.renewRecordSearch.limit,total:e.renewTotal,"pager-count":5},on:{"update:currentPage":function(t){return e.$set(e.renewRecordSearch,"page",t)},"update:current-page":function(t){return e.$set(e.renewRecordSearch,"page",t)},"size-change":e.handleReSizeChange,"current-change":e.getRenewRecord}})],1)],1):e._e()]),s("second",{attrs:{secondVerifyVis:e.secondVerifyVis,secondAction:e.secondAction,btnLoading:e.btnLoading},on:{secondClose:function(t){e.secondVerifyVis=!1},secondeVerifySuccess:e.secondeVerifySuccess}}),s("payNew",{ref:"control",on:{"pay-success":e.getBaseData,"balance-success":e.getBaseData}})],2)},n=[],r=(a("99af"),a("4de4"),a("4160"),a("caad"),a("c975"),a("d81d"),a("b0c0"),a("a9e3"),a("b680"),a("d3b7"),a("4d63"),a("ac1f"),a("5377"),a("25f0"),a("2532"),a("5319"),a("1276"),a("159b"),a("b85c")),o=(a("96cf"),a("1da1")),i=a("313e"),c=a.n(i),l=a("b311"),d=a.n(l),u=a("a126"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-table",{staticClass:"ml-20 mr-20 list_item",staticStyle:{width:"calc(100% - 40px)"},attrs:{height:e.$height-400,data:e.tableData,"header-row-class-name":"innerTableHeader","row-class-name":"innerTableRowClass","cell-class-name":"innerTableCellClass"},on:{"sort-change":e.sortChange}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" 正在加载 ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v("暂无数据")])]),a("el-table-column",{attrs:{prop:"pay_time",label:"支付时间",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[e._v(" "+e._s(e.$moment(1e3*s.pay_time).format("YYYY-MM-DD HH:mm:ss"))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"来源"}}),a("el-table-column",{attrs:{prop:"user",label:"支付金额"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",[e._v(e._s(e.currency.prefix)+e._s(Number(s.refund)>0?-Number(s.amount_out):s.amount_in)+e._s(e.currency.suffix))])]}}])}),a("el-table-column",{attrs:{prop:"trans_id",label:"流水单号"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.trans_id?a.trans_id:"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gateway",label:"支付方式"}})],1),a("div",{staticClass:"mt-20"},[a("el-pagination",{attrs:{background:"","current-page":e.search.page,"page-size":e.search.limit,"page-sizes":[10,15,20,25],total:e.total,layout:"total, sizes, prev, pager, next","prev-text":e.$t("Previous"),"next-text":e.$t("Nextpage")},on:{"size-change":e.handleSizeChange,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"limit",t)},"update:page-size":function(t){return e.$set(e.search,"limit",t)}}})],1)],1)},p=[],h=(a("841c"),a("27fd")),f={data:function(){return{tableLoading:!1,tableData:[],search:{hostid:this.$route.query.id,page:1,limit:10,orderby:"",sort:"desc",keywords:""},total:0,currency:{}}},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,Object(h["t"])(e.search.hostid,e.search.page,e.search.limit,e.search.orderby,e.search.sort,e.search.keywords);case 3:if(a=t.sent,s=a.data,e.tableLoading=!1,200===s.status){t.next=9;break}return e.$message.error(s.msg),t.abrupt("return",!1);case 9:e.tableData=s.data.invoices,e.total=s.data.count,e.currency=s.data.currency;case 12:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.search.page=1,this.getData()},sortChange:function(e,t,a){this.search.orderby=e.prop,"ascending"===e.order?this.search.sort="asc":this.search.sort="desc",this.getData()}},created:function(){this.getData()}},b=f,v=(a("afe5"),a("2877")),_=Object(v["a"])(b,m,p,!1,null,"5b490276",null),g=_.exports,w=a("5c67"),y=a("b914"),k=a("0bbec"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"support_main_right"},[s("div",{staticClass:"main_right_list"},[e.fileList.length?e._e():s("span",{staticClass:"emptyText"},[e._v("此分组下暂无文件下载")]),e._l(e.fileList,(function(t,n){return s("div",{key:n,staticClass:"right_list_item",on:{mouseenter:function(a){return e.changeDownIcon(t)},mouseleave:function(a){return e.changeDownIcon(t)}}},[t.hover||1===t.clientsonly?e._e():s("img",{staticClass:"downloadIcon",attrs:{src:a("9f0f"),alt:"",width:"18px"},on:{click:function(a){return e.downLoad(t)}}}),t.hover&&1!==t.clientsonly?s("img",{staticClass:"downloadIcon",attrs:{src:a("abb1"),alt:"",width:"18px"},on:{click:function(a){return e.downLoad(t)}}}):e._e(),1===t.clientsonly?s("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:t.title}},[s("img",{staticClass:"downloadIcon",attrs:{slot:"reference",src:a("ad78"),alt:"",width:"18px"},on:{click:function(a){return e.downLoad(t)}},slot:"reference"})]):e._e(),s("div",{staticClass:"item_img"},["1"===t.type?s("img",{attrs:{src:a("81cd"),alt:"",width:"55px"}}):e._e(),"2"===t.type?s("img",{attrs:{src:a("7441"),alt:"",width:"55px"}}):e._e(),"3"===t.type?s("img",{attrs:{src:a("a83a"),alt:"",width:"55px"}}):e._e()]),s("div",{staticClass:"item_msg"},[s("div",{staticClass:"item_msg_title"},[s("span",[e._v(e._s(t.title))])]),s("div",{staticClass:"item_msg_download"},[s("span",[e._v("已下："+e._s(t.downloads)+"次")])]),s("div",{staticClass:"item_msg_info"},[s("span",[e._v(e._s(t.description))])])])],1)}))],2)])])},D=[],C=a("a78e"),S=a.n(C),$={data:function(){return{fileList:[]}},props:{baseData:{type:Object,default:function(){return{}}}},methods:{changeDownIcon:function(e){e.hover=!e.hover,this.$forceUpdate()},downLoad:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.url?open(e.url+"&jwt="+S.a.get("OrfLcI2IqQItv0vS")):t.$message.error("该文件没有下载链接");case 1:case"end":return a.stop()}}),a)})))()}},created:function(){this.fileList=this.baseData.download_data}},O=$,R=(a("2d95"),Object(v["a"])(O,x,D,!1,null,"3035e8d0",null)),I=R.exports,j=a("048a"),A=a("4f32"),V=a("6bb6"),P=a("bbcf"),F=a("2ef0"),z={metaInfo:function(){return{title:"独立服务器"}},data:function(){var e=this,t=function(e,t,a){var s=parseFloat(t);22===s||s>=100&&s<=65535?a():a(new Error("端口允许范围22, 100-65535"))},a=function(t,a,s){""===a?s(new Error(e.$t("standaloneServer.rulesEnterPassword"))):e.checkSpecial(a)?s(new Error(e.$t("standaloneServer.rulesPassword"))):e.checkPass(a)?s():s(new Error(e.$t("standaloneServer.rulesNumPassword")))};return{hid:Number(this.$route.query.id),baseData:{host_data:{assignedips:[],group:{}},currency:{},dcim:{auth:{},flow_packet_use_list:[],flowpacket:[],os:[],os_group:[]},download_data:[],custom_field_data:[],cancelist:[],module_button:{console:[],control:[]}},powerStatus:{},powerStatusLoading:!1,showPwd:!1,timeOut:null,powerTimeInterval:null,taskName:"取消任务",tasking:!1,progressTimeInterval:null,consoleBtns:[{label:"开机",value:"on",show:!0},{label:"关机",value:"off",show:!0},{label:"重启",value:"reboot",show:!0},{label:"重置BMC",value:"bmc",show:!0},{label:"重装系统",value:"reinstall",show:!0},{label:"破解密码",value:"crack_pass",show:!0},{label:"救援系统",value:"rescue",show:!0}],rescueDialogFormVisible:!1,rescueForm:{id:0,system:"1"},isCrack:!1,crackPassObj:{user:"",password:""},crackRest:[],crackRules:{password:[{required:!0,message:this.$t("standaloneServer.rulesEnterPassword"),trigger:"change"}]},isReloadSystem:!1,showSubType:!0,showDisk:!1,hintStr:"",rules:{systemVal:[{required:!0,message:this.$t("standaloneServer.pleaseSelect")}],versionsVal:[{required:!0,message:this.$t("standaloneServer.pleaseSelect")}],port:[{required:!0,message:this.$t("standaloneServer.rulesEnterPort")}],rootPass:[{validator:a,required:!0,trigger:"change"}]},systemArray:[],versionsArray:[],diskArray:[],advanced:[],rowItem:{},osname:"",reloadSystemData:{notes:"",domain:"",ID:"",sum:"",advIp:"",systemVal:"",versionsVal:"",rootPass:"",port:"",subareaType:"0",disk:""},operationType:"",currency:{},consoleItem:null,controlItem:null,agreeOff:!1,crackDialog:!1,crackFrom:{password:""},reinstallDialog:!1,osSvgSelected:void 0,cloudOsGroupOptions:[],cloudOsOptions:[],filterOsOptions:[],reInstallChecked:!1,reinstallFormData:{groupVal:"",osVal:"",port:22},reinstallRules:{port:[{required:!0,message:"请输入端口号"},{validator:t,trigger:"blur"}]},reinstallCheck:{},userInfo:{},allow_second_verify:0,second_verify_action_home:[],secondVerifyVis:!1,btnLoading:!1,secondAction:"",host_cancel:{init:!0},cancelistOptions:[],cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]},flowChart:null,tabIndex:1,flowDialogVisible:!1,flowTableData:[],recordeTableData:[],flowPage:1,flowLimit:6,recordPage:1,recordLimit:6,renewData:{currency:{},cycle:[],host:{}},overdue:"",customerDiscounts:!1,renewDialogVisible:!1,renewCycle:"",renewPrice:"",pricingLoading:!1,renewRecordTableData:[],renewRecordSearch:{hostid:this.$route.query.id,page:1,limit:10,order:"trans_id",sort:"desc",keywords:""},renewTotal:0,tabActiveName:"1",htmlContent:""}},components:{second:P["default"],chart:u["a"],finance:g,log:w["a"],upgrade:y["a"],used:k["a"],download:I},created:function(){this.getBaseData(),this.getPriceData(),this.getCancelPage(),this.getUserInfo(),this.getProgressCycle()},destroyed:function(){clearInterval(this.progressTimeInterval)},mounted:function(){var e=this;window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.resize)}))},methods:{getBaseData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["k"])({host_id:e.hid});case 2:if(a=t.sent,s=a.data,200!==s.status)e.$message.error(s.msg);else for(c in s.data.host_data.assignedips=e.assignedipsChange(s.data.host_data.assignedips),e.baseData=s.data,s.data.module_power_status&&("bms"===s.data.host_data.config_option1?e.getBmsStatus():e.refreshStatus()),n=s.data.host_data.bwlimit,r=s.data.host_data.bwusage,o=[{name:"剩余流量",value:n-r},{name:"已用流量",value:r}],e.chartOption(n,o.filter((function(e){return 0!==e.value}))),e.reloadSystemData.remark=s.data.host_data.remark,e.reloadSystemData.domain=s.data.host_data.domain,e.reloadSystemData.ID=s.data.host_data.serverid,e.reloadSystemData.advIp=s.data.host_data.dedicatedip,e.reloadSystemData.sum=s.data.host_data.ip_num,e.reloadSystemData.rootPass=s.data.host_data.password,e.systemArray=s.data.cloud_os_group,e.currency=s.data.currency,e.getDiskList(),"Active"===s.data.host_data.domainstatus&&s.data.dcim.auth&&"on"===s.data.dcim.auth.traffic?e.tabActiveName="1":e.tabActiveName="3",i=function(t){e.consoleBtns.forEach((function(e){t===e.value&&("on"===s.data.dcim.auth[t]?e.show=!0:e.show=!1)}))},s.data.dcim.auth)i(c);case 5:case"end":return t.stop()}}),t)})))()},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)}))},assignedipsChange:function(e){var t=this,a=[];return(e||[]).forEach((function(e){a.push({ip:e,color:"#333333",guid:t.guid()})})),a},clickCopy:function(e){var t,a=this;t=this.$refs[e].length?this.$refs[e][0]:this.$refs[e];var s=0,n=new d.a(t);n.on("success",(function(e){a.$message.success("复制成功"),s++,s>1&&n.destroy()})),n.on("error",(function(e){a.$message.error("复制失败")}))},refreshStatus:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.powerStatusLoading=!0,t.next=3,Object(h["G"])(e.hid);case 3:a=t.sent,s=a.data,e.powerStatusLoading=!1,200!==s.status?e.$message.error(s.msg):s.data.length&&(e.powerStatus=s.data[0],clearInterval(e.powerTimeInterval));case 7:case"end":return t.stop()}}),t)})))()},getBmsStatus:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.hid,func:"status"},e.powerStatusLoading=!0,t.next=4,Object(A["l"])(a);case 4:s=t.sent,n=s.data,e.powerStatusLoading=!1,200!==n.status?(e.powerStatus.status="unknown",e.powerStatus.msg=n.msg):(e.powerStatus.status=n.data?n.data.status:"unknown",e.powerStatus.msg=n.data?n.data.des:"未知");case 8:case"end":return t.stop()}}),t)})))()},handlePowerStatus:function(){"bms"===this.baseData.host_data.config_option1?this.getBmsStatus():this.refreshStatus()},refreashPowerStatusCycle:function(){var e=this;clearTimeout(this.timeOut),clearInterval(this.powerTimeInterval),this.powerTimeInterval=setInterval((function(){"bms"===e.baseData.host_data.config_option1?e.getBmsStatus():e.refreshStatus()}),3e3),this.timeOut=setTimeout((function(){clearInterval(e.powerTimeInterval)}),12e4)},getProgress:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tasking=!0,t.next=3,Object(h["s"])(e.hid);case 3:a=t.sent,s=a.data,200===s.status?""!==s.data&&(Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type&&("100"===s.data.progress&&e.clearTime(),0===Number(s.data.task_type)?(e.powerStatus.msg=s.data.reinstall_msg+";"+s.data.step,e.taskName="取消重装"):1===Number(s.data.task_type)?(e.powerStatus.msg=s.data.step,e.taskName="取消救援"):2===Number(s.data.task_type)&&(e.powerStatus.msg=s.data.step,e.taskName="取消破解")),Object.prototype.hasOwnProperty.call(s.data,"last_result")&&e.clearTime()):e.clearTime();case 6:case"end":return t.stop()}}),t)})))()},getProgressCycle:function(){var e=this;clearInterval(this.progressTimeInterval),this.progressTimeInterval=setInterval((function(){e.getProgress()}),4e3)},cancelTask:function(){var e=this;this.$swal.fire({title:this.$t("standaloneServer.canceGetOperationProgress"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("standaloneServer.confirm"),cancelButtonText:this.$t("standaloneServer.cancel")}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.value){t.next=6;break}return t.next=3,Object(h["e"])(e.hid);case 3:s=t.sent,n=s.data,200===n.status?(e.$swal("",n.msg,"success"),clearInterval(e.progressTimeInterval),e.refreashPowerStatusCycle(),e.tasking=!1):e.$swal("",n.msg,"error");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},clearTime:function(){this.tasking=!1,clearInterval(this.progressTimeInterval)},controlHandleCommand:function(e){var t=this;if("rescue"===e)this.rescuePop();else if("crack_pass"===e)this.openaaCrackPass();else if("reinstall"===e)this.reloadSystemPopup();else{var a="";"on"===e?a="确认开机吗？":"off"===e?a="确定关机吗？":"reboot"===e?a="确定重启吗？":"bmc"===e&&(a="确定重置BMC吗？"),this.$swal.fire({title:a,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.value&&(1===parseInt(t.allow_second_verify)&&1===parseInt(t.userInfo.second_verify)&&t.second_verify_action_home.includes("on")?(t.secondAction=e,t.secondVerifyVis=!0):"on"===e?t.clickOnApi():"off"===e?t.clickCloseApi():"reboot"===e?t.clickRebootApi():"bmc"===e&&t.clickBmcApi());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},clickOnApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["C"])(t.hid,e);case 3:s=a.sent,n=s.data,t.totalFunc(n),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},clickCloseApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["i"])(t.hid,e);case 3:s=a.sent,n=s.data,t.totalFunc(n),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},clickRebootApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["F"])(t.hid,e);case 3:s=a.sent,n=s.data,t.totalFunc(n),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},clickBmcApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["c"])(t.hid,e);case 3:s=a.sent,n=s.data,t.totalFunc(n),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},rescuePop:function(){this.rescueDialogFormVisible=!0;var e=this.baseData.host_data.os_osname;if(""!==e){var t=e.substring(0,3);this.rescueForm.system="Win"===t?"2":"1"}else this.rescueForm.system="1"},clickRescue:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rescueDialogFormVisible=!1,t.next=3,Object(h["s"])(e.hid);case 3:a=t.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(e.rescueDialogFormVisible=!1,e.$swal.fire({title:e.$t("standaloneServer.goOnRescueSystem"),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("btnConfirmation"),cancelButtonText:e.$t("btnCancle")}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&(1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("rescue")?(e.secondAction="rescue",e.secondVerifyVis=!0):e.encapsulCancelApi());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("rescue")?(e.secondAction="rescue",e.secondVerifyVis=!0):e.encapsulCancelApi():e.$message.error(s.msg);case 6:case"end":return t.stop()}}),t)})))()},encapsulCancelApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.rescueForm.id=t.hid,t.rescueForm.code=e||void 0,t.rescueDialogFormVisible=!1,a.next=5,Object(h["K"])(t.rescueForm);case 5:s=a.sent,n=s.data,200===n.status?(t.$message.success(n.msg),t.getProgressCycle()):t.$message.error(n.msg);case 8:case"end":return a.stop()}}),a)})))()},cancelRescue:function(){this.$refs.rescueFormRef.resetFields(),this.rescueDialogFormVisible=!1},totalFunc:function(e){var t=this;setTimeout((function(){200===e.status?(t.$message.success(e.msg),t.secondVerifyVis=!1):t.$message.error(e.msg)}),500)},crackPassFunc:function(){this.$refs.crackPassObjRef.resetFields()},openaaCrackPass:function(){this.isCrack=!0,this.crackRest=[],this.crackPassObj.password="",this.crackPassObj.user="",this.creatCode()},crackBtn:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCrack=!1,t.next=3,Object(h["s"])(e.hid);case 3:a=t.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(e.isCrack=!1,e.$swal.fire({title:e.$t("standaloneServer.goOnPwd"),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("btnConfirmation"),cancelButtonText:e.$t("btnCancle")}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&(1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("crack_pass")?(e.secondAction="crack_pass",e.secondVerifyVis=!0):e.openCrackApi());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(e.operationType="",1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("crack_pass")?(e.secondAction="crack_pass",e.secondVerifyVis=!0):e.openCrackApi()):e.$message.error(s.msg);case 6:case"end":return t.stop()}}),t)})))()},openCrackApi:function(e){var t=this;this.$refs.crackPassObjRef.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=8;break}return n={id:t.hid,password:t.crackPassObj.password,user:t.crackPassObj.user,other_user:0!==t.crackRest.length?t.crackRest[0]:0,code:e||void 0},t.isCrack=!1,a.next=5,Object(h["j"])(n);case 5:r=a.sent,o=r.data,200===o.status?(t.$message.success(o.msg),t.getProgressCycle()):t.$message.error(o.msg);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},creatCode:function(e){this.crackRePwd="";for(var t=parseInt(e),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<t;s++){var n=Math.floor(62*Math.random());this.crackRePwd+=a[n]}var r=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(r);o.test(this.crackRePwd)?(this.crackPassObj.password=this.crackRePwd,this.crackFrom.password=this.crackRePwd):this.creatCode(12)},checkReinstall:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(h["f"])(t.hid);case 2:s=a.sent,n=s.data,200===n.status?n.price||(t.reinstallCheck=n,"bms"===e?t.reinstallDialog=!0:t.isReloadSystem=!0):n.price&&t.$swal.fire({title:t.$t("standaloneServer.errorReinstallSystem"),text:"".concat(t.$t("standaloneServer.weekReload"),"，").concat(t.renewData.currency.prefix," ").concat(n.price," ").concat(t.renewData.currency.suffix," / ").concat(t.$t("standaloneServer.frequency"),"，").concat(t.$t("standaloneServer.doYouNeed")),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=6;break}return e.next=3,Object(h["E"])(t.hid);case 3:s=e.sent,n=s.data,200===n.status?(t.$message.success(n.msg),t.$refs.control.main({id:n.data.invoiceid,name:t.$t("standaloneServer.purchaseReloads")})):t.$message.success(n.msg);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return a.stop()}}),a)})))()},reloadSystemPopup:function(){this.checkReinstall(),this.showSubType=!0,this.reloadSystemData.subareaType="0",this.reloadSystemData.ID=this.baseData.host_data.serverid,this.reloadSystemData.advIp=this.baseData.host_data.dedicatedip,this.reloadSystemData.sum=this.baseData.host_data.ip_num,this.reloadSystemData.rootPass=this.baseData.host_data.password,this.systemArray=this.baseData.cloud_os_group,0!==this.systemArray.length&&(this.reloadSystemData.systemVal=this.systemArray[0].id,this.getVersionsSelect()),0!==this.versionsArray.length?(this.reloadSystemData.versionsVal=this.versionsArray[0].id,this.reloadSystemData.port=this.versionsArray[0].port):(this.reloadSystemData.versionsVal="",this.portRandom()),this.reloadSystemData.rootPass=this.systemPwd(),this.portRandom()},subTypeFunc:function(){var e,t="",a=Object(r["a"])(this.versionsArray);try{for(a.s();!(e=a.n()).done;){var s=e.value;this.reloadSystemData.versionsVal===s.id&&-1===this.baseData.host_data.os.indexOf("Windows")&&"Windows"===s.group&&(t="".concat(this.$t("standaloneServer.if")," ").concat(this.baseData.host_data.os_osname," ").concat(this.$t("standaloneServer.reloadAs")," ").concat(s.name,"，").concat(this.$t("standaloneServer.reloadError")))}}catch(n){a.e(n)}finally{a.f()}this.hintStr=t},systemChang:function(){this.getVersionsSelect(),this.reloadSystemData.subareaType="0","Windows"===this.reloadSystemData.systemVal?(this.showSubType=!0,0===this.advanced.length?this.showDisk=!1:this.showDisk=!0):(this.showSubType=!1,this.showDisk=!1)},getVersionsSelect:function(){var e,t=[],a=this.baseData.cloud_os,s=Object(r["a"])(a);try{for(s.s();!(e=s.n()).done;){var n=e.value;""!==this.reloadSystemData.systemVal&&n.group===this.reloadSystemData.systemVal&&t.push(n)}}catch(o){s.e(o)}finally{s.f()}this.versionsArray=t,0!==this.versionsArray.length?this.reloadSystemData.versionsVal=this.versionsArray[0].id:(this.reloadSystemData.versionsVal="",this.portRandom())},versionsChang:function(){var e,t=Object(r["a"])(this.versionsArray);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.reloadSystemData.versionsVal===a.id&&("Windows"===a.group&&-1===a.name.indexOf("2003")?(this.showSubType=!0,this.hintStr="".concat(this.$t("standaloneServer.if")," ").concat(this.osname," ").concat(this.$t("standaloneServer.reloadAs")," ").concat(a.name,"，").concat(this.$t("standaloneServer.reloadError"))):this.showSubType=!1)}}catch(s){t.e(s)}finally{t.f()}},advancedFunc:function(){0===this.advanced.length?this.showDisk=!1:(this.showDisk=!0,this.reloadSystemData.disk=this.diskArray[0].id)},getDiskList:function(){for(var e=[],t=0;t<Number(this.baseData.host_data.disk_num);t++)e.push({id:t,name:"disk"+t});this.diskArray=e},portRandom:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=Math.floor(1e4*Math.random())+1e4,e.reloadSystemData.port=a;case 2:case"end":return t.stop()}}),t)})))()},systemPwd:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=e.length,a="",s=0;s<3;s++)a+=e.charAt(Math.floor(Math.random()*t));for(var n="abcdefghijklmnopqrstuvwxyz",r=n.length,o=0;o<3;o++)a+=n.charAt(Math.floor(Math.random()*r));for(var i="123456789",c=i.length,l=0;l<2;l++)a+=i.charAt(Math.floor(Math.random()*c));return a},saveReloadSystem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isReloadSystem=!1,t.next=3,Object(h["s"])(e.hid);case 3:a=t.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(e.isReloadSystem=!1,e.$swal.fire({title:e.$t("standaloneServer.goOnReloadSystem"),icon:"warning",showCancelButton:!0,confirmButtonText:e.$t("btnConfirmation"),cancelButtonText:e.$t("btnCancle")}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value&&(1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("reinstall")?(e.secondAction="reinstall",e.secondVerifyVis=!0):e.encapsulInstallApi());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(e.operationType="",1===parseInt(e.allow_second_verify)&&1===parseInt(e.userInfo.second_verify)&&e.second_verify_action_home.includes("reinstall")?(e.secondAction="reinstall",e.secondVerifyVis=!0):e.encapsulInstallApi()):e.$message.error(s.msg);case 6:case"end":return t.stop()}}),t)})))()},encapsulInstallApi:function(e){var t=this,a={id:this.hid,os:this.reloadSystemData.versionsVal,password:this.reloadSystemData.rootPass,action:0,port:this.reloadSystemData.port,part_type:this.reloadSystemData.subareaType,disk:this.reloadSystemData.disk,check_disk_size:1,code:e||void 0};this.$refs.reloadSystemDataRef.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=7;break}return t.isReloadSystem=!1,e.next=4,Object(h["L"])(a);case 4:n=e.sent,r=n.data,200===r.status?(t.$message.success(r.msg),t.getProgressCycle()):Object.prototype.hasOwnProperty.call(r,"price")?t.$swal.fire({title:t.$t("standaloneServer.errorReinstallSystem"),text:"".concat(t.$t("standaloneServer.weekReload"),"，").concat(t.currency.prefix," ").concat(r.price," ").concat(t.currency.suffix," / ").concat(t.$t("standaloneServer.frequency"),"，").concat(t.$t("standaloneServer.doYouNeed")),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&t.purchaseReloadSystem();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):t.$message.error(r.msg);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},purchaseReloadSystem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["E"])(e.hid);case 2:a=t.sent,s=a.data,200===s.status?(e.$message.success(s.msg),e.$refs.control.main({id:s.data.invoiceid,name:e.$t("standaloneServer.purchaseReloads")})):e.$message.success(s.msg);case 5:case"end":return t.stop()}}),t)})))()},getOsSvg:function(e){var t=1;return t=-1!==e.toLowerCase().indexOf("windows")?1:-1!==e.toLowerCase().indexOf("centos")?2:-1!==e.toLowerCase().indexOf("ubuntu")?3:-1!==e.toLowerCase().indexOf("debian")?4:-1!==e.toLowerCase().indexOf("esxi")?5:-1!==e.toLowerCase().indexOf("xenserver")?6:-1!==e.toLowerCase().indexOf("freebsd")?7:-1!==e.toLowerCase().indexOf("fedora")?8:"",t},onClosed:function(){this.$refs.reloadSystemDataRef.resetFields()},checkPass:function(e){var t=/[a-zA-Z][a-zA-Z0-9]{6,20}/;return!!t.test(e)},checkSpecial:function(e){var t=/[`~!@#$%^&*()_\-+=<>?:"{}|,.\\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]/;return!!t.test(e)},consoleHandleClick:function(e){"kvm"===e?1===parseInt(this.allow_second_verify)&&1===parseInt(this.userInfo.second_verify)&&this.second_verify_action_home.includes("kvm")?(this.secondAction="kvm",this.secondVerifyVis=!0):this.kvmTransfer():"ikvm"===e?1===parseInt(this.allow_second_verify)&&1===parseInt(this.userInfo.second_verify)&&this.second_verify_action_home.includes("ikvm")?(this.secondAction="ikvm",this.secondVerifyVis=!0):this.ikvmTransfer():"vnc"===e&&(1===parseInt(this.allow_second_verify)&&1===parseInt(this.userInfo.second_verify)&&this.second_verify_action_home.includes("vnc")?(this.secondAction="vnc",this.secondVerifyVis=!0):this.vncTransfer())},kvmTransfer:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["A"])(t.hid,e);case 3:s=a.sent,n=s.data,200===n.status?(t.downloadJavaFunc(n.name,n.token),t.secondVerifyVis=!1):t.$swal("",n.msg,"error"),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},ikvmTransfer:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.btnLoading=!0,a.next=3,Object(h["z"])(t.hid,e);case 3:s=a.sent,n=s.data,200===n.status?(t.downloadJavaFunc(n.name,n.token),t.secondVerifyVis=!1):t.$swal("",n.msg,"error"),t.btnLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},vncTransfer:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.btnLoading=!0,t.next=3,Object(h["B"])({id:e.hid});case 3:a=t.sent,s=a.data,200===s.status?(e.secondVerifyVis=!1,n="".concat(e.$baseUrl,"/dcim/novnc?password=").concat(s.data.password,"&url=").concat(s.data.url),r=1100,o=550,i=(window.screen.availHeight-30-o)/2,c=(window.screen.availWidth-10-r)/2,window.open(n,"QRcodeWin"+e.hid,"height="+o+", width="+r+", top="+i+", left="+c+",toolbar=no, menubar=no,  scrollbars=yes,resizable=yes,location=no, status=no")):e.$swal("",s.msg,"error"),e.btnLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},downloadJavaFunc:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n=document.createElement("a"),n.download=e,n.style.display="none",n.href="".concat(a.$baseUrl,"/dcim/download?name=").concat(e,"&token=").concat(t),document.body.appendChild(n),n.click(),document.body.removeChild(n);case 7:case"end":return s.stop()}}),s)})))()},controlBmsHandleCommand:function(e){var t=this;this.controlItem={name:e.split("-")[0],func:e.split("-")[1],type:e.split("-")[2]},"reinstall"===this.controlItem.func?this.checkReinstall("bms"):"crack_pass"===this.controlItem.func?(this.creatCode(12),this.crackDialog=!0):this.$swal.fire({title:this.controlItem.name,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&(1===parseInt(t.allow_second_verify)&&1===parseInt(t.userInfo.second_verify)&&t.second_verify_action_home.includes(t.controlItem.func)?(t.secondAction=t.controlItem.func,t.secondVerifyVis=!0):t.defaultControlApi());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},defaultControlApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s={id:t.hid,func:t.controlItem.func,code:e||void 0},"default"!==t.controlItem.type){a.next=9;break}return t.btnLoading=!0,a.next=5,Object(A["l"])(s);case 5:n=a.sent,r=n.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.refreashPowerStatusCycle(),t.secondVerifyVis=!1),t.btnLoading=!1;case 9:if("custom"!==t.controlItem.type){a.next=17;break}return t.btnLoading=!0,a.next=13,Object(A["k"])(s);case 13:o=a.sent,i=o.data,200!==i.status?t.$message.error(i.msg):(t.$message.success(i.msg),t.refreashPowerStatusCycle(),t.secondVerifyVis=!1,i.url&&window.open(i.url)),t.btnLoading=!1;case 17:case"end":return a.stop()}}),a)})))()},creakonClose:function(){this.$refs.crackPassword.resetFields()},saveCrack:F.debounce(Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.crackPassword.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=4;break}return e.abrupt("return",!1);case 4:1===parseInt(t.allow_second_verify)&&1===parseInt(t.userInfo.second_verify)&&t.second_verify_action_home.includes("crack_pass")?(t.secondAction="crack_pass",t.crackDialog=!1,t.secondVerifyVis=!0):t.saveCrackApi();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)}))),200),saveCrackApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:t.hid,func:"crack_pass",password:t.crackFrom.password,code:e||void 0},t.btnLoading=!0,a.next=4,Object(A["l"])(s);case 4:n=a.sent,r=n.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getBaseData(),t.refreashPowerStatusCycle(),t.secondVerifyVis=!1,t.crackDialog=!1),t.btnLoading=!1;case 8:case"end":return a.stop()}}),a)})))()},getOsData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["j"])({productid:e.baseData.host_data.productid,os_config_option_id:e.baseData.host_data.os_config_option_id});case 2:if(a=t.sent,s=a.data,200===s.status){t.next=6;break}return t.abrupt("return",!1);case 6:s.data.cloud_os_group.length?(e.reinstallFormData.groupVal=s.data.cloud_os_group[0].id,e.filterOsOptions=s.data.cloud_os.filter((function(e){return e.group===s.data.cloud_os_group[0].id})),e.reinstallFormData.osVal=e.filterOsOptions.length?e.filterOsOptions[0].id:"",s.data.cloud_os_group.forEach((function(t){e.showOsSvg(t)})),e.osSvgSelected=s.data.cloud_os_group[0].osSvg):(e.filterOsOptions=s.data.cloud_os,e.reinstallFormData.osVal=s.data.cloud_os.length?s.data.cloud_os[0].id:""),e.cloudOsGroupOptions=s.data.cloud_os_group,e.cloudOsOptions=s.data.cloud_os;case 9:case"end":return t.stop()}}),t)})))()},showOsSvg:function(e){-1!==e.name.toLowerCase().indexOf("windows")?e.osSvg=1:-1!==e.name.toLowerCase().indexOf("centos")?e.osSvg=2:-1!==e.name.toLowerCase().indexOf("ubuntu")?e.osSvg=3:-1!==e.name.toLowerCase().indexOf("debian")?e.osSvg=4:-1!==e.name.toLowerCase().indexOf("esxi")?e.osSvg=5:-1!==e.name.toLowerCase().indexOf("xenserver")?e.osSvg=6:-1!==e.name.toLowerCase().indexOf("freebsd")?e.osSvg=7:-1!==e.name.toLowerCase().indexOf("fedora")?e.osSvg=8:e.osSvg=9},osGroupChange:function(e){var t=this;this.reinstallFormData.groupVal=e,this.reinstallFormData.osVal="",this.filterOsOptions=[],this.filterOsOptions=this.cloudOsOptions.filter((function(t){return t.group===e})),this.reinstallFormData.osVal=this.filterOsOptions.length?this.filterOsOptions[0].id:"",(this.cloudOsGroupOptions||[]).forEach((function(a){a.id===e&&(t.osSvgSelected=a.osSvg)})),-1!==this.reinstallFormData.groupVal.indexOf("Win")?this.reinstallFormData.port=3389:this.reinstallFormData.port=22},reinstallClosed:function(){this.reInstallChecked=!1},randomPort:function(){var e=parseInt(65535*Math.random()+100);e>=100&&e<=65535&&(this.reinstallFormData.port=e)},saveReinstall:F.debounce(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.reinstallDialog=!1,1===parseInt(this.allow_second_verify)&&1===parseInt(this.userInfo.second_verify)&&this.second_verify_action_home.includes("reinstall")?(this.secondAction="reinstall",this.reinstallDialog=!1,this.secondVerifyVis=!0):this.reinstallApi();case 2:case"end":return e.stop()}}),e,this)}))),200),reinstallApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:t.hid,func:"reinstall",os:t.reinstallFormData.osVal,code:e||void 0,port:t.reinstallFormData.port},t.btnLoading=!0,a.next=4,Object(A["l"])(s);case 4:n=a.sent,r=n.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getBaseData(),t.refreashPowerStatusCycle(),t.secondVerifyVis=!1,t.reinstallDialog=!1),t.btnLoading=!1;case 8:case"end":return a.stop()}}),a)})))()},consoleBmsHandleCommand:function(e){this.consoleItem=e,1===parseInt(this.allow_second_verify)&&1===parseInt(this.userInfo.second_verify)&&this.second_verify_action_home.includes(e.split("-")[1])?(this.secondAction=e.split("-")[1],this.secondVerifyVis=!0):this.consoleHandleCommandApi()},consoleHandleCommandApi:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,r,o,i,c,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.consoleItem.split("-"),n=s[1],r=s[2],"default"!==r||"vnc"!==n){a.next=11;break}return a.next=6,Object(A["l"])({id:t.hid,func:n,code:e||void 0});case 6:o=a.sent,i=o.data,200===i.status?(c=window.open("url","_blank"),c.location=i.data.url):t.$message.error(i.msg),a.next=17;break;case 11:if("custom"!==r){a.next=17;break}return a.next=14,Object(A["k"])({id:t.hid,func:n,code:e||void 0});case 14:l=a.sent,d=l.data,200!==d.status?t.$message.error(d.msg):d.url?window.open(d.url):t.$message.success(d.msg);case 17:case"end":return a.stop()}}),a)})))()},getUserInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(V["l"])();case 2:a=t.sent,s=a.data,200!==s.status?e.$message.error(s.msg):(e.allow_second_verify=s.allow_second_verify,e.second_verify_action_home=s.second_verify_action_home,e.userInfo=s.user);case 5:case"end":return t.stop()}}),t)})))()},secondeVerifySuccess:function(e){"bms"===this.baseData.host_data.config_option1?this.consoleItem?this.consoleHandleCommandApi(e.code):"reinstall"===this.secondAction?this.reinstallApi(e.code):"crack_pass"===this.secondAction?this.saveCrackApi(e.code):this.defaultControlApi(e.code):"on"===this.secondAction?this.clickOnApi(e.code):"off"===this.secondAction?this.clickCloseApi(e.code):"reboot"===this.secondAction?this.clickRebootApi(e.code):"bmc"===this.secondAction?this.clickBmcApi(e.code):"reinstall"===this.secondAction?this.encapsulInstallApi(e.code):"crack_pass"===this.secondAction?this.openCrackApi(e.code):"rescue"===this.secondAction&&this.encapsulCancelApi(e.code)},getCancelPage:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["e"])({host_id:e.hid});case 2:if(a=t.sent,s=a.data,200===s.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.host_cancel=s.data.host_cancel,e.cancelistOptions=s.data.cancelist;case 8:case"end":return t.stop()}}),t)})))()},cancelSubmit:function(){var e=this,t="";t="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;e.cancelDialog=!1,e.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["f"])(e.cancelFormData);case 2:a=t.sent,s=a.data,200!==s.status?e.$message.error(s.msg):(e.getBaseData(),e.getCancelPage(),e.$message.success(s.msg));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}))}))},cancelOpen:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.cancelFormData.type=void 0,e.cancelFormData.tempReason=void 0,e.cancelFormData.reason="";case 3:case"end":return t.stop()}}),t)})))()},cancelOpened:function(){this.$refs.cancelForm.clearValidate()},beforeClose:function(){var e=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){e.$refs.cancelForm.clearValidate(),e.cancelDialog=!1}),100)},deleteCancel:function(){var e=this,t="";t="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["m"])({id:e.hid});case 2:a=t.sent,s=a.data,200!==s.status?e.$message.error(s.msg):(e.getBaseData(),e.getCancelPage(),e.$message.success(s.msg));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}))},flowDialogOpen:function(){this.tabIndex=1},buy:F.throttle(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["d"])(this.hid,t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return this.$message.error(s.msg),e.abrupt("return",!1);case 7:this.flowDialogVisible=!1,this.$refs.control.main({id:s.data.invoiceid,name:t.name});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),200),chartOption:function(e,t){var a=this;setTimeout((function(){a.flowChart=c.a.init(document.getElementById("chartBox")),a.flowChart.setOption({backgroundColor:"#fff",color:["#77db17","#4f40fd"],title:{text:e<1024?e+"GB":(e/1024).toFixed(2)+"TB",top:"center",left:"center",textStyle:{fontSize:12,color:"#333333",fontWeight:400}},series:[{type:"pie",radius:["45%","60%"],center:["50%","50%"],data:t,hoverAnimation:!1,labelLine:{normal:{length:20,length2:100,lineStyle:{color:"#e6e6e6",type:"dotted"}}},label:{normal:{formatter:function(e){return"{icon|●}{name|"+e.name+"}{value|"+(e.value<1024?e.value+"GB":(e.value/1024).toFixed(2)+"TB")+"}"},padding:[0,-100,25,-100],rich:{icon:{fontSize:12},name:{fontSize:12,padding:[0,10,0,4],color:"#999999"},value:{fontSize:14,fontWeight:"bold",color:"#333333"}}}}}]})}),500)},getPriceData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pricingLoading=!0,t.next=3,Object(h["u"])(e.hid,e.renewCycle||e.baseData.host_data.billingcycle);case 3:if(a=t.sent,s=a.data,e.pricingLoading=!1,200===s.status){t.next=9;break}return e.$message.error(s.msg),t.abrupt("return",!1);case 9:e.renewData=s.data,s.data.host.nextduedate&&"free"!==s.data.host.billingcycle&&"onetime"!==s.data.host.billingcycle?(e.overdue=e.$moment(1e3*s.data.host.nextduedate).diff(e.$moment(new Date),"days")+"天",0===parseInt(e.overdue)&&(e.overdue=e.$moment(1e3*s.data.host.nextduedate).diff(e.$moment(new Date),"hours")+"小时")):e.overdue="","ontrial"===s.data.host.billingcycle?e.renewCycle=s.data.cycle[0].billingcycle:e.renewCycle=s.data.host.billingcycle,e.customerDiscounts=s.data.host.flags;case 13:case"end":return t.stop()}}),t)})))()},renewCycleChange:function(){var e=this;this.getPriceData(),(this.renewData.cycle||[]).forEach((function(t){e.renewCycle===t.billingcycle&&(e.renewPrice=t.amount)}))},payNow:F.debounce((function(){this.$refs.control.main({id:this.renewData.host.id,name:this.$t("standaloneServer.pay")})}),200),renewPay:F.debounce(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.renewDialogVisible=!1,e.next=3,Object(A["y"])({hostid:this.hid,billingcycles:this.renewCycle});case 3:t=e.sent,a=t.data,1001===a.status?(this.$message.success(a.msg),this.getPriceData()):200===a.status?this.$refs.control.main({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")}):this.$message.error(a.msg);case 6:case"end":return e.stop()}}),e,this)}))),200),renewDialogOpen:function(){this.tabIndex=1,this.getRenewRecord()},getRenewRecord:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(A["t"])(e.renewRecordSearch);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.renewRecordTableData=s.data.invoices,e.renewTotal=s.data.count;case 8:case"end":return t.stop()}}),t)})))()},handleReSizeChange:function(e){this.renewRecordSearch.limit=e,this.getRenewRecord()},autoRenew:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["a"])({hostid:e.$route.query.id,initiative_renew:e.baseData.host_data.initiative_renew});case 2:a=t.sent,s=a.data,200!==s.status?e.$message.error(s.msg):e.$message.success(s.msg);case 5:case"end":return t.stop()}}),t)})))()},resize:function(){this.flowChart.resize()},getCustom:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&(parseInt(e.name)<=6||(s=localStorage.getItem("OrfLcI2IqQItv0vS"),t.htmlContent=t.$baseUrl+"/provision/custom/content?id="+t.hid+"&key="+e.name+"&jwt="+s));case 1:case"end":return a.stop()}}),a)})))()}},computed:{showReinstallBtn:function(){return!this.baseData.config_options.map((function(e){return e.option_type})).includes(5)},setClass:function(){return this.baseData.host_data.group.fa_icon}},watch:{}},T=z,L=(a("531a"),Object(v["a"])(T,s,n,!1,null,"47f66fe0",null));t["default"]=L.exports},"531a":function(e,t,a){"use strict";var s=a("ef38"),n=a.n(s);n.a},"98f3":function(e,t,a){},afe5:function(e,t,a){"use strict";var s=a("33a2"),n=a.n(s);n.a},ef38:function(e,t,a){}}]);