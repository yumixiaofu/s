(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Register~31ecd969"],{"1dde":function(e,t,r){var a=r("d039"),i=r("b622"),o=r("2d00"),s=i("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,r){"use strict";var a=r("23e7"),i=r("5a34"),o=r("1d80"),s=r("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,r){var a=r("861d"),i=r("c6b6"),o=r("b622"),s=o("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"4de4":function(e,t,r){"use strict";var a=r("23e7"),i=r("b727").filter,o=r("1dde"),s=r("ae40"),n=o("filter"),l=s("filter");a({target:"Array",proto:!0,forced:!n||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,r){var a=r("44e7");e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},8418:function(e,t,r){"use strict";var a=r("c04e"),i=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var s=a(t);s in e?i.f(e,s,o(0,r)):e[s]=r}},"9ec0":function(e,t,r){"use strict";function a(e){var t=document.createElement("div");t.innerHTML=e;var r=t.innerText||t.textContent;return t=null,r}r.d(t,"a",(function(){return a}))},a71a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",{staticClass:"login_custom_text"},[r("div",{staticClass:"login_custom_wrapper"},[r("h3",{staticClass:"login_custom_title"},[e._v(e._s(this.$store.state.loginText))]),r("p",{staticClass:"login_custom_desc"},[e._v(e._s(this.$store.state.loginDesc))])])]),"1"===e.commonData.login_header_footer?r("div",{ref:"customHeader",staticClass:"tac",staticStyle:{background:"#fff",overflow:"hidden"}},[r("span",{domProps:{innerHTML:e._s(e.commonData.login_header)}})]):e._e(),r("div",{ref:"registerBox",staticClass:"register_box"},[r("div",{staticClass:"limit"},[r("div",{staticClass:"logo"},[r("img",{staticClass:"cursor-pointer",attrs:{src:e.logoSrc,alt:""},on:{click:e.logoHandleClick}})]),r("el-tabs",{staticClass:"nopl-30",attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[1===e.allow_register_phone?r("el-tab-pane",{attrs:{label:e.$t("login.registerPhone"),name:"phone"}},[r("div",{staticClass:"register_form"},[r("el-form",{ref:"registerPhoneFormRef",attrs:{model:e.registerPhoneForm,rules:e.registerPhoneFormRules}},[r("el-form-item",{attrs:{prop:"phone",error:e.phoneErrorMsg}},[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:e.$t("login.enterPhone"),clearable:""},model:{value:e.registerPhoneForm.phone,callback:function(t){e.$set(e.registerPhoneForm,"phone",t)},expression:"registerPhoneForm.phone"}},[r("el-select",{attrs:{slot:"prepend",filterable:""},slot:"prepend",model:{value:e.registerPhoneForm.phone_code,callback:function(t){e.$set(e.registerPhoneForm,"phone_code",t)},expression:"registerPhoneForm.phone_code"}},e._l(e.phoneCodeOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.phone_code,value:e.phone_code}})})),1)],1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.registerPhoneCaptcha,expression:"registerPhoneCaptcha"}],attrs:{prop:"captcha",rules:{required:e.registerPhoneCaptcha,message:"请输入图形验证码"}}},[r("captcha",{ref:"registerPhoneCaptcha",attrs:{name:"allow_register_phone_captcha",isCaptcha:e.registerPhoneCaptcha},on:{"update:isCaptcha":function(t){e.registerPhoneCaptcha=t},"update:is-captcha":function(t){e.registerPhoneCaptcha=t}},model:{value:e.registerPhoneForm.captcha,callback:function(t){e.$set(e.registerPhoneForm,"captcha",t)},expression:"registerPhoneForm.captcha"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticClass:"codeinput",attrs:{placeholder:e.$t("login.enterCode")},model:{value:e.registerPhoneForm.code,callback:function(t){e.$set(e.registerPhoneForm,"code",t)},expression:"registerPhoneForm.code"}}),r("el-button",{staticClass:"codebtn",attrs:{type:e.codeBtnDisabled1?"info":"primary",disabled:e.codeBtnDisabled1},on:{click:e.getCheckedCode}},[e._v(" "+e._s(e.changeBtnValue1))])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:e.$t("login.enterPwd"),"show-password":"",autocomplete:"off"},model:{value:e.registerPhoneForm.password,callback:function(t){e.$set(e.registerPhoneForm,"password",t)},expression:"registerPhoneForm.password"}})],1),r("el-form-item",{attrs:{prop:"checkPassword"}},[r("el-input",{attrs:{placeholder:e.$t("login.enterPwdAgain"),"show-password":"",autocomplete:"off"},model:{value:e.registerPhoneForm.checkPassword,callback:function(t){e.$set(e.registerPhoneForm,"checkPassword",t)},expression:"registerPhoneForm.checkPassword"}})],1),"2"===e.setSaler?r("el-form-item",[r("div",{staticClass:"salelimit"},[r("div",{staticClass:"salelimit_title"},[e._v("销售代表")]),r("div",{staticClass:"salelimit_select"},[r("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择销售",clearable:""},model:{value:e.registerPhoneForm.sale_id,callback:function(t){e.$set(e.registerPhoneForm,"sale_id",t)},expression:"registerPhoneForm.sale_id"}},[r("template",{slot:"prepend"},[e._v("Http://")]),e._l(e.sale_idOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.user_nickname,value:e.id}})}))],2)],1)])]):e._e(),e.clients_profoptional.includes("qq")?r("el-form-item",{attrs:{prop:"qq"}},[r("el-input",{attrs:{placeholder:"请输入QQ",autocomplete:"off"},model:{value:e.registerPhoneForm.qq,callback:function(t){e.$set(e.registerPhoneForm,"qq",t)},expression:"registerPhoneForm.qq"}})],1):e._e(),e.clients_profoptional.includes("companyname")?r("el-form-item",{attrs:{prop:"companyname"}},[r("el-input",{attrs:{placeholder:"请输入公司名",autocomplete:"off"},model:{value:e.registerPhoneForm.companyname,callback:function(t){e.$set(e.registerPhoneForm,"companyname",t)},expression:"registerPhoneForm.companyname"}})],1):e._e(),e.clients_profoptional.includes("username")?r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入姓名",autocomplete:"off"},model:{value:e.registerPhoneForm.username,callback:function(t){e.$set(e.registerPhoneForm,"username",t)},expression:"registerPhoneForm.username"}})],1):e._e(),e.clients_profoptional.includes("address1")?r("el-form-item",{attrs:{prop:"address1"}},[r("el-input",{attrs:{placeholder:"请输入地址",autocomplete:"off"},model:{value:e.registerPhoneForm.address1,callback:function(t){e.$set(e.registerPhoneForm,"address1",t)},expression:"registerPhoneForm.address1"}})],1):e._e(),e._l(e.registerPhoneForm.fields,(function(t,a){return r("el-form-item",{key:t.id,attrs:{prop:e.registerPhoneForm.fields[a].fieldoptions,rules:{required:1===t.required,message:"该选项不能为空"}}},[r("customComponents",{attrs:{fields:t},model:{value:e.registerPhoneForm.fields[a].fieldoptions,callback:function(t){e.$set(e.registerPhoneForm.fields[a],"fieldoptions",t)},expression:"registerPhoneForm.fields[index].fieldoptions"}})],1)})),r("el-button",{staticClass:"registerBtn",attrs:{type:"primary",loading:e.registerLoading},on:{click:e.registerPhone}},[e._v(" "+e._s(e.$t("login.register")))])],2)],1)]):e._e(),1===e.allow_register_email?r("el-tab-pane",{attrs:{lazy:"",label:e.$t("login.registerEmail"),name:"email"}},[r("div",{staticClass:"register_form"},[r("el-form",{ref:"registerEmailFormRef",attrs:{model:e.registerEmailForm,rules:e.registerEmailFormRules}},[r("el-form-item",{attrs:{prop:"email",error:e.emailErrorMsg}},[r("el-input",{attrs:{placeholder:e.$t("login.enterEmail"),clearable:""},model:{value:e.registerEmailForm.email,callback:function(t){e.$set(e.registerEmailForm,"email",t)},expression:"registerEmailForm.email"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.registerEmailCaptcha,expression:"registerEmailCaptcha"}],attrs:{prop:"captcha",rules:{required:e.registerEmailCaptcha,message:"请输入图形验证码"}}},[r("captcha",{ref:"registerEmailCaptcha",attrs:{name:"allow_register_email_captcha",isCaptcha:e.registerEmailCaptcha},on:{"update:isCaptcha":function(t){e.registerEmailCaptcha=t},"update:is-captcha":function(t){e.registerEmailCaptcha=t}},model:{value:e.registerEmailForm.captcha,callback:function(t){e.$set(e.registerEmailForm,"captcha",t)},expression:"registerEmailForm.captcha"}})],1),e.allow_email_register_code?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticClass:"codeinput",attrs:{placeholder:e.$t("login.enterCode")},model:{value:e.registerEmailForm.code,callback:function(t){e.$set(e.registerEmailForm,"code",t)},expression:"registerEmailForm.code"}}),r("el-button",{staticClass:"codebtn",attrs:{type:e.codeBtnDisabled2?"info":"primary",disabled:e.codeBtnDisabled2},on:{click:e.getCheckedCode}},[e._v(" "+e._s(e.changeBtnValue2))])],1):e._e(),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:e.$t("login.enterPwd"),"show-password":""},model:{value:e.registerEmailForm.password,callback:function(t){e.$set(e.registerEmailForm,"password",t)},expression:"registerEmailForm.password"}})],1),r("el-form-item",{attrs:{prop:"checkPassword"}},[r("el-input",{attrs:{placeholder:e.$t("login.enterPwdAgain"),"show-password":""},model:{value:e.registerEmailForm.checkPassword,callback:function(t){e.$set(e.registerEmailForm,"checkPassword",t)},expression:"registerEmailForm.checkPassword"}})],1),"2"===e.setSaler?r("el-form-item",[r("div",{staticClass:"salelimit"},[r("div",{staticClass:"salelimit_title"},[e._v("销售代表")]),r("div",{staticClass:"salelimit_select"},[r("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择销售",clearable:""},model:{value:e.registerEmailForm.sale_id,callback:function(t){e.$set(e.registerEmailForm,"sale_id",t)},expression:"registerEmailForm.sale_id"}},e._l(e.sale_idOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.user_nickname,value:e.id}})})),1)],1)])]):e._e(),e.clients_profoptional.includes("qq")?r("el-form-item",{attrs:{prop:"qq"}},[r("el-input",{attrs:{placeholder:"请输入QQ",autocomplete:"off"},model:{value:e.registerEmailForm.qq,callback:function(t){e.$set(e.registerEmailForm,"qq",t)},expression:"registerEmailForm.qq"}})],1):e._e(),e.clients_profoptional.includes("companyname")?r("el-form-item",{attrs:{prop:"companyname"}},[r("el-input",{attrs:{placeholder:"请输入公司名",autocomplete:"off"},model:{value:e.registerEmailForm.companyname,callback:function(t){e.$set(e.registerEmailForm,"companyname",t)},expression:"registerEmailForm.companyname"}})],1):e._e(),e.clients_profoptional.includes("username")?r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入姓名",autocomplete:"off"},model:{value:e.registerEmailForm.username,callback:function(t){e.$set(e.registerEmailForm,"username",t)},expression:"registerEmailForm.username"}})],1):e._e(),e.clients_profoptional.includes("address1")?r("el-form-item",{attrs:{prop:"address1"}},[r("el-input",{attrs:{placeholder:"请输入地址",autocomplete:"off"},model:{value:e.registerEmailForm.address1,callback:function(t){e.$set(e.registerEmailForm,"address1",t)},expression:"registerEmailForm.address1"}})],1):e._e(),e._l(e.registerEmailForm.fields,(function(t,a){return r("el-form-item",{key:t.id,attrs:{prop:"fields["+a+"].fieldoptions",rules:{required:1===t.required,message:"该选项不能为空"}}},[r("customComponents",{attrs:{fields:t},model:{value:e.registerEmailForm.fields[a].fieldoptions,callback:function(t){e.$set(e.registerEmailForm.fields[a],"fieldoptions",t)},expression:"registerEmailForm.fields[index].fieldoptions"}})],1)})),r("el-button",{staticClass:"registerBtn",attrs:{type:"primary",loading:e.registerLoading},on:{click:e.registerEmail}},[e._v(" "+e._s(e.$t("login.register")))])],2)],1)]):e._e()],1),1===e.allow_register_phone||1===e.allow_register_email?r("div",[r("div",{staticClass:"register_terms"},[r("el-checkbox",{model:{value:e.checkedTerms,callback:function(t){e.checkedTerms=t},expression:"checkedTerms"}}),e._v(e._s(e.$t("login.termsMsg"))+" "),r("el-link",{staticStyle:{"font-size":"12px",margin:"0 4px","text-decoration":"underline"},attrs:{href:e.server_clause_url,target:"blank"}},[e._v(e._s(e.$t("login.terms")))]),e._v(" "+e._s(e.$t("login.and"))+" "),r("el-link",{staticStyle:{"font-size":"12px","margin-left":"4px","text-decoration":"underline"},attrs:{href:e.privacy_clause_url,target:"blank"}},[e._v(e._s(e.$t("login.privacyPolicy"))+" ")])],1),r("div",{staticClass:"register_login"},[e._v(" "+e._s(e.$t("login.hasAccount"))+" "),r("router-link",{attrs:{to:"/login"}},[e._v(e._s(e.$t("login.login")))])],1)]):0===e.allow_register_phone&&0===e.allow_register_email?r("div",{staticClass:"tac"},[e._v(e._s(e.$t("login.nothing"))+" ")]):e._e()],1)]),"1"===e.commonData.login_header_footer?r("div",{ref:"customFooter",staticClass:"tac",staticStyle:{background:"#fff",overflow:"hidden",width:"100%"}},[r("span",{domProps:{innerHTML:e._s(e.commonData.login_footer)}})]):e._e()])},i=[];r("4de4"),r("4160"),r("caad"),r("d81d"),r("b0c0"),r("a9e3"),r("2532"),r("159b"),r("a4d3"),r("e439"),r("dbb4"),r("b64b");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r("96cf");var l=r("1da1"),c=r("4360"),m=r("a78e"),d=r.n(m),u=r("c7a1"),g=(r("e01a"),{render:function(e){this.fields.dropdown_option=this.fields.dropdown_option instanceof Array?this.fields.dropdown_option:[];var t=this,r={};switch(r.placeholder=this.fields.description,this.fields.fieldtype){case"text":r.el="el-input",r.type="text";break;case"link":r.el="el-input",r.type="text";break;case"password":r.el="el-input",r.type="password";break;case"textarea":r.el="el-input",r.type="textarea";break;case"tickbox":r.el="el-checkbox";break;case"dropdown":r.el="el-select";break;default:break}return e(r.el,{attrs:{placeholder:r.placeholder,value:t.fields.fieldoptions,type:t.fields.fieldtype,showPassword:"password"===r.type,rows:4,label:r.placeholder,clearable:!0},style:{width:"100%"},on:{input:function(e){t.$emit("input",e)}}},this.fields.dropdown_option.map((function(t){return e("el-option",{props:{value:t,label:t}})})))},props:{fields:{type:Object,required:!0}}}),p=r("7555"),h=r("9ec0"),f=r("2ef0"),v={metaInfo:function(){return{title:this.$t("login.register"),titleTemplate:"%s - "+this.companyTitle,htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},components:{customComponents:g},data:function(){var e=this,t=function(t,r,a){""===r?a(new Error(e.$t("login.enterPhone"))):e.checkPhone(r)?a():a(new Error(e.$t("login.validatePhone")))},r=function(t,r,a){""===r?a(new Error(e.$t("login.enterEmail"))):e.checkEmail(r)?a():a(new Error(e.$t("login.validateEmail")))},a=function(t,r,a){""===r?a(new Error(e.$t("login.enterCode"))):a()},i=function(t,r,a){""===r?a(new Error(e.$t("login.enterPwd"))):(""!==e.registerPhoneForm.checkPassword&&e.$refs.registerPhoneFormRef.validateField("checkPassword"),a())},o=function(t,r,a){""===r?a(new Error(e.$t("login.enterPwdAgain"))):r!==e.registerPhoneForm.password?a(new Error(e.$t("login.validatePwd"))):a()},s=function(t,r,a){""===r?a(new Error(e.$t("login.enterPwd"))):(""!==e.registerEmailForm.checkPassword&&e.$refs.registerEmailFormRef.validateField("checkPassword"),a())},n=function(t,r,a){""===r?a(new Error(e.$t("login.enterPwdAgain"))):r!==e.registerEmailForm.password?a(new Error(e.$t("login.validatePwd"))):a()};return{commonData:{},companyTitle:"",logoSrc:"",allow_register_email:void 0,setSaler:void 0,allow_register_phone:void 0,allow_wechat:void 0,allow_email_register_code:void 0,registerLoading:!1,activeName:"phone",phoneCodeOptions:[],registerPhoneCaptcha:!1,registerEmailCaptcha:!1,registerPhoneForm:{phone_code:"+86",sale_id:Number(this.$route.query.saler)||0,phone:"",code:"",password:"",checkPassword:"",qq:"",companyname:"",username:"",address1:"",captcha:null,fields:[]},registerPhoneFormRules:{phone:[{validator:t,trigger:"blur"}],code:[{validator:a,trigger:"blur"}],password:[{validator:i,trigger:"blur"},{min:6,max:32,message:this.$t("login.pwdLength"),trigger:"blur"}],checkPassword:[{validator:o,trigger:"blur"}],qq:[{required:!1,pattern:/^\d{1,}$/,message:"请输入正确的QQ",trigger:"blur"}],companyname:[{required:!1,message:"请输入公司名",trigger:"blur"}],username:[{required:!1,message:"请输入姓名",trigger:"blur"}],address1:[{required:!1,message:"请输入地址",trigger:"blur"}]},phoneErrorMsg:"",registerEmailForm:{email:"",sale_id:Number(this.$route.query.saler)||0,code:"",password:"",checkPassword:"",qq:"",companyname:"",username:"",address1:"",captcha:null,fields:[]},registerEmailFormRules:{email:[{validator:r,trigger:"blur"}],code:[{validator:a,trigger:"blur"}],password:[{validator:s,trigger:"blur"},{min:6,max:32,message:this.$t("login.pwdLength"),trigger:"blur"}],checkPassword:[{validator:n,trigger:"blur"}],qq:[{required:!1,pattern:/^\d{1,}$/,message:"请输入正确的QQ",trigger:"blur"}],companyname:[{required:!1,message:"请输入公司名",trigger:"blur"}],username:[{required:!1,message:"请输入姓名",trigger:"blur"}],address1:[{required:!1,message:"请输入地址",trigger:"blur"}]},emailErrorMsg:"",changeBtnValue1:this.$t("login.getCode"),codeBtnDisabled1:!1,timer1:null,changeBtnValue2:this.$t("login.getCode"),codeBtnDisabled2:!1,timer2:null,checkedTerms:!1,prePath:sessionStorage.getItem("prePath")||void 0,clients_profoptional:[],server_clause_url:"",privacy_clause_url:"",sale_idOptions:[],system_url:"",fieldsList:[],requiredOptions:[]}},methods:{checkRequire:function(e){for(var t=0;t<this.requiredOptions.length;t++){var r=this.requiredOptions[t];return r.name===e&&!!r.require}},setHeight:function(){var e=this;this.$nextTick((function(){var t=document.body.clientHeight,r=e.$refs.customHeader.offsetHeight,a=e.$refs.customFooter.offsetHeight;e.$refs.registerBox.style.height=t-r-a+"px"}))},logoHandleClick:function(){location.href=this.system_url},getConfig:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["a"])();case 2:r=t.sent,a=r.data,200!==a.status?e.$message.error(a.msg):(c["b"].setPROFESSION(a.data.is_profession),i=7200,o=new Date(1*new Date+1e3*i),d.a.set("msfntk",a.data.msfntk,{expires:o}),e.companyTitle=a.data.company_name,e.logoSrc=a.data.logo_url,e.system_url=a.data.system_url,localStorage.setItem("locale",a.data.language),sessionStorage.setItem("changeLang",a.data.allow_user_language),sessionStorage.setItem("logoSrc",a.data.logo_url_home),localStorage.setItem("system_url",a.data.system_url),sessionStorage.setItem("certifi_open",a.data.certifi_open),e.$store.dispatch("addCertifiOpen",a.data.certifi_open),a.data.login_header=Object(h["a"])(a.data.login_header),a.data.login_footer=Object(h["a"])(a.data.login_footer),e.commonData=a.data,e.setHeight());case 5:case"end":return t.stop()}}),t)})))()},setDefaultBg:function(){this.$nextTick((function(){var e=document.querySelector(".register");e.style.background="url(".concat(r("ef57"),") no-repeat")}))},setCustomBg:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".register");t.style.background="url(".concat(e.loginBg,") no-repeat"),t.style.backgroundSize="cover"}))},handleClick:function(e){this.activeName=e.name,"phone"===e.name?this.$refs.registerEmailFormRef.resetFields():"email"===e.name&&this.$refs.registerPhoneFormRef.resetFields()},checkPhone:function(e){var t=/^\d{5,13}$/;return!!t.test(e)},checkEmail:function(e){var t=/^([0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*@(([0-9a-zA-Z])+([-\w]*[0-9a-zA-Z])*\.)+[a-zA-Z]{2,9})$/;return!!t.test(e)},getCheckedCode:f.throttle((function(){var e=this;"phone"===this.activeName?this.$refs.registerPhoneFormRef.validateField("phone",(function(t){if(t)return!1;e.$refs.registerPhoneFormRef.validateField("captcha",(function(t){if(t)return!1;e.codeByPhone(e.registerPhoneForm.phone_code,e.registerPhoneForm.phone,e.registerPhoneForm.captcha)}))})):this.$refs.registerEmailFormRef.validateField("email",(function(t){if(t)return!1;e.$refs.registerEmailFormRef.validateField("captcha",(function(t){if(t)return!1;e.codeByEmail(e.registerEmailForm.email,e.registerEmailForm.captcha)}))}))}),3e3),getSomeMsg:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["e"])();case 2:if(r=t.sent,a=r.data,200===a.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.setSaler=a.data.setsaler,a.data.saler?a.data.saler.unshift({id:0,user_email:"",user_nickname:"无"}):a.data.saler=[{id:0,user_email:"",user_nickname:"无"}],e.sale_idOptions=a.data.saler,e.allow_register_email=a.data.allow_register_email,e.allow_register_phone=a.data.allow_register_phone,e.allow_wechat=a.data.allow_wechat,e.allow_email_register_code=a.data.allow_email_register_code,e.clients_profoptional=a.data.clients_profoptional||[],e.requiredOptions=a.data.login_register_custom_require.filter((function(e){return a.data.clients_profoptional.includes(e.name)})),e.registerEmailFormRules.qq[0].required=e.filterItem("qq"),e.registerEmailFormRules.companyname[0].required=e.filterItem("companyname"),e.registerEmailFormRules.username[0].required=e.filterItem("username"),e.registerEmailFormRules.address1[0].required=e.filterItem("address1"),e.registerPhoneFormRules.qq[0].required=e.filterItem("qq"),e.registerPhoneFormRules.companyname[0].required=e.filterItem("companyname"),e.registerPhoneFormRules.username[0].required=e.filterItem("username"),e.registerPhoneFormRules.address1[0].required=e.filterItem("address1"),1===e.allow_register_phone&&(e.activeName="phone"),1===e.allow_register_email&&(e.activeName="email"),1===e.allow_wechat&&(e.activeName="weChat"),e.server_clause_url=a.data.server_clause_url,e.privacy_clause_url=a.data.privacy_clause_url,e.fieldsList=a.data.fields.map((function(e){return e.value=null,e})),e.registerEmailForm.fields=e.fieldsList,e.registerPhoneForm.fields=e.fieldsList;case 31:case"end":return t.stop()}}),t)})))()},filterItem:function(e){var t,r=this.requiredOptions.filter((function(t){return e===t.name}));return!!parseInt(null===(t=r[0])||void 0===t?void 0:t.require)},getLogin:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["d"])();case 2:if(r=t.sent,a=r.data,200===a.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.phoneCodeOptions=a.data;case 7:case"end":return t.stop()}}),t)})))()},codeByPhone:function(e,t,r){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var o,s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.phoneErrorMsg="",a.countDownPhone(),o={phone_code:e,phone:t,captcha:r,mk:d.a.get("msfntk")},i.next=5,Object(p["b"])(o);case 5:if(s=i.sent,n=s.data,200===n.status){i.next=16;break}return a.phoneErrorMsg=n.msg,clearInterval(a.timer1),a.codeBtnDisabled1=!1,a.changeBtnValue1=a.$t("login.getCode"),a.$refs.registerPhoneCaptcha.getVerify(),i.abrupt("return",!1);case 16:a.$message.success(n.msg);case 17:case"end":return i.stop()}}),i)})))()},registerPhone:f.throttle((function(){var e=this;if(!this.checkedTerms)return this.$message({message:this.$t("login.agree"),type:"warning",duration:1e3,center:!0}),!1;this.$refs.registerPhoneFormRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,i,o,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=28;break}return a=[],e.registerPhoneForm.fields.forEach((function(e){a[e.id]=e.fieldoptions})),i=n({},e.registerPhoneForm,{fields:a}),delete i.captcha,e.registerLoading=!0,t.next=8,Object(p["o"])(e.$qs.stringify(i));case 8:if(o=t.sent,s=o.data,200===s.status){t.next=15;break}return e.$message({message:s.msg,type:"error",center:!0}),e.registerLoading=!1,e.$refs.registerPhoneCaptcha.getVerify(),t.abrupt("return",!1);case 15:e.$message({message:s.msg,type:"success",center:!0}),clearInterval(e.timer1),e.registerLoading=!1,e.codeBtnDisabled1=!1,e.changeBtnValue1=e.$t("login.getCode"),window.localStorage.setItem("OrfLcI2IqQItv0vS",s.jwt),l=7200,c=new Date(1*new Date+1e3*l),d.a.set("OrfLcI2IqQItv0vS",s.jwt,{expires:c,path:"/"}),window.localStorage.setItem("loginTime",(new Date).getTime()),"/order-cart"===e.prePath?e.$router.push("/order-cart"):e.$router.push("/"),t.next=29;break;case 28:return t.abrupt("return",!1);case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),3e3),codeByEmail:function(e,t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r.emailErrorMsg="",r.countDownEmail(),a.next=4,Object(p["a"])(e,t);case 4:if(i=a.sent,o=i.data,200===o.status){a.next=13;break}return r.$refs.registerEmailCaptcha.getVerify(),r.emailErrorMsg=o.msg,clearInterval(r.timer2),r.codeBtnDisabled2=!1,r.changeBtnValue2=r.$t("login.getCode"),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a)})))()},registerEmail:f.throttle((function(){var e=this;if(!this.checkedTerms)return this.$message({message:this.$t("login.agree"),type:"warning",duration:1e3,center:!0}),!1;this.$refs.registerEmailFormRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,i,o,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=27;break}return a=[],e.registerEmailForm.fields.forEach((function(e){a[e.id]=e.fieldoptions})),i=n({},e.registerEmailForm,{fields:a}),delete i.captcha,e.registerLoading=!0,t.next=8,Object(p["n"])(e.$qs.stringify(i));case 8:if(o=t.sent,s=o.data,e.registerLoading=!1,200===s.status){t.next=15;break}return e.$message({message:s.msg,type:"error",center:!0}),e.$refs.registerEmailCaptcha.getVerify(),t.abrupt("return",!1);case 15:e.$message({message:s.msg,type:"success",center:!0}),clearInterval(e.timer2),e.codeBtnDisabled2=!1,e.changeBtnValue2=e.$t("login.getCode"),window.localStorage.setItem("OrfLcI2IqQItv0vS",s.jwt),l=7200,c=new Date(1*new Date+1e3*l),d.a.set("OrfLcI2IqQItv0vS",s.jwt,{expires:c,path:"/"}),window.localStorage.setItem("loginTime",(new Date).getTime()),"/order-cart"===e.prePath?e.$router.push("/order-cart"):e.$router.push("/"),t.next=28;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),3e3),countDownPhone:function(){var e=this,t=60;this.changeBtnValue1=t+this.$t("login.timeCount"),this.timer1=setInterval((function(){0===t?(clearInterval(e.timer1),e.codeBtnDisabled1=!1,e.changeBtnValue1=e.$t("login.getCode")):(e.codeBtnDisabled1=!0,e.changeBtnValue1=t+e.$t("login.timeCount"),t--)}),1e3)},countDownEmail:function(){var e=this,t=60;this.changeBtnValue2=t+this.$t("login.timeCount"),this.timer2=setInterval((function(){0===t?(clearInterval(e.timer2),e.codeBtnDisabled2=!1,e.changeBtnValue2=e.$t("login.getCode")):(e.codeBtnDisabled2=!0,e.changeBtnValue2=t+e.$t("login.timeCount"),t--)}),1e3)}},created:function(){this.getSomeMsg(),this.getLogin(),this.getConfig()},computed:{loginBg:function(){return this.$store.state.loginBg},appComplete:function(){return this.$store.state.commlistComplete}},watch:{appComplete:{handler:function(e){e&&""===this.loginBg?this.setDefaultBg():this.setCustomBg()},immediate:!0}}},_=v,b=(r("c169"),r("2877")),w=Object(b["a"])(_,a,i,!1,null,"76308321",null);t["default"]=w.exports},ab13:function(e,t,r){var a=r("b622"),i=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(a){}}return!1}},ad44:function(e,t,r){},b64b:function(e,t,r){var a=r("23e7"),i=r("7b0b"),o=r("df75"),s=r("d039"),n=s((function(){o(1)}));a({target:"Object",stat:!0,forced:n},{keys:function(e){return o(i(e))}})},c169:function(e,t,r){"use strict";var a=r("ad44"),i=r.n(a);i.a},d81d:function(e,t,r){"use strict";var a=r("23e7"),i=r("b727").map,o=r("1dde"),s=r("ae40"),n=o("map"),l=s("map");a({target:"Array",proto:!0,forced:!n||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,r){var a=r("23e7"),i=r("83ab"),o=r("56ef"),s=r("fc6a"),n=r("06cf"),l=r("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,a=s(e),i=n.f,c=o(a),m={},d=0;while(c.length>d)r=i(a,t=c[d++]),void 0!==r&&l(m,t,r);return m}})},e439:function(e,t,r){var a=r("23e7"),i=r("d039"),o=r("fc6a"),s=r("06cf").f,n=r("83ab"),l=i((function(){s(1)})),c=!n||l;a({target:"Object",stat:!0,forced:c,sham:!n},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},ef57:function(e,t,r){e.exports=r.p+"img/new-background.0b8cb548.jpg"}}]);