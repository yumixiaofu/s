(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OtherView~31ecd969","OtherServerUpgradePay~16180a91","OtherServerUpgradeProduct~7ab27a68"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3");var r=a("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(t,e):void 0}}},"0a065":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_log"},[a("div",{staticClass:"standaloneserver_log_search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_log_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:t.$height-540,data:t.tableData,"header-row-class-name":"innerTableHeader","row-class-name":"innerTableRowClass","cell-class-name":"innerTableCellClass"},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(t._s(t.$moment(1e3*r.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{domProps:{innerHTML:t._s(r.description)}})]}}])}),a("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1)],1),a("div",{staticClass:"standaloneserver_log_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},n=[],s=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),o=a("4a8e"),i={data:function(){return{page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},tableData:[]}},props:{id:{type:Number,default:0}},methods:{getId:function(){},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.id,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.total=r.data.count,t.tableData=r.data.log_list;case 8:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()}},created:function(){this.getId(),this.getData()},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}}},l=i,c=(a("322d"),a("2877")),d=Object(c["a"])(l,r,n,!1,null,"4379603e",null);e["default"]=d.exports},"0b20":function(t,e,a){},1276:function(t,e,a){"use strict";var r=a("d784"),n=a("44e7"),s=a("825a"),o=a("1d80"),i=a("4840"),l=a("8aa5"),c=a("50c4"),d=a("14c3"),u=a("9263"),p=a("d039"),h=[].push,g=Math.min,m=4294967295,f=!p((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,a){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var r=String(o(this)),s=void 0===a?m:a>>>0;if(0===s)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,s);var i,l,c,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,f=new RegExp(t.source,p+"g");while(i=u.call(f,r)){if(l=f.lastIndex,l>g&&(d.push(r.slice(g,i.index)),i.length>1&&i.index<r.length&&h.apply(d,i.slice(1)),c=i[0].length,g=l,d.length>=s))break;f.lastIndex===i.index&&f.lastIndex++}return g===r.length?!c&&f.test("")||d.push(""):d.push(r.slice(g)),d.length>s?d.slice(0,s):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=o(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,a):r.call(String(n),e,a)},function(t,n){var o=a(r,t,this,n,r!==e);if(o.done)return o.value;var u=s(t),p=String(this),h=i(u,RegExp),v=u.unicode,_=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),b=new h(f?u:"^(?:"+u.source+")",_),y=void 0===n?m:n>>>0;if(0===y)return[];if(0===p.length)return null===d(b,p)?[p]:[];var w=0,x=0,C=[];while(x<p.length){b.lastIndex=f?x:0;var D,S=d(b,f?p:p.slice(x));if(null===S||(D=g(c(b.lastIndex+(f?0:x)),p.length))===w)x=l(p,x,v);else{if(C.push(p.slice(w,x)),C.length===y)return C;for(var $=1;$<=S.length-1;$++)if(C.push(S[$]),C.length===y)return C;x=w=D}}return C.push(p.slice(w)),C}]}),!f)},"20cb":function(t,e,a){"use strict";var r=a("0b20"),n=a.n(r);n.a},"322d":function(t,e,a){"use strict";var r=a("b846"),n=a.n(r);n.a},"4b5f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout_card"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[1===t.host_data.group.id?a("el-breadcrumb-item",{attrs:{to:{path:"/cloud-server",query:{groupid:t.host_data.group.id}}}},[a("i",{staticClass:"iconfont icon-mofangDCIM"}),t._v(" "+t._s(t.host_data.group.groupname)+" ")]):2===t.host_data.group.id?a("el-breadcrumb-item",{attrs:{to:{path:"/servers",query:{groupid:t.host_data.group.id}}}},[a("i",{staticClass:"iconfont icon-mofangDCIM"}),t._v(" "+t._s(t.host_data.group.groupname)+" ")]):t.host_data.group.id>=3?a("el-breadcrumb-item",{attrs:{to:{path:"/other-servers",query:{groupid:t.host_data.group.id}}}},[a("i",{staticClass:"iconfont icon-mofangDCIM"}),t._v(" "+t._s(t.host_data.group.groupname)+" ")]):t._e(),a("el-breadcrumb-item",[t._v("详情")])],1)],1),a("div",{staticClass:"page-title"},[t._v(t._s(t.host_data.group.groupname))]),a("div",{staticClass:"other_header"},[a("server-header",{attrs:{serverInfo:t.host_data,moduleConsole:t.module_button.console},on:{consoleClick:t.consoleHandleCommand}})],1),a("div",{staticClass:"other_server_nav"},[a("el-tabs",{on:{"tab-click":t.getCustom},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.billing"),name:"1"}},[a("finance",{attrs:{pid:t.id,groupid:t.groupid}})],1),a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.log"),name:"2"}},[a("log",{attrs:{id:t.id}})],1),t.module_button.control.length?a("el-tab-pane",{attrs:{label:"控制",name:"3"}},[a("control",{attrs:{id:t.id}})],1):t._e(),"Active"!==t.host_data.domainstatus||1!==t.host_data.allow_upgrade_config&&1!==t.host_data.allow_upgrade_product?t._e():a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.upDown"),name:"4"}},[0===t.upgradeType?a("div",{staticClass:"standaloneserver_control_box"},[1===t.host_data.allow_upgrade_product?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType=1}}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.host_data.allow_upgrade_config?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType=2}}},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))])],1)]):t._e()]):t._e(),1===t.upgradeType?a("upgradeProduct",{on:{nextClick:function(e){return t.upgradeNext(1)}}}):t._e(),2===t.upgradeType?a("upgradeConfig",{on:{nextClick:function(e){return t.upgradeNext(2)}}}):t._e(),3===t.upgradeType?a("upgradePay",{attrs:{upgradeTypeChild:t.upgradeTypeChild}}):t._e()],1),t.module_chart.length>0&&"Active"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{label:t.$t("cloudServer.charts"),name:"5"}},[a("div",{staticClass:"info_box_chart info_box_list"},[a("el-row",{attrs:{gutter:40}},[t._l(t.module_chart,(function(e){return[a("el-col",{key:e.type,attrs:{xs:24,md:24,lg:12}},[a("div",{staticClass:"box_chart_flow"},[a("div",{staticClass:"chart_flow_title"},[a("div",{staticClass:"flow_title_text"},[t._v(t._s(e.title))])]),a("flowEcharts",{ref:"flowEcharts"+e.type,refInFor:!0,attrs:{moduleChart:e,hostId:parseInt(t.id),toDayDate:parseInt(1e3*t.host_data.regdate)}})],1)])]}))],2)],1)]):t._e(),this.download_data.length?a("el-tab-pane",{attrs:{name:"8",label:"文件下载"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.download_data,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"文件名"}}),a("el-table-column",{attrs:{prop:"description",label:"文件描述"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.goDownload(r)}}},[t._v("立即下载")])]}}],null,!1,1668826208)})],1)],1):t._e(),t._l(t.module_client_area,(function(e,r){return a("el-tab-pane",{key:r,attrs:{label:e.name,name:e.key}},[isNaN(parseInt(t.activeName))?a("embed",{staticStyle:{width:"100%"},attrs:{height:"800",src:t.htmlContent,type:""}}):t._e()])}))],2)],1)])},n=[],s=(a("4160"),a("b0c0"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("a78e"),i=a.n(o),l=a("318a"),c=a("4a8e"),d=a("048a"),u=a("0aa1"),p=a("0a065"),h=a("1e4f"),g=a("4c8e"),m=a("b4f7"),f=a("2cf5"),v=a("7028"),_={metaInfo:function(){return{title:this.host_data.group.groupname,titleTemplate:"%s - "+this.host_data.domain+(this.companyname?" - "+this.companyname:""),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{download_data:[],groupid:Number(this.$route.query.groupid),companyname:"",id:Number(this.$route.query.id),host_data:{domain:"",productname:"",hasSelect:!1,config_options:[],custom_field_data:[],assignedips:[],group:{fa_icon:"",groupname:"",id:0}},module_button:{console:[],control:[]},activeName:"1",htmlContent:"",module_chart:[],module_client_area:[],upgradeType:0,upgradeTypeChild:"product"}},components:{ServerHeader:l["default"],finance:u["default"],log:p["default"],control:h["default"],flowEcharts:g["a"],upgradeProduct:m["default"],upgradeConfig:f["default"],upgradePay:v["default"]},computed:{updateHostData:function(){return this.$store.state.currentProHostData}},watch:{updateHostData:function(t){this.getData()}},methods:{goDownload:function(t){t.url?open(t.url+"&jwt="+i.a.get("OrfLcI2IqQItv0vS")):this.$message.error("该文件没有下载链接")},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(t.id);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.companyname=r.data.system_config.company_name,t.download_data=r.data.download_data,t.host_data=r.data.host_data,t.host_data.config_options=r.data.config_options,t.host_data.custom_field_data=r.data.custom_field_data,t.host_data.group=r.data.host_data.group,t.module_button=r.data.module_button,"dcim"!==r.data.host_data.type&&(t.module_chart=r.data.module_chart,t.module_client_area=r.data.module_client_area,setTimeout((function(){t.module_chart&&t.module_chart.forEach((function(e){void 0!==t.$refs["flowEcharts"+e.type]&&"undefined"!==t.$refs["flowEcharts"+e.type]&&(t.$refs["flowEcharts"+e.type][0].type=e.type,t.$refs["flowEcharts"+e.type][0].init())}))}),0)),0===t.host_data.dcimid&&"dcimcloud"===t.host_data.type||0===t.host_data.serverid&&0===t.host_data.zjmf_api_id||"Suspended"===t.host_data.domainstatus||"Pending"===t.host_data.domainstatus||"Cancelled"===t.host_data.domainstatus||"Fraud"===t.host_data.domainstatus||"Active"===t.host_data.domainstatus?t.activeName="1":"Deleted"===t.host_data.domainstatus&&(t.activeName="2");case 15:case"end":return e.stop()}}),e)})))()},consoleHandleCommand:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,i,l,c,u,p,h,g,m,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.split("-"),n=r[1],s=r[2],"default"!==s||"vnc"!==n){a.next=12;break}return o={id:e.id,func:n},a.next=7,Object(d["d"])(o);case 7:i=a.sent,l=i.data,200===l.status?(c=l.data.url,u=1100,p=550,h=(window.screen.availHeight-30-p)/2,g=(window.screen.availWidth-10-u)/2,window.open(c,"QRcodeWin"+e.id,"height="+p+", width="+u+", top="+h+", left="+g)):e.$swal("",l.msg,"error"),a.next=18;break;case 12:if("custom"!==s){a.next=18;break}return a.next=15,Object(d["c"])({id:e.id,func:n});case 15:m=a.sent,f=m.data,200!==f.status?e.$swal("",f.msg||"失败","error"):f.data.url?window.open(f.data.url):e.$swal("",f.msg||"成功","success");case 18:case"end":return a.stop()}}),a)})))()},getCustom:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&(parseInt(t.name)<=5||(r=localStorage.getItem("OrfLcI2IqQItv0vS"),e.htmlContent=e.$baseUrl+"/provision/custom/content?id="+e.id+"&key="+t.name+"&jwt="+r),"4"===t.name&&(e.upgradeType=0));case 1:case"end":return a.stop()}}),a)})))()},resize:function(){var t=this;this.module_chart.forEach((function(e){t.$refs["flowEcharts"+e.type][0]&&t.$refs["flowEcharts"+e.type][0].resize(e.type)})),this.screenWidth=document.body.clientWidth,this.type=this.screenWidth>900?"left":"top",this.popWidth=this.screenWidth>900?400:320},upgradeNext:function(t){this.upgradeType=3,1===t?this.upgradeTypeChild="product":2===t&&(this.upgradeTypeChild="config")}},created:function(){this.getData(),this.getCustom()},mounted:function(){var t,e=this;window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){t=null,e.resize()}),300)})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.resize)}))}},b=_,y=(a("20cb"),a("2877")),w=Object(y["a"])(b,r,n,!1,null,"504cd692",null);e["default"]=w.exports},"4c8e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-echarts"},[a("div",{staticClass:"head"},[a("el-row",{staticClass:"limit-data-pick"},[a("el-col",{attrs:{xs:24,lg:12}},[t.moduleChart.select&&t.moduleChart.select.length>0?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},on:{change:t.changeSelect},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.moduleChart.select,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1):"serveNetwork"===t.type?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[a("el-option",{key:"1",attrs:{label:t.$t("cloudServer.recently24H"),value:"1"}}),a("el-option",{key:"2",attrs:{label:t.$t("cloudServer.d7"),value:"2"}}),a("el-option",{key:"3",attrs:{label:t.$t("cloudServer.duringMonth"),value:"3"}}),a("el-option",{key:"4",attrs:{label:t.$("cloudServer.inLast30Days"),value:"4"}})],1):t._e()],1),a("el-col",{staticClass:"mobile-mt10",attrs:{xs:24,lg:12}},[a("el-date-picker",{style:{width:"100%"},attrs:{type:"datetimerange","range-separator":t.$t("cloudServer.to"),"start-placeholder":t.$t("cloudServer.startTime"),"end-placeholder":t.$t("cloudServer.endTime"),"value-format":"timestamp","picker-options":t.pickerOptions,format:"MM-dd"},on:{change:t.changeDateTime},model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}})],1)],1)],1),a("div",{staticClass:"flowEcharts",attrs:{id:t.type}}),"cloudNetwork"===t.type?a("div",{staticClass:"fix-cont"},[a("el-row",[a("el-col",{attrs:{span:3,offset:7}},[a("div",{staticStyle:{height:"20px"}}),a("div",[t._v(t._s(t.$t("cloudServer.intoTraffic")))]),a("div",[t._v(t._s(t.$t("cloudServer.flow")))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.latestTraffic")))]),a("div",[t._v(t._s(t.netDetail.accept.new))]),a("div",[t._v(t._s(t.netDetail.send.new))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.averageFlowRate")))]),a("div",[t._v(t._s(t.netDetail.accept.average))]),a("div",[t._v(t._s(t.netDetail.send.average))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.maximumFlow")))]),a("div",[t._v(t._s(t.netDetail.accept.max))]),a("div",[t._v(t._s(t.netDetail.send.max))])])],1)],1):t._e()])},n=[],s=(a("4160"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("b85c"),i=a("048a"),l=a("313e"),c=a.n(l),d=null,u={props:{moduleChart:{type:Object,default:null},hostId:{type:Number,default:0},toDayDate:{type:Number,value:0}},data:function(){return{chart_type:"",dateTime:[],xData:[],yData:[],yMax:100,dataGreen:[],labelGreen:"",type:"",dataBlue:[],labelBlue:"",dataYellow:[],labelYellow:"",unit:"%",diskDev:"",select:"",networkKey:0,nodeDisk:"",nodeNetwork:"",echartsId:"",dataGreen2:[],labelGreen2:"",dataBlue2:[],labelBlue2:"",timeType:0,subtext:"",netDetail:{accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},pickerOptions:{disabledDate:function(t){var e=d.toDayDate;return t.getTime()-new Date(e).getTime()+864e5<0||t.getTime()-(new Date).getTime()>=0}},pending:{}}},computed:{option:function(){var t={title:{subtext:0===this.xData.length?"暂无数据":this.subtext,left:"center",textAlign:"left",subtextStyle:{lineHeight:350}},grid:{left:"20",right:"40",top:"10%",bottom:"1%",containLabel:!0},xAxis:{type:"category",data:this.xData,axisTick:!1,boundaryGap:this.dataBlue.length<=3,axisLabel:{textStyle:{color:"#666"},formatter:function(t){for(var e=t.split(""),a="",r=0,n="";r<e.length+1;n=e[r++])a+=n,r%10||(a+="\n");return a}},axisLine:{lineStyle:{color:"#EBEEF5"}},splitLine:{show:!1}},yAxis:{type:"value",axisTick:!1,max:this.yMax,boundaryGap:!1,axisLine:{lineStyle:{color:"#EBEEF5"}},axisLabel:{formatter:"{value} "+this.unit,textStyle:{color:"#666"}},splitLine:{show:!1}},dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis",backgroundColor:"#fff",textStyle:{color:"#000"},extraCssText:"box-shadow:0 2px 12px 0 rgba(0, 0, 0, 0.1);"},series:[{name:this.labelGreen,data:this.dataGreen,z:10,itemStyle:{color:"#3fbf70"},symbol:1===this.dataGreen.length||"none",type:"line",sampling:!0},{name:this.labelBlue,data:this.dataBlue,itemStyle:{color:"#007bfc"},symbol:1===this.dataBlue.length||"none",type:"line",sampling:!0},{name:this.labelYellow,data:this.dataYellow,itemStyle:{color:"#E6A23C"},symbol:"none",type:"line",sampling:!0}]};return"area"===this.chart_type&&(t.series[0].areaStyle={color:"#78d29b",opacity:1},t.series[1].areaStyle={}),t}},watch:{timeType:function(t){if(""===t){var e=(new Date).getTime(),a=e-2592e6;this.dateTime=[new Date(a),new Date(e)]}else if(1===t){var r=(new Date).getTime(),n=new Date(new Date((new Date).toLocaleDateString()).getTime());this.dateTime=[new Date(n),new Date(r)]}else if(2===t){var s=(new Date).getTime(),o=s-6048e5;this.dateTime=[new Date(o),new Date(s)]}else if(3===t){var i=(new Date).getTime(),l=new Date;l.setDate(1);var c=new Date(new Date(l).toLocaleDateString()).getTime();this.dateTime=[new Date(c),new Date(i)]}else if(4===t){var d=(new Date).getTime(),u=d-2592e6;this.dateTime=[new Date(u),new Date(d)]}"serveNetwork"===this.type&&this.changeSelect()}},created:function(){d=this},mounted:function(){var t=document.getElementsByClassName("el-tabs__content")[0],e=t.clientWidth||t.offsetWight,a=document.getElementsByClassName("flowEcharts"),r=document.body.clientWidth;if(r<1400){var n,s=Object(o["a"])(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.style.width=e/1-22+"px"}}catch(u){s.e(u)}finally{s.f()}}else{var l,c=Object(o["a"])(a);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.style.width=e/2-22+"px"}}catch(u){c.e(u)}finally{c.f()}}},methods:{resize:function(t){var e,a=document.getElementsByClassName("flowEcharts"),r=Object(o["a"])(a);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.style.width="100%"}}catch(s){r.e(s)}finally{r.f()}this.echartsId=c.a.init(document.getElementById(t)),this.echartsId.resize()},changeSelect:function(){this.getData()},init:function(){var t=this,e=(new Date).getTime(),a=0;a=d.toDayDate?new Date(d.toDayDate).getTime()>e-6048e5?new Date(d.toDayDate).getTime():6048e5:e-6048e5,this.dateTime=[new Date(a),new Date(e)],this.xData=[],this.yData=[],this.dataGreen=[],this.labelGreen="",this.dataBlue=[],this.labelBlue="",this.dataYellow=[],this.labelYellow="",this.dataGreen2=[],this.labelGreen2="",this.dataBlue2=[],this.labelBlue2="",this.yMax=null,this.timeType=0,this.subtext="",this.netDetail={accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},this.select=this.moduleChart.select&&this.moduleChart.select.length>0?this.moduleChart.select[0].value:"",this.getData(),setTimeout((function(){t.echartsId=c.a.init(document.getElementById(t.type))}),0)},changeDateTime:function(){this.getData()},canvasChart:function(){var t=this.echartsId;t.setOption(this.option,!0)},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=[[],[],[]],t.xData=a[0],t.dataBlue=a[1],t.dataGreen=a[2],r={hostId:t.hostId,type:t.type,select:t.select,start:new Date(t.dateTime[0]).getTime(),end:new Date(t.dateTime[1]).getTime()},e.next=8,Object(i["h"])(r);case 8:if(n=e.sent,s=n.data,200===s.status){e.next=13;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 13:t.chart_type=s.data.chart_type,"%"===s.data.unit&&(t.yMax="100"),t.unit=s.data.unit,t.labelBlue=s.data.label[0],s.data.list.length>0&&s.data.list[0].forEach((function(e){t.dataBlue.push(e.value),t.xData.push(e.time)})),s.data.list.length>1&&(t.labelGreen=s.data.label[1],s.data.list[1].forEach((function(e){t.dataGreen.push(e.value)})));case 19:return e.prev=19,t.canvasChart(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,,19,22]])})))()}}},p=u,h=(a("b71c"),a("2877")),g=Object(h["a"])(p,r,n,!1,null,"3b7beaf2",null);e["a"]=g.exports},"4df4":function(t,e,a){"use strict";var r=a("0366"),n=a("7b0b"),s=a("9bdd"),o=a("e95a"),i=a("50c4"),l=a("8418"),c=a("35a1");t.exports=function(t){var e,a,d,u,p,h,g=n(t),m="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,_=void 0!==v,b=c(g),y=0;if(_&&(v=r(v,f>2?arguments[2]:void 0,2)),void 0==b||m==Array&&o(b))for(e=i(g.length),a=new m(e);e>y;y++)h=_?v(g[y],y):g[y],l(a,y,h);else for(u=b.call(g),p=u.next,a=new m;!(d=p.call(u)).done;y++)h=_?s(u,v,[d.value,y],!0):d.value,l(a,y,h);return a.length=y,a}},5989:function(t,e,a){"use strict";var r=a("b212"),n=a.n(r);n.a},"5bd6":function(t,e,a){},"6b75":function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}a.d(e,"a",(function(){return r}))},7028:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,r){return a("div",{key:r,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payNew",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},n=[],s=(a("96cf"),a("1da1")),o=a("27fd"),i=a("2ef0"),l={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},methods:{getProductData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["Q"])({hid:t.id});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.proPageData=r.data,t.promoCode=r.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:i.throttle(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(o["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.main({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["N"])({hid:t.id});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.configPageData=r.data,t.promoCode=r.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(o["H"])({hid:t.id});case 4:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(o["I"])({hid:t.id});case 11:n=e.sent,s=n.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:i.throttle(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(o["g"])(this.$qs.stringify(e));case 6:r=t.sent,n=r.data,200===n.status?this.$refs.control.main({id:n.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===n.status?(this.$message.success(n.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(n.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},c=l,d=(a("5989"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"44497432",null);e["default"]=u.exports},a630:function(t,e,a){var r=a("23e7"),n=a("4df4"),s=a("1c7e"),o=!s((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:n})},b0f3:function(t,e,a){"use strict";var r=a("5bd6"),n=a.n(r);n.a},b212:function(t,e,a){},b4f7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,r){return a("div",{key:"pro"+r,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,r){return a("el-option",{key:"cycle"+r,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},n=[],s=(a("4160"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,r=a.data,200!==r.status||((r.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=r.data.host[0].pid,t.productList=r.data.host,t.currency=r.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(o["R"])(t.upgradeSubmitData);case 4:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},l=i,c=(a("b0f3"),a("2877")),d=Object(c["a"])(l,r,n,!1,null,"1c60d1d6",null);e["default"]=d.exports},b71c:function(t,e,a){"use strict";var r=a("c537"),n=a.n(r);n.a},b846:function(t,e,a){},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");var r=a("06c5");function n(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r["a"])(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(i)throw s}}}}},c537:function(t,e,a){}}]);