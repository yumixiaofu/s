(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StandaloneServerList~31ecd969","OtherFinance~31ecd969","StandaloneServerFinance~31ecd969"],{"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"h",(function(){return s})),a.d(e,"g",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p}));var n=a("a27e");function r(t,e,a,r,s,i,o,l){return Object(n["a"])({url:"/host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:s,search:i,dcim_area:o,domain_status:l}})}function s(t){return Object(n["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function i(t,e){return Object(n["a"])({url:"/host/renewpage",params:{hostid:t,billingcycles:e}})}function o(t){return Object(n["a"])({url:"/host/renew",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/provision/default",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/provision/button",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/host/cancel",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/host/cancel",method:"delete",data:t})}function p(t){return Object(n["a"])({url:"/host/autorenew",method:"post",data:t})}},1276:function(t,e,a){"use strict";var n=a("d784"),r=a("44e7"),s=a("825a"),i=a("1d80"),o=a("4840"),l=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),p=a("d039"),h=[].push,f=Math.min,g=4294967295,m=!p((function(){return!RegExp(g,"y")}));n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(i(this)),s=void 0===a?g:a>>>0;if(0===s)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,s);var o,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,m=new RegExp(t.source,p+"g");while(o=d.call(m,n)){if(l=m.lastIndex,l>f&&(u.push(n.slice(f,o.index)),o.length>1&&o.index<n.length&&h.apply(u,o.slice(1)),c=o[0].length,f=l,u.length>=s))break;m.lastIndex===o.index&&m.lastIndex++}return f===n.length?!c&&m.test("")||u.push(""):u.push(n.slice(f)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var r=i(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,r,a):n.call(String(r),e,a)},function(t,r){var i=a(n,t,this,r,n!==e);if(i.done)return i.value;var d=s(t),p=String(this),h=o(d,RegExp),v=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),_=new h(m?d:"^(?:"+d.source+")",b),w=void 0===r?g:r>>>0;if(0===w)return[];if(0===p.length)return null===u(_,p)?[p]:[];var S=0,x=0,y=[];while(x<p.length){_.lastIndex=m?x:0;var C,$=u(_,m?p:p.slice(x));if(null===$||(C=f(c(_.lastIndex+(m?0:x)),p.length))===S)x=l(p,x,v);else{if(y.push(p.slice(S,x)),y.length===w)return y;for(var k=1;k<=$.length-1;k++)if(y.push($[k]),y.length===w)return y;x=S=C}}return y.push(p.slice(S)),y}]}),!m)},1292:function(t,e,a){t.exports=a.p+"img/sigh.d14ddcca.svg"},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),s=a("2d00"),i=r("species");t.exports=function(t){return s>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"44e7":function(t,e,a){var n=a("861d"),r=a("c6b6"),s=a("b622"),i=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,s=a("1dde"),i=a("ae40"),o=s("filter"),l=i("filter");n({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"841c":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),s=a("1d80"),i=a("129f"),o=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var s=r(t),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=o(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},8666:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"standlone_server_list layout_card"},[n("div",{staticClass:"breadcrumb"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[t._v("产品管理")]),n("el-breadcrumb-item",[t._v(" "+t._s(t.group.groupname)+" ")])],1)],1),n("div",{staticClass:"page-title"},[t._v(t._s(t.group.groupname))]),n("div",{staticClass:"standlone_server_list_box"},[n("div",{staticClass:"standlone_server_list_header"},[n("div",{staticClass:"selectBox"},[n("div",{staticClass:"select"},[n("el-select",{attrs:{placeholder:t.$t("standaloneServer.placeholderSelect"),clearable:""},on:{change:t.changeArea},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}},[t.areaValue?n("template",{slot:"prefix"},[n("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+t.showArea+".png",alt:""}})]):t._e(),t._l(t.areaOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.code+"-"+e.name}},[n("div",{staticClass:"select_box"},[n("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:""}}),t._v(t._s(e.name))])])}))],2)],1),n("div",{staticClass:"mulselect"},[n("el-select",{attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return n("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"mulselect-m",staticStyle:{width:"100%"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return n("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"search"},[n("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1)]),n("div",{staticClass:"standlone_server_list_table"},[n("el-table",{ref:"serverTableRef",staticStyle:{width:"100%"},attrs:{height:t.$height-305,data:t.tableData,"row-class-name":"iRowClass","cell-class-name":"iCellClass","header-row-class-name":"iHeaderRowClass","header-cell-class-name":"iHeaderCellClass"},on:{"sort-change":t.changeSort,"selection-change":t.tableSelectionChange}},[n("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?n("span",[n("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():n("span",[t._v("暂无数据")])]),n("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),n("el-table-column",{attrs:{prop:"domainstatus",label:t.$t("standaloneServer.domainstatus"),align:"center",sortable:"custom",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",{staticClass:"status_box",class:a.loadingStatus?"status_box_anm":""},["Active"===a.domainstatus?n("div",{staticClass:"active_color"},[t._v(t._s(a.domainstatus_desc))]):t._e(),200===a.status.status?n("el-tooltip",{staticClass:"item",attrs:{disabled:a.loading,effect:"light",content:a.status.data.des,placement:"top"}},[a.loading?n("div",{staticClass:"loading-box"},[n("i",{staticClass:"dots el-icon-loading",staticStyle:{color:"#333","font-size":"15px",position:"absolute",left:"-1px",top:"0"}})]):n("div",{staticClass:"dots-box",on:{click:function(e){return t.getSingleStatus(a)}}},["on"===a.status.data.status?n("div",{staticClass:"dots on_color"}):"off"===a.status.data.status?n("div",{staticClass:"dots off_color"}):"process"===a.status.data.status?n("div",{staticClass:"dots ing_color"},[n("i",{staticClass:"dots el-icon-loading",staticStyle:{color:"#333","font-size":"15px",position:"absolute",left:"-1px",top:"-1px"}})]):t._e()])]):"Pending"===a.domainstatus?n("div",{staticClass:"pengding_color"},[t._v(t._s(a.domainstatus_desc))]):"Cancelled"===a.domainstatus?n("div",{staticClass:"cancelled_color"},[t._v(t._s(a.domainstatus_desc)+" ")]):"Suspended"===a.domainstatus?n("div",{staticClass:"suspended_color"},[t._v(t._s(a.domainstatus_desc)+" ")]):"Deleted"===a.domainstatus?n("div",{staticClass:"terminated_color"},[t._v(t._s(a.domainstatus_desc))]):"Fraud"===a.domainstatus?n("div",{staticClass:"fraud_color"},[t._v(t._s(a.domainstatus_desc))]):a.domainstatus?t._e():n("div",{staticClass:"cancelled_color"},[t._v("未知状态")])],1)]}}])}),n("el-table-column",{attrs:{prop:"productname",label:t.$t("standaloneServer.productname"),width:"350",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",{staticClass:"product_box"},[n("div",{staticClass:"ip_box"},[n("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===a.area_code}},[n("div",{staticClass:"area_name_box"},[t._v(t._s(a.area_name))]),n("div",{attrs:{slot:"reference"},slot:"reference"},[a.area_code?n("img",{attrs:{src:"/upload/common/country/"+a.area_code+"-y.png",alt:""}}):t._e()])]),n("el-link",{on:{click:function(e){return t.goToView(a)}}},[t._v(t._s(a.productname))])],1),n("div",{staticStyle:{color:"#999","line-height":"16px"}},[t._v(t._s(a.domain))])])]}}])}),n("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",width:"175",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.dedicatedip?n("div",[n("el-popover",{staticClass:"popStyle",attrs:{placement:"bottom",trigger:"hover",disabled:0===a.assignedips.length}},[n("div",{staticClass:"popStyle"},[n("span",{ref:a.assignedips,staticClass:"popSpanStyle",attrs:{"data-clipboard-text":a.assignedips},on:{mouseenter:function(e){return t.clickCopy(a.assignedips)},click:function(e){return t.clickCopy(a.assignedips)}}},[t._v("复制")])]),n("ul",{staticClass:"item_ip"},t._l(a.assignedips,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("el-link",{on:{click:function(e){return t.goToView(a)}}},[t._v(t._s(a.dedicatedip)+" "),parseInt(a.assignedips.length)?[n("span",{staticStyle:{color:"#2f54ea"}},[t._v(" "+t._s("("+parseInt(a.assignedips.length)+")")+" ")])]:t._e()],2)],1)])],1):n("div",[n("span",[t._v(" - ")])])]}}])}),n("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("standaloneServer.nextduedate"),align:"center",sortable:"custom",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return["hour"===r.billingcycle?n("span",[t._v(" "+t._s(r.nextduedate&&"free"!==r.billingcycle&&"onetime"!==r.billingcycle?t.$moment(1e3*r.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.noDate"))+" ")]):n("span",[t._v(" "+t._s(r.nextduedate&&"free"!==r.billingcycle&&"onetime"!==r.billingcycle?t.$moment(1e3*r.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.noDate"))+" ")]),""!==r.host_cancel?[n("el-popover",{attrs:{"close-delay":50,placement:"bottom",width:"160",trigger:"hover"}},[n("p",{staticStyle:{marginTop:"9px",color:"#ff6262"}},[t._v("停用并删除该产品")]),n("p",{staticStyle:{"font-size":"12px",marginTop:"0"}},[n("span",{staticStyle:{color:"#999"}},[t._v("取消时间：")]),t._v(" "+t._s(r.host_cancel.type)+" ")]),n("p",{staticStyle:{"font-size":"12px",marginTop:"0",marginBottom:"7px"}},[n("span",{staticStyle:{color:"#999"}},[t._v("取消原因：")]),t._v(" "+t._s(r.host_cancel.reason)+" ")]),n("img",{staticStyle:{"vertical-align":"middle"},attrs:{slot:"reference",src:a("1292"),alt:"",width:"14px"},slot:"reference"})])]:t._e()]}}])}),n("el-table-column",{attrs:{prop:"amount",label:t.$t("standaloneServer.amount"),width:"210",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["free"!==a.billingcycle&&"ontrial"!==a.billingcycle?n("div",[n("span",[t._v(t._s(a.price_desc))]),t._v(" / "),"day"===a.billingcycle?n("span",[t._v(t._s(a.pay_type.pay_day_cycle)+"天")]):"hour"===a.billingcycle?n("span",[t._v(t._s(a.pay_type.pay_hour_cycle)+"小时")]):n("span",[t._v(t._s(t._f("cutFu")(a.cycle_desc)))])]):n("div",[t._v(t._s(a.cycle_desc))]),a.initiative_renew?n("div",{staticStyle:{"font-size":"12px",color:"#ccc"}},[t._v("余额自动续费")]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"os",label:t.$t("standaloneServer.os"),width:"130",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",{staticClass:"system_box"},[n("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===a.os}},[t._v(" "+t._s(a.os)+" "),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("img",{attrs:{src:"/upload/common/system/"+t.getOsSvg(a.os_url)+".svg",alt:""}}),t._v(t._s(a.os_url)+" ")])])],1)]}}])}),n("el-table-column",{attrs:{prop:"notes",label:t.$t("standaloneServer.remark"),align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",{staticClass:"table_notebox",on:{click:function(e){return t.showDialog(a)}}},[n("span",[t._v(t._s(a.notes?a.notes:"-"))]),n("i",{staticClass:"el-icon-edit"})])]}}])}),n("el-table-column",{attrs:{label:t.$t("standaloneServer.operate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{staticClass:"borr4",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToView(a)}}},[t._v("管理")])]}}])})],1)],1),n("el-row",{staticClass:"flex-between"},[n("el-col",{attrs:{sm:24,lg:8}},[n("div",{staticClass:"bottomBtn"},[t.tableData.length?n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goToMulBilling}},[t._v(" "+t._s(t.$t("standaloneServer.renew"))+" ")]):t._e(),t.allPending?t._e():n("el-dropdown",{on:{command:t.handleOperating}},[n("el-button",{staticClass:"bulkBtn",attrs:{type:"primary",plain:""}},[t._v(" 批量操作"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"on"}},[t._v("开机")]),n("el-dropdown-item",{attrs:{command:"off"}},[t._v("关机")]),n("el-dropdown-item",{attrs:{command:"reboot"}},[t._v("重启")]),n("el-dropdown-item",{attrs:{command:"hard_off"}},[t._v("硬关机")]),n("el-dropdown-item",{attrs:{command:"hard_reboot"}},[t._v("硬重启")])],1)],1)],1)]),n("el-col",{attrs:{sm:24,lg:16}},[n("div",{staticClass:"standlone_server_list_page"},[n("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-sizes":[10,15,20,25],"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),n("el-dialog",{attrs:{title:t.$t("standaloneServer.dialogEditRemark"),visible:t.editNoteDialogVisible,width:"500px"},on:{"update:visible":function(e){t.editNoteDialogVisible=e}}},[n("el-form",{ref:"editNoteFormRef",attrs:{model:t.editNoteForm}},[n("el-form-item",{attrs:{label:t.$t("standaloneServer.remark")}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:1}},model:{value:t.editNoteForm.remark,callback:function(e){t.$set(t.editNoteForm,"remark",e)},expression:"editNoteForm.remark"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancelNotes}},[t._v(t._s(t.$t("btnCancle")))]),n("el-button",{attrs:{type:"primary"},on:{click:t.editNote}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1)],1)])},r=[],s=(a("a623"),a("4de4"),a("4160"),a("c975"),a("b0c0"),a("ac1f"),a("8a79"),a("841c"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("b311"),o=a.n(i),l=a("27fd"),c=a("048a"),u=a("2ef0"),d={metaInfo:function(){return{title:this.group.groupname,htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{loopStatusTimer:null,batchObj:{id:[],func:"",code:""},allPending:!0,groupid:this.$route.query.groupid,tableData:[],tableLoading:!1,page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},dcim_area:"",editNoteForm:{id:0,remark:""},editNoteDialogVisible:!1,areaValue:"",areaOptions:[],showArea:"",selectStatus:["Active","Pending","Suspended"],statusOptions:[{value:"Pending",label:"待开通",color:"#fca426"},{value:"Active",label:"已激活",color:"#3fbf70"},{value:"Fraud",label:"有欺诈",color:"#FF0000"},{value:"Deleted",label:"被删除",color:"#2d2d2d"},{value:"Suspended",label:"已暂停",color:"#e31519"}],tableMul:[],idMul:[],group:{fa_icon:"",groupname:"",id:0}}},methods:{handleOperating:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(clearInterval(e.loopStatusTimer),e.batchObj.id.length=0,e.batchObj.func=t,n=0;n<e.tableMul.length;n++)r=e.tableMul[n],e.batchObj.id.push(r.id);return a.next=6,Object(c["d"])(e.batchObj);case 6:if(s=a.sent,i=s.data,200===i.status){a.next=11;break}return e.$message.error(i.msg),a.abrupt("return");case 11:e.$message.success(i.msg),1===e.tableData.length&&(e.tableData[0].status.data.status="process"),e.loopGetStatus(e.tableData);case 14:case"end":return a.stop()}}),a)})))()},clickCopy:function(t){var e=this,a=0,n=new o.a(this.$refs[t]);n.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&n.destroy()})),n.on("error",(function(t){e.$message.error("复制失败")}))},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(l["p"])(t.groupid,t.page,t.limit,t.orderby,t.sort,t.search.input,t.dcim_area,t.selectStatus);case 3:if(a=e.sent,n=a.data,t.tableLoading=!1,200===n.status){e.next=8;break}return e.abrupt("return",!1);case 8:for(n.data.list.forEach((function(t){t.loadingStatus=!1,t.powerStatus="",t.powerStatusMsg="",t.powerStatusLoading=!1})),r=0;r<n.data.list.length;r++)s=n.data.list[r],s.loading=!1,s.status={data:{des:"",status:""},status:0};for(o in t.tableData=n.data.list,t.page=n.data.page,t.limit=n.data.limit,t.total=n.data.sum,t.orderby=n.data.orderby,t.areaOptions=n.data.area,i=n.data.domainstatus,t.statusOptions=[],i)c={value:o,label:i[o].name,color:i[o].color},t.statusOptions.push(c);t.getOperStatusFunc(n.data.list),!n.data.list.every((function(t){return"Pending"===t.domainstatus}))&&n.data.list.length&&t.getStatus(n.data.list),n.group&&(t.group=n.group);case 22:case"end":return e.stop()}}),e)})))()},getStatus:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o,l,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n={id:[],func:"status ",code:""},t=t.filter((function(t){var e,a;return"on"!==(null===(e=t.status)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.status)})),Array.isArray(t))for(r=0;r<t.length;r++)s=t[r],n.id.push(s.id);if(n.id.length){a.next=7;break}return clearInterval(e.loopStatusTimer),e.loopStatusTimer=null,a.abrupt("return");case 7:return a.next=9,Object(c["d"])(n);case 9:if(i=a.sent,o=i.data,200===o.status){a.next=14;break}return e.$message.error(o.msg),a.abrupt("return");case 14:for(l=0;l<e.tableData.length;l++)for(d in u=e.tableData[l],o.data)p=o.data[d],u.id===parseInt(d)&&(u.status=p);case 15:case"end":return a.stop()}}),a)})))()},loopGetStatus:function(t){var e=this;null!==this.loopStatusTimer&&clearInterval(this.loopStatusTimer);var a=0;this.getStatus(t),this.loopStatusTimer=setInterval(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(a>=300)){t.next=4;break}return clearInterval(e.loopStatusTimer),e.loopStatusTimer=null,t.abrupt("return");case 4:return window.cancel(),t.next=7,e.getStatus(e.tableData);case 7:a+=15;case 8:case"end":return t.stop()}}),t)}))),15e3)},getSingleStatus:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,n={id:[t.id],func:"status ",code:""},a.next=4,Object(c["d"])(n);case 4:if(r=a.sent,s=r.data,200===s.status){a.next=9;break}return e.$message.error(s.msg),a.abrupt("return");case 9:t.loading=!1,t.status.data=s.data[t.id].data;case 11:case"end":return a.stop()}}),a)})))()},getOperStatusFunc:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t,r=[],t.forEach((function(t){"Active"===t.domainstatus&&0!==t.dcimid&&r.push(t.id)})),a.next=5,Object(l["r"])(r);case 5:s=a.sent,i=s.data,200===i.status&&0!==i.data.length?(o=i.data,o.forEach((function(t){n.forEach((function(e){e.id===t&&(e.loadingStatus=!0)}))}))):n.forEach((function(t){t.loadingStatus=!1})),e.tableData=n;case 9:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.page=1,this.getData()},changeArea:function(t){var e=t.split("-");this.showArea=e[0]?e[0]:"",this.dcim_area=e[1],this.getData()},changeStatus:function(t){this.selectStatus=t,this.getData()},showDialog:function(t){this.editNoteForm.id=t.id,this.editNoteForm.remark=t.notes,this.editNoteDialogVisible=!0},editNote:u.debounce(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["l"])(this.editNoteForm);case 2:if(a=t.sent,n=a.data,200===n.status){t.next=7;break}return this.$message({type:"error",message:n.msg,center:!0}),t.abrupt("return",!1);case 7:this.$message({type:"success",message:n.msg,center:!0}),this.editNoteDialogVisible=!1,this.getData();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),700),cancelNotes:function(){this.$refs.editNoteFormRef.resetFields(),this.editNoteDialogVisible=!1},clickOn:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureOn"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingOn"),"success"),a.next=4,Object(l["C"])(t);case 4:r=a.sent,s=r.data,e.totalFunc(s);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickClose:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureOff"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingOff"),"success"),a.next=4,Object(l["i"])(t);case 4:r=a.sent,s=r.data,e.totalFunc(s);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickReboot:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureReboot"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingReboot"),"success"),a.next=4,Object(l["F"])(t);case 4:r=a.sent,s=r.data,e.totalFunc(s);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickBmc:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureResetBMC"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingResetBMC"),"success"),a.next=4,Object(l["c"])(t);case 4:r=a.sent,s=r.data,e.totalFunc(s);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80}):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},goToView:function(t){"dcimcloud"===t.product_type||"cloud"===t.product_type?this.$router.push({name:"ServerInnerPage",query:{id:t.id,groupid:this.groupid}}):"dcim"===t.product_type||"server"===t.product_type?this.$router.push({name:"StandaloneServerInner",query:{id:t.id,groupid:this.groupid}}):"software"===t.product_type?this.$router.push({path:"/authorize",query:{id:t.id,groupid:this.groupid}}):this.$router.push({name:"OhterServerInner",query:{id:t.id,groupid:this.groupid}})},refreshStatus:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n=t,r=[],s=0;s<t.length;s++)"Active"===t[s].domainstatus&&0!==t[s].dcimid&&r.push(t[s].id);return a.next=5,Object(l["G"])(r);case 5:if(i=a.sent,o=i.data,200===o.status){a.next=9;break}return a.abrupt("return",!1);case 9:if(0!==o.data.length)for(c=o.data,u=0;u<c.length;u++)for(d=0;d<n.length;d++)n[d].id===c[u].id&&(n[d].powerStatus=c[u].status,n[d].powerStatusMsg=c[u].msg);e.tableData=n;case 11:case"end":return a.stop()}}),a)})))()},singlePowerRefresh:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("Active"===t.domainstatus||"dcim"!==t.product_type||0!==t.dcimid){a.next=2;break}return a.abrupt("return",!1);case 2:return t.powerStatus="",t.powerStatusLoading=!0,a.next=6,Object(l["G"])(t.id);case 6:if(n=a.sent,r=n.data,200===r.status){a.next=10;break}return a.abrupt("return",!1);case 10:0!==r.data.length&&(s=r.data,e.tableData.forEach((function(t){t.id===s[0].id&&(t.powerStatus=s[0].status,t.powerStatusMsg=s[0].msg)})),t.powerStatusLoading=!1);case 11:case"end":return a.stop()}}),a)})))()},tableSelectionChange:function(t){this.tableMul=t},goToMulBilling:u.throttle((function(){if(0===this.tableMul.length)return this.$message.warning(this.$t("standaloneServer.notSelectServer")),this.$refs.serverTableRef.clearSelection(),!1;var t=this.tableMul.filter((function(t){return("Active"===t.domainstatus||"Suspended"===t.domainstatus)&&"free"!==t.billingcycle&&"onetime"!==t.billingcycle})),e=[];if(t.forEach((function(t){e.push(t.id)})),this.idMul=e,0===this.idMul.length)return this.$message.error(this.$t("standaloneServer.selectErrorServer")),this.$refs.serverTableRef.clearSelection(),!1;sessionStorage.setItem("multipleType","standalone"),this.$router.push({name:"StandaloneServerMBilling",query:{ids:this.idMul}})}),1e3),getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e}},filters:{statusZh:function(t){return"Active"===t?"已激活":"Cancelled"===t||"Deleted"===t?"被取消":"Fraud"===t?"有欺诈":"Pending"===t?"待审核":"Suspended"===t?"已暂停":void 0},cutFu:function(t){if(t.endsWith("付")){var e=t.substring(0,t.length-1);return e}return t},osFilter:function(t){var e="";return e=1===t?"windows":2===t?"centos":3===t?"ubuntu":4===t?"debian":5===t?"esxi":6===t?"xenserver":7===t?"freebsd":8===t?"fedora":"-",e}},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0},tableMul:{handler:function(t){this.allPending=t.every((function(t){return"Pending"===t.domainstatus}))||!t.length},deep:!0,immediate:!0}},created:function(){this.getData()},beforeDestroy:function(){clearInterval(this.loopStatusTimer)},computed:{setClass:function(){return this.group.fa_icon}},mounted:function(){}},p=d,h=(a("ae68"),a("2877")),f=Object(h["a"])(p,n,r,!1,null,"358bba2c",null);e["default"]=f.exports},"8a51":function(t,e,a){},"8a79":function(t,e,a){"use strict";var n=a("23e7"),r=a("06cf").f,s=a("50c4"),i=a("5a34"),o=a("1d80"),l=a("ab13"),c=a("c430"),u="".endsWith,d=Math.min,p=l("endsWith"),h=!c&&!p&&!!function(){var t=r(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!h&&!p},{endsWith:function(t){var e=String(o(this));i(t);var a=arguments.length>1?arguments[1]:void 0,n=s(e.length),r=void 0===a?n:d(s(a),n),l=String(t);return u?u.call(e,l,r):e.slice(r-l.length,r)===l}})},a623:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").every,s=a("a640"),i=a("ae40"),o=s("every"),l=i("every");n({target:"Array",proto:!0,forced:!o||!l},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,e,a){var n=a("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},ae68:function(t,e,a){"use strict";var n=a("8a51"),r=a.n(n);r.a}}]);