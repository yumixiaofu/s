(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Order~31ecd969"],{1276:function(t,e,i){"use strict";var o=i("d784"),s=i("44e7"),r=i("825a"),a=i("1d80"),n=i("4840"),c=i("8aa5"),l=i("50c4"),u=i("14c3"),d=i("9263"),p=i("d039"),f=[].push,_=Math.min,m=4294967295,h=!p((function(){return!RegExp(m,"y")}));o("split",2,(function(t,e,i){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var o=String(a(this)),r=void 0===i?m:i>>>0;if(0===r)return[];if(void 0===t)return[o];if(!s(t))return e.call(o,t,r);var n,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,h=new RegExp(t.source,p+"g");while(n=d.call(h,o)){if(c=h.lastIndex,c>_&&(u.push(o.slice(_,n.index)),n.length>1&&n.index<o.length&&f.apply(u,n.slice(1)),l=n[0].length,_=c,u.length>=r))break;h.lastIndex===n.index&&h.lastIndex++}return _===o.length?!l&&h.test("")||u.push(""):u.push(o.slice(_)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var s=a(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,s,i):o.call(String(s),e,i)},function(t,s){var a=i(o,t,this,s,o!==e);if(a.done)return a.value;var d=r(t),p=String(this),f=n(d,RegExp),g=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),v=new f(h?d:"^(?:"+d.source+")",y),b=void 0===s?m:s>>>0;if(0===b)return[];if(0===p.length)return null===u(v,p)?[p]:[];var x=0,C=0,S=[];while(C<p.length){v.lastIndex=h?C:0;var w,k=u(v,h?p:p.slice(C));if(null===k||(w=_(l(v.lastIndex+(h?0:C)),p.length))===x)C=c(p,C,g);else{if(S.push(p.slice(x,C)),S.length===b)return S;for(var O=1;O<=k.length-1;O++)if(S.push(k[O]),S.length===b)return S;C=x=w}}return S.push(p.slice(x)),S}]}),!h)},1392:function(t,e,i){"use strict";var o=i("592a"),s=i.n(o);s.a},"1dde":function(t,e,i){var o=i("d039"),s=i("b622"),r=i("2d00"),a=s("species");t.exports=function(t){return r>=51||!o((function(){var e=[],i=e.constructor={};return i[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2152:function(t,e,i){},"246b":function(t,e,i){"use strict";i("a623"),i("7db0"),i("c740"),i("4160"),i("caad"),i("d81d"),i("b64b"),i("d3b7"),i("25f0"),i("2532"),i("9911"),i("4c53"),i("159b");var o=i("53ca"),s=[4,7,9,11,14,15,16,17,18,19];e["a"]={data:function(){return{originalData:{link:[],option:[]}}},watch:{options:{handler:function(t){this.matchingCondition(),this.clearOptionValue()},deep:!0,immediate:!0}},methods:{clearOption:function(){(this.options||[]).forEach((function(t){t.disabled=!1,(t.sub||[]).forEach((function(e){e.disabled=!1,5===t.option_type&&e.child.forEach((function(t){t.disabled=!1}))}))}))},clearOptionValue:function(){var t=this;this.$nextTick((function(){(t.options||[]).forEach((function(e,i){if(s.includes(e.option_type)){if(!e.disabled){var o=(t.originalData.option||[]).find((function(t){return t.id===e.id}));e.sub=JSON.parse(JSON.stringify(o.sub)),e.disabled=!0}e.qty_maximum=Math.max.apply(Math,e.sub.map((function(t){return t.qty_maximum}))),e.qty_minimum=Math.min.apply(Math,e.sub.map((function(t){return t.qty_minimum})))}else if(5===e.option_type){if(e.osName){var r=e.sub.findIndex((function(t){return t.osName===e.osName}));if(void 0===e.option_value){var a=e.sub[r].child.findIndex((function(t){return!1===t.disabled}));e.option_value=-1!==a?e.sub[r].child[a].id:void 0}}}else(e.sub||[]).forEach((function(t){if(t.disabled&&(e.option_value===t.id||void 0===e.option_value)){var i=e.sub.findIndex((function(t){return!1===t.disabled}));e.option_value=-1!==i?e.sub[i].id:void 0}}))}))}))},matchingCondition:function(){var t=this;(this.options||[]).forEach((function(e){"object"===Object(o["a"])(e)&&(t.originalData.link||[]).forEach((function(i){if(i.config_id===e.id){var o=!1;switch(i.relation){case"seq":if(s.includes(e.option_type))for(var r in i.sub_id){var a=i.sub_id[r];e.option_value<=a.qty_maximum&&e.option_value>=a.qty_minimum&&(o=!0)}else Object.keys(i.sub_id).includes((e.option_value||"").toString())&&(o=!0);break;case"sneq":s.includes(e.option_type)?o=Object.keys(i.sub_id).every((function(t){var o=i.sub_id[t];if(e.qty>o.qty_maximum||e.qty<o.qty_minimum)return!0})):Object.keys(i.sub_id).includes((e.option_value||"").toString())||(o=!0);break;default:break}o&&(i.result||[]).forEach((function(e){t.changeOptions(e)}))}}))}))},changeOptions:function(t){if(!t.sub_id)return!1;(this.options||[]).forEach((function(e){if(e.id===t.config_id)switch(t.relation){case"seq":(e.sub||[]).forEach((function(i){5===e.option_type?(i.child||[]).forEach((function(e){Object.keys(t.sub_id).includes((e.id||"").toString())||(e.disabled=!0)})):(s.includes(e.option_type)&&(i.qty_maximum=t.sub_id[i.id].qty_maximum,i.qty_minimum=t.sub_id[i.id].qty_minimum),Object.keys(t.sub_id).includes((i.id||"").toString())||(i.disabled=!0))}));break;case"sneq":(e.sub||[]).forEach((function(i){5===e.option_type?(i.child||[]).forEach((function(e){Object.keys(t.sub_id).includes((e.id||"").toString())&&(e.disabled=!0)})):Object.keys(t.sub_id).includes((i.id||"").toString())&&(i.disabled=!0)}));break;default:break}}))}}}},2532:function(t,e,i){"use strict";var o=i("23e7"),s=i("5a34"),r=i("1d80"),a=i("ab13");o({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(r(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var o=i("861d"),s=i("c6b6"),r=i("b622"),a=r("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==s(t))}},"4c53":function(t,e,i){"use strict";var o=i("23e7"),s=i("857a"),r=i("af03");o({target:"String",proto:!0,forced:r("sub")},{sub:function(){return s(this,"sub","","")}})},"4d63":function(t,e,i){var o=i("83ab"),s=i("da84"),r=i("94ca"),a=i("7156"),n=i("9bf2").f,c=i("241c").f,l=i("44e7"),u=i("ad6d"),d=i("9f7f"),p=i("6eeb"),f=i("d039"),_=i("69f3").set,m=i("2626"),h=i("b622"),g=h("match"),y=s.RegExp,v=y.prototype,b=/a/g,x=/a/g,C=new y(b)!==b,S=d.UNSUPPORTED_Y,w=o&&r("RegExp",!C||S||f((function(){return x[g]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")})));if(w){var k=function(t,e){var i,o=this instanceof k,s=l(t),r=void 0===e;if(!o&&s&&t.constructor===k&&r)return t;C?s&&!r&&(t=t.source):t instanceof k&&(r&&(e=u.call(t)),t=t.source),S&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,"")));var n=a(C?new y(t,e):y(t,e),o?this:v,k);return S&&i&&_(n,{sticky:i}),n},O=function(t){t in k||n(k,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},$=c(y),N=0;while($.length>N)O($[N++]);v.constructor=k,k.prototype=v,p(s,"RegExp",k)}m("RegExp")},"52d51":function(t,e,i){"use strict";i.d(e,"j",(function(){return s})),i.d(e,"h",(function(){return r})),i.d(e,"m",(function(){return a})),i.d(e,"g",(function(){return n})),i.d(e,"o",(function(){return c})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"f",(function(){return p})),i.d(e,"a",(function(){return f})),i.d(e,"l",(function(){return _})),i.d(e,"k",(function(){return m})),i.d(e,"e",(function(){return h})),i.d(e,"n",(function(){return g})),i.d(e,"i",(function(){return y}));var o=i("a27e");function s(t){return Object(o["a"])({url:"/cart/index",params:t})}function r(t){return Object(o["a"])({url:"/cart/global_search",params:t})}function a(t){return Object(o["a"])({url:"/cart/set_config",params:t})}function n(t){return Object(o["a"])({url:"/cart/get_total",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/cart/settle",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/cart/add_to_shop",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/cart/edit_to_shop_page",params:t})}function d(t){return Object(o["a"])({url:"/cart/edit_to_shop",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/cart/get_shop_data",params:t})}function f(t){return Object(o["a"])({url:"/cart/add_promo",method:"post",data:t})}function _(t){return Object(o["a"])({url:"/cart/remove_promo",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/cart/remove_product",method:"post",data:t})}function h(){return Object(o["a"])({url:"/get_saler"})}function g(t){return Object(o["a"])({url:"/set_saler",method:"post",data:t})}function y(t){return Object(o["a"])({url:"/cart/modify_product_qty",method:"post",data:t})}},"592a":function(t,e,i){},"5a34":function(t,e,i){var o=i("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7cb6":function(t,e,i){"use strict";var o=i("fc04"),s=i.n(o);s.a},"7db0":function(t,e,i){"use strict";var o=i("23e7"),s=i("b727").find,r=i("44d2"),a=i("ae40"),n="find",c=!0,l=a(n);n in[]&&Array(1)[n]((function(){c=!1})),o({target:"Array",proto:!0,forced:c||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(n)},"857a":function(t,e,i){var o=i("1d80"),s=/"/g;t.exports=function(t,e,i,r){var a=String(o(t)),n="<"+e;return""!==i&&(n+=" "+i+'="'+String(r).replace(s,"&quot;")+'"'),n+">"+a+"</"+e+">"}},8728:function(t,e,i){t.exports=i.p+"img/random.7d25fffa.svg"},9911:function(t,e,i){"use strict";var o=i("23e7"),s=i("857a"),r=i("af03");o({target:"String",proto:!0,forced:r("link")},{link:function(t){return s(this,"a","href",t)}})},a623:function(t,e,i){"use strict";var o=i("23e7"),s=i("b727").every,r=i("a640"),a=i("ae40"),n=r("every"),c=a("every");o({target:"Array",proto:!0,forced:!n||!c},{every:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,e,i){var o=i("b622"),s=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[s]=!1,"/./"[t](e)}catch(o){}}return!1}},ac1a:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[0===t.orderPageStyle?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("indexStyle0")],1):1===t.orderPageStyle?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("indexStyle1")],1):2===t.orderPageStyle?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("indexStyle2")],1):i("transition",{attrs:{name:"el-fade-in-linear"}},[i("indexStyle0")],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order_index"},[i("div",{staticClass:"breadcrumb"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[i("i",{staticClass:"iconfont icon-dinggouchanpin"}),t._v(" 订购商品 ")])],1)],1),i("div",{staticClass:"order_left"},[i("div",{staticClass:"order_left_header"},[i("span",{staticClass:"left_header_groupname"},[t._v(t._s(t.groupInfo.name||"-"))]),i("span",{staticClass:"left_header_groupnum"},[t._v("产品："+t._s(t.productOptions.length?t.productOptions.length+"个":""))]),i("div",{staticClass:"left_header_groupSearch"},[i("el-input",{attrs:{size:"small",placeholder:"输入关键词搜索产品"},model:{value:t.searchStr.input,callback:function(e){t.$set(t.searchStr,"input",e)},expression:"searchStr.input"}},[i("i",{staticClass:"el-input__icon el-icon-search cursor-pointer",attrs:{slot:"prefix"},on:{click:t.searchPro},slot:"prefix"})])],1)]),i("div",{staticClass:"order_left_group",attrs:{id:"myMasonry"}},[t.isPhone?i("div",{staticClass:"flex-evenly"},[i("el-select",{style:{width:t.groupNameOptions.length?"40%":"80%"},attrs:{placeholder:"请选择分组",clearable:""},on:{change:function(e){return t.changeSelect(1,e)}},model:{value:t.activeFirstName,callback:function(e){t.activeFirstName=e},expression:"activeFirstName"}},t._l(t.firstGroups,(function(t,e){return i("el-option",{key:e+"first",attrs:{label:t.name,value:t.id.toString()}})})),1),t.groupNameOptions.length?i("el-select",{style:{width:"52%"},attrs:{placeholder:"请选择分组",clearable:""},on:{change:function(e){return t.changeSelect(2,e)}},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.groupNameOptions,(function(t,e){return i("el-option",{key:e+"second",attrs:{label:t.name,value:t.id.toString()+"^"+t.order_frm_tpl+"^"+t.tpl_type}})})),1):t._e()],1):i("div",{staticClass:"order_group_screen"},[t.firstGroups.length>1?i("div",{staticClass:"group_screen_box"},[t.firstGroups&&t.firstGroups.length>1?i("el-tabs",{staticClass:"nopl-30",attrs:{"tab-position":"left"},on:{"tab-click":function(e){return t.changeGroup(1,e)}},model:{value:t.activeFirstName,callback:function(e){t.activeFirstName=e},expression:"activeFirstName"}},t._l(t.firstGroups,(function(t,e){return i("el-tab-pane",{key:e+t.name,attrs:{label:t.name,name:t.id.toString()}})})),1):t._e()],1):t._e(),i("div",{staticClass:"group_screen_box"},[i("el-tabs",{staticClass:"nopl-30",attrs:{"tab-position":"left"},on:{"tab-click":function(e){return t.changeGroup(2,e)}},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.groupNameOptions,(function(t,e){return i("el-tab-pane",{key:e+"tabs",attrs:{label:t.name,name:t.id.toString()+"^"+t.order_frm_tpl+"^"+t.tpl_type}})})),1)],1)])])]),i("div",{staticClass:"order_right"},[i("div",{staticClass:"order_right_carticon tar"},[i("span",{staticClass:"el-icon-shopping-cart-full pointer",staticStyle:{"font-size":"22px"},on:{click:t.toCart}})]),i("div",{staticClass:"fz-14 color-333 mb-10"},[t._v(t._s(t.groupInfo.headline))]),i("div",{staticClass:"fz-12 color-999 mb-10"},[t._v(t._s(t.groupInfo.tagline))]),2===t.pageLoading?i("div",{staticClass:"order_right_loading"},[i("span",[t._v("暂无数据")])]):t._e(),1===t.pageLoading?i("div",{staticClass:"order_right_loading"},[i("Loading")],1):0===t.pageLoading?i("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"order_right_main",attrs:{"fit-width":"false",gutter:20,"transition-duration":"0.1s","item-selector":".product_item"}},t._l(t.productOptions,(function(e,o){return i("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:o,staticClass:"product_item"},[i("div",{staticClass:"product_item_title"},[i("span",[t._v(t._s(e.name))])]),e.stock_control?i("div",{staticClass:"product_item_inventory"},[e.qty>0?i("span",[t._v("库存："+t._s(e.qty))]):i("span",{staticClass:"sold_out"},[i("i",{staticClass:"iconfont icon-yishouqing"})])]):t._e(),i("pre",{staticClass:"product_item_desc",domProps:{innerHTML:t._s(e.description)}}),i("div",{staticClass:"product_bottom"},[i("div",{staticClass:"product_item_price"},[i("span",{staticClass:"product_item_cycle"},[t._v(" "+t._s(e.billingcycle_zh)+" ")]),i("span",{staticClass:"product_item_money"},[t._v(" "+t._s(t.currency.prefix)+" "+t._s(e.bates?Number(e.sale_price).toFixed(2):Number(e.product_price).toFixed(2))+" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("起/ "),"day"===e.billingcycle?i("span",[t._v(t._s(e.pay_type.pay_day_cycle)+"天")]):"hour"===e.billingcycle?i("span",[t._v(t._s(e.pay_type.pay_hour_cycle)+"小时")]):i("span",[t._v(t._s(e.billingcycle_zh))])])])]),e.ontrial?i("div",{staticClass:"product_item_price mt-5"},[i("span",{staticClass:"product_item_cycle"},[t._v("试用")]),i("span",{staticClass:"product_item_money",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.currency.prefix)+" "+t._s(e.ontrial_price)+" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("/ "+t._s(e.ontrial_cycle)+t._s("day"===e.ontrial_cycle_type?"天":"小时"))])])]):t._e(),e.bates?i("div",{staticClass:"tar fz-12 color-999"},[i("span",[t._v(t._s(e.product_price?"(原价："+t.currency.prefix+e.product_price+e.billingcycle_zh+")":""))])]):t._e(),i("div",{staticClass:"product_item_btn"},[i("el-button",{staticClass:"item_btn_main",class:{item_btn_disabled:!e.billingcycle||0!==e.stock_control&&e.qty<=0},attrs:{disabled:Boolean(e.stock_control&&e.qty<=0)},on:{click:function(i){return t.buyNowHandleClick(e.id)}}},[t._v("立即购买")])],1)])])})),0):t._e()])])},a=[],n=(i("b0c0"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("841c"),i("1276"),i("498a"),i("96cf"),i("1da1")),c=i("4360"),l=i("7ce2"),u=i.n(l),d=i("a78e"),p=i.n(d),f=i("52d51"),_=i("c7a1"),m={inject:["reload"],metaInfo:function(){return{title:"订购产品"}},data:function(){return{cartNum:localStorage.getItem("cartNum"),firstEnter:!0,pageLoading:0,groupInfo:{},currency:{prefix:"",suffix:""},search:{gid:void 0},isPhone:!1,clientWidth:document.body.clientWidth,activeName:"1",activeFirstName:null,searchStr:{input:"",timer:null},firstGroups:[],groupNameOptions:[],productOptions:[],detaultStyle:0}},created:function(){this.getData(),p.a.get("OrfLcI2IqQItv0vS")||this.getConfig()},mounted:function(){var t=this;window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.resize)}))},methods:{toCart:function(){this.$router.push({name:"OrderCart"})},searchPro:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.activeName="",t.productOptions=[],t.pageLoading=1,e.next=5,Object(f["h"])({keywords:t.searchStr.input});case 5:i=e.sent,o=i.data,200!==o.status?(t.$message.error(o.msg),t.pageLoading=0):(t.productOptions=o.products,o.products.length?t.pageLoading=0:t.pageLoading=2);case 8:case"end":return e.stop()}}),e)})))()},buyNowHandleClick:function(t){this.$router.push({path:"order-config",query:{pid:t}})},getData:function(t){var e=arguments,i=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var s,r,a,n,c,l,d,p,_,m,h,g;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:2,a=i.$route.query.tpl||"0",n="default",t?t.name?(r=t.name.split("^")[0],a=t.name.split("^")[1]||0,n=t.name.split("^")[2]||"default",i.activeName=t.name):(r=t.split("^")[0],a=t.split("^")[1]||0,n=t.split("^")[2]||"default",i.activeName=t):i.activeName=i.$route.query.gid+"^"+a+"^"+n||localStorage.getItem("gid")+"^"+a+"^"+n||void 0,c=r||i.$route.query.gid||localStorage.getItem("gid")||void 0,i.search.gid=r||i.$route.query.gid||localStorage.getItem("gid")||void 0,r||(i.activeFirstName=r||i.$route.query.firstGid||localStorage.getItem("firstGid")||void 0),i.search.first_gid=i.activeFirstName,i.productOptions=[],i.pageLoading=1,!0===i.firstEnter&&i.$route.query.gid&&(i.activeName=i.$route.query.gid.toString()+"^"+a+"^"+n),!0===i.firstEnter&&i.$route.query.firstGid&&(i.activeFirstName=i.$route.query.firstGid.toString()),2!==s&&(i.search.gid=null),o.next=15,Object(f["j"])(i.search);case 15:if(l=o.sent,d=l.data,200===d.status){o.next=21;break}return i.$message.error(d.msg),i.pageLoading=0,o.abrupt("return");case 21:if(i.detaultStyle=d.order_page_style,c&&1!==s||!d.product_groups||!d.product_groups.length){o.next=31;break}if(i.activeName=d.product_groups[0].id.toString()+"^"+a+"^"+n,p=0,p="custom"===d.product_groups[0].tpl_type?Number(d.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",p),i.$store.state.groupStyle===i.$store.state.globalStyle){o.next=31;break}return i.$router.push({query:u()(i.$route.query,{gid:d.product_groups[0].id.toString(),firstGid:i.activeFirstName})}).catch((function(){})),i.$store.commit("setGlobalStyle",p),o.abrupt("return");case 31:for(!i.activeFirstName&&d.first_groups&&d.first_groups.length&&(i.activeFirstName=d.first_groups[0].id.toString()),c&&i.$router.push({query:u()(i.$route.query,{gid:i.activeName.split("^")[0],firstGid:i.activeFirstName})}).catch((function(){})),_=0;_<d.product_groups.length;_++)m=d.product_groups[_],i.activeName===m.id.toString()+"^"+a+"^"+n&&(i.groupInfo=m);d.product_groups.length||(i.groupInfo={headline:"",tagline:""}),i.firstGroups=d.first_groups,i.groupNameOptions=d.product_groups,i.productOptions=d.products||[],i.currency=d.default_currency,h=d.products?d.products.length:0,i.pageLoading=h?0:2,i.$redrawVueMasonry(),i.firstEnter=!1,"menu"===i.$route.query.type&&d.product_groups.length&&(g=0,g="custom"===d.product_groups[0].tpl_type?Number(d.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",g),i.$store.state.groupStyle!==i.$store.state.globalStyle&&(i.$router.push({query:u()(i.$route.query,{gid:d.product_groups[0].id.toString(),firstGid:i.activeFirstName,type:"undefined"})}).catch((function(){})),i.$store.commit("setGlobalStyle",g)));case 44:case"end":return o.stop()}}),o)})))()},resize:function(){this.clientWidth=document.body.clientWidth},setActive:function(t){this.activeName=t.value.toString()},changeGroup:function(t,e){var i=e.name.split("^")[0],o=e.name.split("^")[1],s=e.name.split("^")[2];if(1===t)localStorage.setItem("firstGid",i);else if(2===t){localStorage.setItem("gid",i);var r=0;if(r=Number("custom"===s?o:this.detaultStyle),this.$store.commit("setGroupStyle",r),this.$store.state.groupStyle!==this.$store.state.globalStyle)return this.$router.push({query:u()(this.$route.query,{gid:i,firstGid:this.activeFirstName})}).catch((function(){})),void this.$store.commit("setGlobalStyle",r)}this.searchStr.input="",this.getData(e,t)},changeSelect:function(t,e){var i=e.split("^")[0],o=e.split("^")[1],s=e.split("^")[2];if(1===t)localStorage.setItem("firstGid",e);else if(2===t){localStorage.setItem("gid",i);var r=0;if(r=Number("custom"===s?o:this.detaultStyle),this.$store.commit("setGroupStyle",r),this.$store.state.groupStyle!==this.$store.state.globalStyle)return this.$router.push({query:u()(this.$route.query,{gid:i,firstGid:this.activeFirstName})}).catch((function(){})),void this.$store.commit("setGlobalStyle",r)}this.searchStr.input="",this.getData(e,t)},getConfig:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["a"])();case 2:i=e.sent,o=i.data,200!==o.status?t.$message.error(o.msg):(c["b"].setPROFESSION(o.data.is_profession),localStorage.setItem("system_url",o.data.system_url));case 5:case"end":return e.stop()}}),e)})))()}},computed:{},watch:{clientWidth:{handler:function(t){this.isPhone=t<600},immediate:!0},"searchStr.input":{handler:function(t){var e=this;""!==t.trim()?(this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchPro();case 1:case"end":return t.stop()}}),t)}))),300)):this.reload()},deep:!0}}},h=m,g=(i("1392"),i("2877")),y=Object(g["a"])(h,r,a,!1,null,"f0e1414c",null),v=y.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box pt-20"},[i("div",{staticClass:"title flex-between w-100"},[t._m(0),i("div",[i("span",{staticClass:"el-icon-shopping-cart-full pointer",staticStyle:{"font-size":"22px",color:"#0e62ff"},on:{click:t.toCart}})])]),t.firstGroups.length>1?i("div",{staticClass:"firstgroup"},[i("div",{staticClass:"mr-10 font-bold name"},[t._v("选择省份")]),i("div",{staticClass:"groupbox"},t._l(t.firstGroups,(function(e,o){return i("div",{key:o+"firstgroup",staticClass:"firstgroup_item pointer flexc color-999 ofe",class:{active:e.id===Number(t.search.first_gid)},on:{click:function(i){return t.firstHandleClick(e)}}},[e.name.length>7?i("el-tooltip",{attrs:{content:e.name,placement:"top",effect:"light"}},[i("span",[t._v(t._s(e.name.substr(0,7)))])]):i("span",[i("span",[t._v(t._s(e.name))])])],1)})),0)]):t._e(),i("div",{staticClass:"secondgroup mt-10 mb-10"},[i("div",{staticClass:"mr-10 font-bold name"},[t._v("选择地区")]),i("div",{staticClass:"groupbox"},t._l(t.productGroups,(function(e,o){return i("div",{key:o+"productGroups",staticClass:"secondgroup_item pointer flexc color-999 ofe",class:{active:e.id===Number(t.search.gid)},on:{click:function(i){return t.secondHandleClick(e)}}},[e.name.length>7?i("el-tooltip",{attrs:{content:e.name,placement:"top",effect:"light"}},[i("span",[t._v(t._s(e.name.substr(0,7)))])]):i("span",[i("span",[t._v(t._s(e.name))])])],1)})),0)]),i("div",{staticClass:"productlist p-20"},[!t.products.length&&t.pageLoading?i("div",{staticClass:"flexc",staticStyle:{width:"100%",height:"600px"}},[i("Loading")],1):t.products.length||t.pageLoading?i("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"order_right_main",attrs:{"fit-width":"false",gutter:20,"transition-duration":"0.1s","item-selector":".product_item"}},t._l(t.products,(function(e,o){return i("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:o+"pro",staticClass:"product_item mb-20",class:{active:e.id===t.hoverId},on:{mouseover:function(i){t.hoverId=e.id}}},[i("div",{staticClass:"product_item_content p-20"},[i("div",{staticClass:"item_content_name fz-14 color-333"},[t._v(t._s(e.name))]),e.stock_control?i("div",{staticClass:"product_item_inventory"},[e.qty>0?i("span",[t._v("库存："+t._s(e.qty))]):i("span",{staticClass:"sold_out"},[i("i",{staticClass:"iconfont icon-yishouqing"})])]):t._e(),i("pre",{staticClass:"item_content_desc fz-14",domProps:{innerHTML:t._s(e.description)}}),e.bates?i("span",{staticClass:"item_content_discount fz-12 color-999"},[t._v(t._s(e.product_price?"(原价："+t.currency.prefix+e.product_price+e.billingcycle_zh+")":""))]):t._e(),i("div",{staticClass:"product_item_price"},[i("span",{staticClass:"product_item_cycle"},[t._v(" "+t._s(e.billingcycle_zh)+" ")]),i("span",{staticClass:"product_item_money"},[t._v(" "+t._s(t.currency.prefix)+" "+t._s(e.bates?Number(e.sale_price).toFixed(2):Number(e.product_price).toFixed(2))+" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("起/ "),"day"===e.billingcycle?i("span",[t._v(t._s(e.pay_type.pay_day_cycle)+"天")]):"hour"===e.billingcycle?i("span",[t._v(t._s(e.pay_type.pay_hour_cycle)+"小时")]):i("span",[t._v(t._s(e.billingcycle_zh))])])])]),e.ontrial?i("div",{staticClass:"product_item_price mt-5"},[i("span",{staticClass:"product_item_cycle"},[t._v("试用")]),i("span",{staticClass:"product_item_money",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.currency.prefix)+" "+t._s(e.ontrial_price)+" "),i("span",{staticStyle:{"font-size":"12px"}},[t._v("/ "+t._s(e.ontrial_cycle)+t._s("day"===e.ontrial_cycle_type?"天":"小时"))])])]):t._e()]),i("el-button",{staticClass:"product_item_btn fz-14 font-bold flexc",class:{item_btn_disabled:!e.billingcycle||0!==e.stock_control&&e.qty<=0},attrs:{disabled:Boolean(e.stock_control&&e.qty<=0)},on:{click:function(i){return t.buyNowHandleClick(e.id)}}},[t._v("立即购买")])],1)})),0):i("div",{staticClass:"flexc pt-40",staticStyle:{width:"100%",height:"600px"}},[i("span",[t._v("暂无数据")])])])])},x=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticStyle:{color:"#2f54ea"}},[i("i",{staticClass:"iconfont icon-gouwuche fz-14"}),i("span",{staticClass:"ml-5"},[t._v("订购产品")])]),i("span",{staticClass:"color-666 ml-10"},[t._v("( 在此处可查看所有产品信息 )")])])}],C={metaInfo:function(){return{title:"订购产品"}},data:function(){return{search:{first_gid:void 0,gid:void 0},currency:{},firstGroups:[],productGroups:[],products:[],pageLoading:!1,hoverId:0,detaultStyle:0}},created:function(){this.getData("init")},mounted:function(){},methods:{toCart:function(){this.$router.push({name:"OrderCart"})},getData:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var s,r,a,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e||"self"===t||(i.search.first_gid=i.$route.query.firstGid||localStorage.getItem("firstGid")||void 0,i.search.gid=i.$route.query.gid||localStorage.getItem("gid")||void 0),"first"===t&&(i.search.first_gid=e,i.search.gid=void 0),"second"===t&&(i.search.gid=e),i.products=[],i.pageLoading=!0,o.next=7,Object(f["j"])(i.search);case 7:if(s=o.sent,r=s.data,i.pageLoading=!1,200===r.status){o.next=14;break}i.$message.error(r.msg),o.next=34;break;case 14:if(i.currency=r.default_currency,i.firstGroups=r.first_groups,i.productGroups=r.product_groups,i.products=r.products||[],i.detaultStyle=r.order_page_style,i.search.gid&&i.$router.push({query:u()(i.$route.query,{gid:i.search.gid,firstGid:i.search.first_gid})}).catch((function(){})),!r.product_groups.length&&i.search.gid&&(i.search.gid=void 0,i.getData("self")),"first"!==t||!r.product_groups.length){o.next=31;break}if(i.search.gid=r.product_groups.length?r.product_groups[0].id:void 0,i.getData("self"),a=0,a="custom"===r.product_groups[0].tpl_type?Number(r.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",a),i.$store.state.groupStyle===i.$store.state.globalStyle){o.next=31;break}return i.$router.push({query:u()(i.$route.query,{gid:r.product_groups[0].id.toString(),firstGid:i.search.first_gid,tpl:r.product_groups[0].order_frm_tpl})}).catch((function(){})),i.$store.commit("setGlobalStyle",a),o.abrupt("return");case 31:i.search.first_gid||(i.search.first_gid=r.first_groups.length?r.first_groups[0].id:void 0),i.search.gid||(i.search.gid=r.product_groups.length?r.product_groups[0].id:void 0),"menu"===i.$route.query.type&&r.product_groups.length&&(n=0,n="custom"===r.product_groups[0].tpl_type?Number(r.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",n),i.$store.state.groupStyle!==i.$store.state.globalStyle&&(i.$router.push({query:u()(i.$route.query,{gid:r.product_groups[0].id.toString(),firstGid:i.search.first_gid,type:"undefined",tpl:r.product_groups[0].order_frm_tpl})}).catch((function(){})),i.$store.commit("setGlobalStyle",n)));case 34:case"end":return o.stop()}}),o)})))()},firstHandleClick:function(t){this.productGroups=[],this.getData("first",t.id)},secondHandleClick:function(t){var e=0;if(e="custom"===t.tpl_type?Number(t.order_frm_tpl):Number(this.detaultStyle),this.$store.commit("setGroupStyle",e),this.$store.state.groupStyle!==this.$store.state.globalStyle)return this.$router.push({query:u()(this.$route.query,{gid:t.id,firstGid:this.search.first_gid,tpl:t.order_frm_tpl})}).catch((function(){})),void this.$store.commit("setGlobalStyle",e);window.cancel(),this.getData("second",t.id)},buyNowHandleClick:function(t){this.$router.push({path:"order-config",query:{pid:t}})}},computed:{},watch:{"search.first_gid":{handler:function(t){localStorage.setItem("firstGid",t)},deep:!0},"search.gid":{handler:function(t){localStorage.setItem("gid",t)},deep:!0}}},S=C,w=(i("7cb6"),Object(g["a"])(S,b,x,!1,null,"492da166",null)),k=w.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box pt-20"},[o("div",{staticClass:"title flex-between w-100"},[t._m(0),o("div",[o("span",{staticClass:"el-icon-shopping-cart-full pointer",staticStyle:{"font-size":"22px",color:"#0e62ff"},on:{click:t.toCart}})])]),t.firstGroups.length>1?o("div",{staticClass:"firstgroup"},[o("div",{staticClass:"mr-10 font-bold name"},[t._v("选择分组")]),o("div",{staticClass:"groupbox"},t._l(t.firstGroups,(function(e,i){return o("div",{key:i+"firstgroup",staticClass:"firstgroup_item pointer flexc color-999 ofe",class:{active:e.id===Number(t.search.first_gid)},on:{click:function(i){return t.firstHandleClick(e)}}},[e.name.length>7?o("el-tooltip",{attrs:{content:e.name,placement:"top",effect:"light"}},[o("span",[t._v(t._s(e.name.substr(0,7)))])]):o("span",[o("span",[t._v(t._s(e.name))])])],1)})),0)]):t._e(),o("div",{staticClass:"secondgroup mt-10 mb-10"},[o("div",{staticClass:"mr-10 font-bold name"},[t._v("选择类型")]),o("div",{staticClass:"groupbox"},t._l(t.productGroups,(function(e,i){return o("div",{key:i+"productGroups",staticClass:"secondgroup_item pointer flexc color-999 ofe",class:{active:e.id===Number(t.search.gid)},on:{click:function(i){return t.secondHandleClick(e)}}},[e.name.length>7?o("el-tooltip",{attrs:{content:e.name,placement:"top",effect:"light"}},[o("span",[t._v(t._s(e.name.substr(0,7)))])]):o("span",[o("span",[t._v(t._s(e.name))])])],1)})),0)]),o("div",{staticClass:"secondgroup mt-10 mb-10"},[o("div",{staticClass:"mr-10 font-bold name"},[t._v("选择地区")]),o("div",{staticClass:"groupbox"},t._l(t.productsArr,(function(e,i){return o("div",{key:i+"pro",staticClass:"secondgroup_item pointer flexc color-999 ofe",class:{active:e.id===Number(t.pid)},on:{click:function(i){return t.proHandleClick(e.id)}}},[e.name.length>7?o("el-tooltip",{attrs:{content:e.name,placement:"top",effect:"light"}},[o("span",[t._v(t._s(e.name.substr(0,7)))])]):o("span",[o("span",[t._v(t._s(e.name))])])],1)})),0)]),o("div",{staticClass:"configinfo_box",style:{"min-height":t.firstGroups.length>1?"580px":"630px"}},[!t.options.length&&t.pageLoading?o("div",{staticClass:"flexc",staticStyle:{width:"100%",height:"400px"}},[o("Loading")],1):t._e(),o("transition",{attrs:{name:"el-zoom-in-top"}},[t.options.length&&!t.pageLoading?o("div",{staticClass:"configinfo_box_option mb-10"},[o("div",{staticClass:"box_option_left flexc fz-14 color-333 font-bold"},[o("span",{staticStyle:{"writing-mode":"tb"}},[t._v("产品配置")])]),o("div",{staticClass:"box_option_right p-20"},[o("el-form",{attrs:{"label-width":"120px"}},[t._l(t.options,(function(e,i){return o("el-form-item",{key:"option"+i,attrs:{label:e.option_name+"："}},[o("div",{staticClass:"flexc-v fl lh-30 mr-10"},[[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?o("myInput",{attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(i){return t.sliderInputChange(e)}},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}}):t._e(),4===e.option_type||15===e.option_type?o("span",[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?o("span",[t._v("核")]):t._e(),9===e.option_type||17===e.option_type?o("span",[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?o("span",[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?o("span",[t._v("GB")]):t._e()],1),1===e.option_type?o("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}},t._l(e.sub,(function(t){return o("el-option",{key:t.id,attrs:{disabled:t.disabled,label:t.option_name,value:t.id}})})),1):t._e(),2===e.option_type?o("div",t._l(e.sub,(function(i,s){return o("el-radio",{key:"Radio"+s,attrs:{disabled:i.disabled,label:i.id},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}},[t._v(t._s(i.option_name)+" ")])})),1):t._e(),3===e.option_type?o("div",t._l(e.sub,(function(i,s){return o("el-checkbox",{key:"yes/no"+s,attrs:{disabled:i.disabled,"true-label":i.id,"false-label":void 0},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}},[t._v(t._s(i.option_name))])})),1):t._e(),[6,8,10,13].includes(e.option_type)?o("myRadio",{attrs:{radioData:e.sub},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}}):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?o("mySlider",{staticClass:"ml-5 mr-5 clearboth",attrs:{value:2,sliderData:e.sub,min:e.qty_minimum,max:e.qty_maximum},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}}):t._e(),5===e.option_type?o("div",[1!==e.sub.length||"os"!==e.sub[0].osName?o("el-select",{staticClass:"sel",staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:function(i){return t.osSelectChange(e,"handle")}},model:{value:e.osName,callback:function(i){t.$set(e,"osName",i)},expression:"optionItem.osName"}},[o("template",{slot:"prefix"},[o("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+e.osSvgSelected+".svg",alt:""}})]),t._l(e.sub,(function(e,i){return o("el-option",{key:"osDropdown"+i,attrs:{label:e.osName,value:e.osName}},[o("img",{staticStyle:{height:"15px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.osName)+" ")])}))],2):t._e(),1!==e.sub.length||"os"!==e.sub[0].osName?o("el-select",{staticClass:"sel_sub",attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}},t._l(e.osVersionOptions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.version,disabled:t.disabled,value:t.id}})})),1):t._e(),1===e.sub.length&&"os"===e.sub[0].osName?o("el-select",{staticClass:"sel",attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:t.getTotal},model:{value:e.option_value,callback:function(i){t.$set(e,"option_value",i)},expression:"optionItem.option_value"}},t._l(t.osVersionOptionsAll,(function(t){return o("el-option",{key:t.id,attrs:{label:t.version,disabled:t.disabled,value:t.id}})})),1):t._e()],1):t._e(),12===e.option_type?o("div",[o("div",{staticClass:"country_box"},t._l(e.sub,(function(i,s){return o("div",{key:s,staticClass:"country_item fl",class:{country_item_active:i.active,country_item_noarea:i.noarea},on:{click:function(o){return t.cityChange(e,i,void 0,"handle")}}},[o("div",{staticClass:"country_item_innerbox flexc-v"},[o("img",{staticClass:"country_item_flag ml-10 mr-10",attrs:{src:"/upload/common/country/"+i.country_code+".png",alt:""}}),o("span",{staticClass:"country_item_name fz-12",class:{country_item_name_after:!i.noarea}},[t._v(t._s(i.city))])]),i.noarea?t._e():o("div",{staticClass:"country_box_node"},[o("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!i.active||1===i.area.length&&""===i.area[0].area},on:{change:function(o){return t.areaChange(e,i,"handle")}},model:{value:i.areaId,callback:function(e){t.$set(i,"areaId",e)},expression:"cityItem.areaId"}},t._l(i.area,(function(t,e){return o("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e(),o("div",{staticClass:"fz-12 color-999 lh-20"},[t._v(t._s(e.notes?"备注："+e.notes:""))])],1)})),t._l(t.customFields,(function(e){return o("el-form-item",{key:e.id,attrs:{label:e.fieldname+"："}},["dropdown"===e.fieldtype?o("el-select",{staticClass:"sel",attrs:{size:"mini",placeholder:e.description,clearable:""},model:{value:e.fieldvalue,callback:function(i){t.$set(e,"fieldvalue",i)},expression:"customFieldsItem.fieldvalue"}},t._l(e.dropdown_option,(function(t,e){return o("el-option",{key:e,attrs:{disabled:t.disabled,label:t,value:t}})})),1):t._e(),"password"===e.fieldtype||"textarea"===e.fieldtype||"text"===e.fieldtype||"link"===e.fieldtype?o("el-input",{staticClass:"sel",attrs:{size:"mini",type:e.fieldtype,placeholder:e.description,clearable:""},model:{value:e.fieldvalue,callback:function(i){t.$set(e,"fieldvalue",i)},expression:"customFieldsItem.fieldvalue"}}):t._e(),"tickbox"===e.fieldtype?o("el-checkbox",{attrs:{disabled:e.disabled,"true-label":"1","false-label":"0"},model:{value:e.fieldvalue,callback:function(i){t.$set(e,"fieldvalue",i)},expression:"customFieldsItem.fieldvalue"}}):t._e()],1)})),t.dcimOsOptions.length?o("el-form-item",{attrs:{label:"操作系统："}},[o("el-select",{staticClass:"sel",staticStyle:{"margin-right":"20px"},attrs:{filterable:"",placeholder:t.$t("cart.pleaseSelect")},on:{change:function(e){return t.dcimSelectChange(t.dcimOsId)}},model:{value:t.dcimOsId,callback:function(e){t.dcimOsId=e},expression:"dcimOsId"}},[o("template",{slot:"prefix"},[o("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+Number(t.dcimOsId)+".svg",alt:""}})]),t._l(t.dcimOsOptions,(function(e,i){return o("el-option",{key:i,attrs:{value:e.id,label:e.name}},[o("img",{staticStyle:{height:"15px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+Number(e.svg)+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2),o("el-select",{staticClass:"sel_sub",attrs:{filterable:"",placeholder:t.$t("cart.pleaseSelect")},model:{value:t.dcimOsVersionId,callback:function(e){t.dcimOsVersionId=e},expression:"dcimOsVersionId"}},t._l(t.dcimOsVersionOptions,(function(t,e){return o("el-option",{key:e,attrs:{disabled:t.disabled,value:t.id,label:t.name}})})),1)],1):t._e(),1===t.developer_app?o("el-form-item",{attrs:{label:"应用产品："}},[o("el-select",{staticClass:"sel",staticStyle:{"margin-right":"20px"},attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},model:{value:t.appId,callback:function(e){t.appId=e},expression:"appId"}},t._l(t.developer_hosts,(function(t,e){return o("el-option",{key:e,attrs:{disabled:t.disabled,value:t.id,label:t.name}})})),1)],1):t._e()],2)],1)]):t._e()]),o("transition",{attrs:{name:"el-zoom-in-top"}},[t.pageLoading?t._e():o("div",{staticClass:"configinfo_box_cycle"},[o("div",{staticClass:"box_cycle_left flexc fz-14 color-fff font-bold"},[o("span",{staticStyle:{"writing-mode":"tb"}},[t._v("周期")])]),o("div",{staticClass:"box_cycle_right p-20"},[o("el-form",{attrs:{"label-width":"120px"}},[t.showCycle?o("el-form-item",{attrs:{label:t.$t("cart.paymentCycle")+"："}},t._l(t.cycleOptions,(function(e,i){return o("span",{key:i,staticClass:"cycle-select",class:{"cycle-select-active":e.billingcycle===t.payCycle},on:{click:function(i){return t.cycleChange(e)}}},[t._v(t._s(e.billingcycle_zh))])})),0):t._e(),"1"===t.host.show?o("el-form-item",{attrs:{label:"主机名："}},[o("el-input",{staticClass:"sel",staticStyle:{width:"200px"},attrs:{size:"mini",clearable:"",disabled:""},model:{value:t.host.host,callback:function(e){t.$set(t.host,"host",e)},expression:"host.host"}})],1):t._e(),"1"===t.hostPassword.show?o("el-form-item",{attrs:{label:"密码："}},[o("el-input",{staticClass:"sel_pass",staticStyle:{width:"200px"},attrs:{size:"mini",type:"password","show-password":""},model:{value:t.hostPassword.password,callback:function(e){t.$set(t.hostPassword,"password",e)},expression:"hostPassword.password"}}),o("img",{staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:i("8728"),alt:""},on:{click:t.createRandomPassHandleClick}})],1):t._e(),o("el-form-item",{attrs:{label:"购买数量："}},[o("myInputNumber",{attrs:{mysize:"mini",mydisabled:!t.allowQty},on:{change:t.myInputChange},model:{value:t.buyNum,callback:function(e){t.buyNum=e},expression:"buyNum"}})],1)],1)],1)])]),o("transition",{attrs:{name:"el-zoom-in-bottom"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.expandConfigDetail,expression:"expandConfigDetail"}],staticClass:"configinfo_box_options"},[o("div",{staticClass:"box_options_inner"},[o("div",{staticClass:"options_inner_title mb-30"},[t._v("订单汇总： "),t.products.type?o("div",{staticClass:"box_right_item flex-between mb-20"},[1===t.products.type.type&&parseFloat(t.products.type.bates)>0?o("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣价 "+t._s(t.configDiscount?"":"/配置项不参与折扣")+" "+t._s(parseFloat(t.products.type.bates)%10===0?parseFloat(parseFloat(t.products.type.bates)/10):parseFloat(parseFloat(t.products.type.bates)/10).toFixed(1))+"折 ")]):t._e(),2===t.products.type.type&&parseFloat(t.products.type.bates)>0?o("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣省 "+t._s(t.configDiscount?"":"/配置项不参与折扣")+" "+t._s(t.currency.prefix+t.products.type.bates))]):t._e()]):t._e()]),o("el-row",{attrs:{gutter:100}},[o("el-col",{staticClass:"flex-between mb-10",attrs:{xs:24,sm:24,md:12,lg:8}},[o("div",{staticClass:"color-999"},[t._v(t._s(t.products.product_name?t.products.product_name+"：":""))]),o("div",{staticClass:"color-333"},[parseFloat(t.products.product_price)>0||parseFloat(t.products.product_setup_fee)>0?o("div",[t._v(" "+t._s(t.currency.prefix+t.products.product_price)+" "+t._s(parseFloat(t.products.product_setup_fee)>0?" + "+t.currency.prefix+t.products.product_setup_fee+"初装费":"")+" ")]):t._e(),t.products.type&&(parseFloat(t.products.product_price)>parseFloat(t.products.product_sale_price)||parseFloat(t.products.product_setup_fee)>parseFloat(t.products.product_sale_setup_fee))?o("div",{staticClass:"mt-5 fz-12 tar",staticStyle:{color:"#e64a19"}},[t._v(" -"+t._s(t.currency.prefix+(parseFloat(t.products.product_price)-parseFloat(t.products.product_sale_price)))+t._s(parseFloat(t.products.product_sale_setup_fee)>0?" - "+t.currency.prefix+(parseFloat(t.products.product_setup_fee)-parseFloat(t.products.product_sale_setup_fee))+"初装费":"")+" ")]):t._e()])]),t._l(t.products.child,(function(e,i){return o("el-col",{key:i,staticClass:"flex-between mb-10",attrs:{xs:24,sm:24,md:12,lg:8}},[o("div",[o("div",[o("span",{staticClass:"color-999"},[t._v(t._s(e.option_name)+"：")]),12!==e.option_type&&5!==e.option_type?o("span",{staticClass:"color-333"},[t._v(t._s(e.qty?e.qty:e.suboption_name))]):t._e(),5===e.option_type?o("img",{staticClass:"pl-10",attrs:{src:"/upload/common/system/"+t.getOsSvg(e.suboption_name.split(" ")[0])+".svg",alt:"",width:"20",height:"14"}}):t._e(),12===e.option_type?o("img",{staticClass:"pl-10",attrs:{src:"/upload/common/country/"+e.suboption_name.split(" ")[0].toUpperCase()+".png",alt:"",width:"20"}}):t._e(),5===e.option_type||12===e.option_type?o("span",{staticClass:"config_item_value",staticStyle:{"padding-left":"5px"}},[t._v(t._s((e.suboption_name.split(" ")[1]||"")+(e.suboption_name.split(" ")[2]||"")))]):t._e()])]),o("div",{staticClass:"color-333"},[o("div",[t._v(" "+t._s(t.currency.prefix+e.suboption_price)+t._s(parseFloat(e.suboption_setup_fee)>0?" + "+t.currency.prefix+e.suboption_setup_fee+"初装费":"")+" ")]),parseFloat(e.suboption_price_total)>parseFloat(e.suboption_sale_price_total)?o("div",{staticClass:"mt-5 fz-12 tar",staticStyle:{color:"#e64a19"}},[t._v(" -"+t._s(t.currency.prefix+parseFloat(parseFloat(e.suboption_price)-parseFloat(e.suboption_sale_price)).toFixed(2))+t._s(parseFloat(e.suboption_sale_setup_fee)>0?" - "+t.currency.prefix+parseFloat(parseFloat(e.suboption_setup_fee)-parseFloat(e.suboption_sale_setup_fee)).toFixed(2)+"初装费":"")+" ")]):t._e()])])}))],2)],1)])]),o("div",{staticClass:"configinfo_box_bottom flex-between"},[o("div",{staticClass:"box_bottom_left ml-20"},[o("span",{staticClass:"fz-14 color-999 mr-10"},[t._v("已选配置")]),o("span",{staticClass:"fz-12 color-666 pointer bottom_left_expand",on:{click:function(e){t.expandConfigDetail=!t.expandConfigDetail}}},[t._v(t._s(t.expandConfigDetail?"收起":"展开")),o("i",{class:{"el-icon-caret-bottom":!t.expandConfigDetail,"el-icon-caret-top":t.expandConfigDetail}})])]),o("div",{staticClass:"box_bottom_right flex-between mr-30"},[o("div",{staticClass:"footer_box_price mr-30"},[o("div",[t._v(t._s(t.currency.prefix)+t._s(t.products.bates?t.products.sale_price:t.products.total)+t._s(t.currency.suffix)+" / "),"day"===t.products.billingcycle?o("span",[t._v(t._s(t.products.pay_day_cycle))]):t._e(),"hour"===t.products.billingcycle?o("span",[t._v(t._s(t.products.pay_hour_cycle))]):t._e(),t._v(" "+t._s(t.products.billingcycle_zh)+" "),"ontrial"===t.products.billingcycle?o("span",[t._v(t._s(t.products.pay_ontrial_cycle)+t._s("day"===t.products.pay_ontrial_cycle_type?"天":"小时"))]):t._e()]),t.products.bates?o("div",{staticClass:"fz-12 color-999"},[t._v(" "+t._s(t.products.total?"(原价："+t.currency.prefix+t.products.total+t.currency.suffix+"/ "+t.products.billingcycle_zh+")":"")+" ")]):t._e()]),o("div",[o("el-button",{staticClass:"buy_now_btn mr-10",staticStyle:{padding:"0"},attrs:{type:"primary",loading:t.btnLoading},on:{click:t.buyNowHandleClick}},[t._v("立即购买")])],1)])])],1)])},$=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticStyle:{color:"#2f54ea"}},[i("i",{staticClass:"iconfont icon-gouwuche fz-14"}),i("span",{staticClass:"ml-5"},[t._v("订购产品")])]),i("span",{staticClass:"color-666 ml-10"},[t._v("( 在此处可查看所有产品信息 )")])])}],N=(i("c740"),i("4160"),i("caad"),i("c975"),i("d81d"),i("4d63"),i("2532"),i("5319"),i("4c53"),i("159b"),i("a748")),I=i("42bc"),q=i("eb02"),G=i("ebab"),E=i("246b"),F=i("ed82"),j=i("2ef0"),z={mixins:[E["a"]],metaInfo:function(){return{title:"订购产品"}},data:function(){return{search:{first_gid:void 0,gid:void 0},currency:{},firstGroups:[],productGroups:[],productsArr:[],pageLoading:!1,detaultStyle:0,pid:this.$route.query.pid||0,cartIndex:this.$route.query.cartIndex,payCycle:void 0,cycleOptions:[],options:[],osName:"",osVersionOptionsAll:[],customFields:[],products:{billingcycle_zh:"月付",total:"0.00",child:[],product_name:"",product_price:0,product_setup_fee:0,product_sale_price:0,product_sale_setup_fee:0,signal_setupfee:"",signal_price:"",sale_setupfee_total:"",sale_signal_price:"",type:{bates:0,type:1}},dcimOsOptions:[],dcimOsId:[],dcimOsVersionOptions:[],dcimOsVersionId:[],btnLoading:!1,addToCartLoading:!1,customVerifyLink:!0,host:{host:"",prefix:"",rule:{len_num:"",lower:"",num:"",upper:""},show:""},hostPassword:{password:"",rule:{len_num:"",upper:0,lower:0,num:0,special:0},show:""},buyNum:1,allowQty:!1,showCycle:!1,developer_app:0,appId:void 0,developer_hosts:[],proName:"",configDiscount:!0,expandConfigDetail:!1}},components:{myRadio:N["default"],myInput:I["default"],mySlider:q["default"],myInputNumber:G["default"]},created:function(){this.getProList("init"),void 0!==this.cartIndex?this.editPage():this.getConfigData()},mounted:function(){},methods:{toCart:function(){this.$router.push({name:"OrderCart"})},getProList:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var s,r,a,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e||"self"===t||(i.search.first_gid=i.$route.query.firstGid||localStorage.getItem("firstGid")||void 0,i.search.gid=i.$route.query.gid||localStorage.getItem("gid")||void 0),"first"===t&&(i.search.first_gid=e,i.search.gid=void 0),"second"===t&&(i.search.gid=e),i.productsArr=[],i.pageLoading=!0,o.next=7,Object(f["j"])(i.search);case 7:if(s=o.sent,r=s.data,i.pageLoading=!1,200===r.status){o.next=14;break}i.$message.error(r.msg),o.next=35;break;case 14:if(i.currency=r.default_currency,i.firstGroups=r.first_groups,i.productGroups=r.product_groups,i.productsArr=r.products||[],i.detaultStyle=r.order_page_style,i.search.gid&&i.$router.push({query:u()(i.$route.query,{gid:i.search.gid,firstGid:i.search.first_gid})}).catch((function(){})),!r.product_groups.length&&i.search.gid&&(i.search.gid=void 0,i.getProList("self")),"first"!==t||!r.product_groups.length){o.next=31;break}if(i.search.gid=r.product_groups.length?r.product_groups[0].id:void 0,i.getProList("self"),a=0,a="custom"===r.product_groups[0].tpl_type?Number(r.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",a),i.$store.state.groupStyle===i.$store.state.globalStyle){o.next=31;break}return i.$router.push({query:u()(i.$route.query,{gid:r.product_groups[0].id.toString(),firstGid:i.search.first_gid,tpl:r.product_groups[0].order_frm_tpl})}).catch((function(){})),i.$store.commit("setGlobalStyle",a),o.abrupt("return");case 31:i.search.first_gid||(i.search.first_gid=r.first_groups.length?r.first_groups[0].id:void 0),i.search.gid||(i.search.gid=r.product_groups.length?r.product_groups[0].id:void 0),"second"!==t&&"init"!==t||(i.pid=r.products.length?r.products[0].id:void 0,i.getConfigData()),"menu"===i.$route.query.type&&r.product_groups.length&&(n=0,n="custom"===r.product_groups[0].tpl_type?Number(r.product_groups[0].order_frm_tpl):Number(i.detaultStyle),i.$store.commit("setGroupStyle",n),i.$store.state.groupStyle!==i.$store.state.globalStyle&&(i.$router.push({query:u()(i.$route.query,{gid:r.product_groups[0].id.toString(),firstGid:i.search.first_gid,type:"undefined",tpl:r.product_groups[0].order_frm_tpl})}).catch((function(){})),i.$store.commit("setGlobalStyle",n)));case 35:case"end":return o.stop()}}),o)})))()},firstHandleClick:function(t){this.productGroups=[],this.getProList("first",t.id)},secondHandleClick:function(t){var e=0;if(e="custom"===t.tpl_type?Number(t.order_frm_tpl):Number(this.detaultStyle),this.$store.commit("setGroupStyle",e),this.$store.state.groupStyle!==this.$store.state.globalStyle)return this.$router.push({query:u()(this.$route.query,{gid:t.id,firstGid:this.search.first_gid,tpl:t.order_frm_tpl})}).catch((function(){})),void this.$store.commit("setGlobalStyle",e);window.cancel(),this.getProList("second",t.id)},proHandleClick:function(t){this.cartIndex=void 0,this.pid=t,this.$router.push({query:u()(this.$route.query,{gid:this.search.gid,firstGid:this.search.first_gid,pid:t,cartIndex:this.cartIndex})}).catch((function(){})),this.getConfigData()},cityChange:function(t,e,i,o){var s=this;i?(i||[]).forEach((function(i){12===i.option_type&&t.id===i.id&&(i.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):("edit"!==o&&(t.areaId=t.area.length?t.area[0].id:void 0,i.option_value=t.areaId),s.areaChange(i,t,o),t.active=!0)}))})):(this.options||[]).forEach((function(i){12===i.option_type&&t.id===i.id&&(i.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,i.option_value=t.areaId,s.areaChange(i,t,o),t.active=!0)}))}))},areaChange:function(t,e,i){t.option_value=e.areaId,"handle"===i&&this.getTotal()},getConfigData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,o,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pid){e.next=2;break}return e.abrupt("return");case 2:return t.showCycle=!1,t.options=[],t.pageLoading=!0,e.next=7,Object(f["m"])({pid:t.pid,billingcycle:t.payCycle});case 7:i=e.sent,o=i.data,t.pageLoading=!1,200!==o.status?t.$message.error(o.msg):((o.option||[]).forEach((function(e){e.disabled=!1,1===e.option_type||2===e.option_type||6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?e.option_value=e.sub.length?e.sub[0].id:void 0:3===e.option_type?e.option_value=void 0:[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?e.option_value=e.qty_minimum:5===e.option_type?(e.sub=t.objToArr(e.sub),e.sub.length?(e.osName=e.sub[0].osName,e.option_value=e.sub[0].child.length?e.sub[0].child[0].id:void 0):e.osName="",e.osName&&t.osSelectChange(e,"init")):12===e.option_type&&(e.sub=t.objToArr(e.sub,"dataCenter"),e.sub.length&&(e.sub[0].active=!0,setTimeout((function(){e.option_value=e.sub[0].area[0].id}),600),t.cityChange(e,e.sub[0],o.option,"init")),e.option_value=void 0,(e.sub||[]).forEach((function(t){t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))),(e.sub||[]).forEach((function(t){t.disabled=!1,5===e.option_type&&t.child.forEach((function(t){t.disabled=!1}))}))})),(o.custom_fields||[]).forEach((function(t){"dropdown"===t.fieldtype?t.fieldvalue=t.dropdown_option.length?t.dropdown_option[0]:void 0:"tickbox"===t.fieldtype?t.fieldvalue="0":t.fieldvalue=""})),t.options=o.option,s=JSON.parse(JSON.stringify(o.option)),r=JSON.parse(JSON.stringify(o.links)),t.originalData={option:s,link:r},t.customFields=o.custom_fields,t.payCycle=o.product.cycle.length?o.product.cycle[0].billingcycle:void 0,t.cycleOptions=o.product.cycle,o.os=t.objToArr(o.os),t.dcimOsOptions=[],(o.os||[]).forEach((function(e,i){t.dcimOsOptions.push(e),0===i&&(t.dcimOsId=e.id,t.dcimSelectChange(e.id))})),t.host=o.product.host,t.hostPassword=o.product.password,t.allowQty=Boolean(o.allow_qty),t.getTotal(),t.developer_app=o.developer_app,t.developer_hosts=o.hosts,t.proName=o.product.name),t.showCycle=!0;case 12:case"end":return e.stop()}}),e)})))()},osSelectChange:function(t,e){if(5!==t.option_type)return!1;t.sub.length&&(1===t.sub.length&&"os"===t.sub[0].osName?this.osVersionOptionsAll=t.sub[0].child:(t.sub||[]).forEach((function(i){if(t.osName===i.osName&&(t.osVersionOptions=i.child,t.osSvgSelected=i.osSvg,"edit"!==e)){var o=i.child.findIndex((function(t){return!1===t.disabled}));t.option_value=-1!==o?i.child[o].id:void 0}}))),"handle"===e&&this.getTotal()},dcimSelectChange:function(t){var e=this;this.dcimOsVersionId="",(this.dcimOsOptions||[]).forEach((function(i){t===i.id&&(e.dcimOsVersionOptions=i.child,i.child.length&&(e.dcimOsVersionId=i.child[0].id))}))},myInputChange:function(){var t=this;setTimeout((function(){t.getTotal()}),200)},getTotal:j.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.pid){t.next=2;break}return t.abrupt("return");case 2:this.clearOption(),setTimeout(Object(n["a"])(regeneratorRuntime.mark((function t(){var i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={pid:e.pid,billingcycle:e.payCycle,configoption:[],currencyid:void 0,customfield:[],qty:e.buyNum},(e.options||[]).forEach((function(t){i.configoption[t.id]=t.option_value})),(e.customFields||[]).forEach((function(t){i.customfield[t.id]=t.fieldvalue})),e.btnLoading=!0,t.next=6,Object(f["g"])(e.$qs.stringify(i));case 6:o=t.sent,s=o.data,200!==s.status?e.$message.error(s.msg):(e.currency=s.currency,e.products=s.products,(s.products.child||[]).forEach((function(t){parseFloat(t.suboption_price_total)>parseFloat(t.suboption_sale_price_total)&&(e.configDiscount=!0)}))),e.btnLoading=!1;case 10:case"end":return t.stop()}}),t)}))),0);case 4:case"end":return t.stop()}}),t,this)})))),buyNowHandleClick:j.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,o,s,r,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==this.cartIndex){t.next=14;break}return e={pid:this.pid,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){e.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){e.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){n.dcimOsVersionId===t.id&&(e.os[t.id]=t.name)})),this.btnLoading=!0,t.next=8,Object(f["b"])(this.$qs.stringify(e));case 8:i=t.sent,o=i.data,200!==o.status?this.$message.error(o.msg):this.$router.push({path:"/order-cart",query:{pid:this.pid,cycle:this.payCycle,tplstyle:"2",gid:this.search.gid,firstGid:this.search.first_gid}}),this.btnLoading=!1,t.next=25;break;case 14:return s={i:this.cartIndex,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){s.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){s.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){n.dcimOsVersionId===t.id&&(s.os[n.dcimOsVersionId]=t.name)})),this.btnLoading=!0,t.next=21,Object(f["d"])(this.$qs.stringify(s));case 21:r=t.sent,a=r.data,200!==a.status?this.$message.error(a.msg):this.$router.push({path:"/order-cart",query:{pid:this.pid,cycle:this.payCycle,cartIndex:this.cartIndex,tplstyle:"2",gid:this.search.gid,firstGid:this.search.first_gid}}),this.btnLoading=!1;case 25:case"end":return t.stop()}}),t,this)}))),700),addToCart:j.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,o,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={pid:this.pid,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){e.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){e.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){s.dcimOsVersionId===t.id&&(e.os[t.id]=t.name)})),this.addToCartLoading=!0,t.next=7,Object(f["b"])(this.$qs.stringify(e));case 7:i=t.sent,o=i.data,this.addToCartLoading=!1,200!==o.status?this.$message.error(o.msg):this.$message.success(o.msg);case 11:case"end":return t.stop()}}),t,this)}))),700),objToArr:function(t,e){var i=this;if("dataCenter"===e)return(t||[]).forEach((function(t){t.id=i.guid(),t.active=!1,t.city=t.option_name,t.areaId=void 0})),t;var o=[];for(var s in t)t[s].osName=s,t[s].osSvg=this.getOsSvg(s),o.push(t[s]);return o},editPage:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,o,s,r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showCycle=!1,e.next=3,Object(f["c"])({i:t.cartIndex});case 3:if(i=e.sent,o=i.data,200!==o.status)t.$message.error(o.msg);else{for(r in(o.option||[]).forEach((function(e){if(5===e.option_type){if(e.sub=t.objToArr(e.sub),1!==e.sub.length||"os"!==e.sub[0].osName){var i=function(i){(e.sub||[]).forEach((function(s){var r=s.child.map((function(t){return t.id}));r.includes(Number(o.config_options[i]))&&(e.osName=s.osName,e.osName&&t.osSelectChange(e,"edit"))}))};for(var s in o.config_options)i(s)}}else 12===e.option_type&&(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))})))})),s=function(e){(o.option||[]).forEach((function(i){Number(e)===i.id&&(i.option_value=Number(o.config_options[e])||void 0,12===i.option_type&&(i.sub||[]).forEach((function(e){var s=(e.area||[]).map((function(t){return t.id}));s.includes(i.option_value)&&(e.active=!0,e.areaId=i.option_value,t.cityChange(i,e,o.option,"edit"))})))}))},o.config_options)s(r);for(n in a=function(t){(o.custom_fields||[]).forEach((function(e){Number(t)===e.id&&(e.fieldvalue=o.custom_fields_value[t])}))},o.custom_fields_value)a(n);t.options=o.option,t.customFields=o.custom_fields,t.cycleOptions=o.product.cycle,t.payCycle=o.billingcyle,o.os=t.objToArr(o.os),t.dcimOsOptions=[],(o.os||[]).forEach((function(e,i){t.dcimOsOptions.push(e)})),t.dcimSelectChange(o.os_group),t.dcimOsId=o.os_group,t.dcimOsVersionId=o.os_select?o.os_select.toString():"",t.host=o.product.host,t.hostPassword=o.product.password,t.buyNum=o.qty,t.allowQty=Boolean(o.product.allow_qty),t.host.host=o.host,t.hostPassword.password=o.password,t.getTotal(),t.developer_app=o.developer_app,t.appId=o.hostid,t.developer_hosts=o.hosts,t.proName=o.product.name}t.showCycle=!0;case 7:case"end":return e.stop()}}),e)})))()},checkCustomFields:function(t){var e=new RegExp(/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/);return e.test(t)},createRandomPassHandleClick:function(){this.hostPassword.password=Object(F["a"])(Number(this.hostPassword.rule.len_num),Number(this.hostPassword.rule.num),Number(this.hostPassword.rule.upper),Number(this.hostPassword.rule.lower),Number(this.hostPassword.rule.special))},sliderInputChange:function(t){var e=this;setTimeout((function(){t.option_value||(t.option_value=t.qty_minimum,e.$forceUpdate()),e.getTotal()}),200)},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,i="x"===t?e:3&e|8;return i.toString(16)}))},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:9,e},cycleChange:function(t){this.payCycle=t.billingcycle,this.getTotal()}},computed:{},watch:{"search.first_gid":{handler:function(t){localStorage.setItem("firstGid",t)},deep:!0},"search.gid":{handler:function(t){localStorage.setItem("gid",t)},deep:!0}}},L=z,P=(i("c310"),Object(g["a"])(L,O,$,!1,null,"b6f788b2",null)),R=P.exports,T={components:{indexStyle0:v,indexStyle1:k,indexStyle2:R},data:function(){return{}},computed:{orderPageStyle:function(){var t=this.$store.state.groupStyle||this.$store.state.globalStyle;return null===t?null:parseInt(t)}}},D=T,V=Object(g["a"])(D,o,s,!1,null,"908e857a",null);e["default"]=V.exports},af03:function(t,e,i){var o=i("d039");t.exports=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b64b:function(t,e,i){var o=i("23e7"),s=i("7b0b"),r=i("df75"),a=i("d039"),n=a((function(){r(1)}));o({target:"Object",stat:!0,forced:n},{keys:function(t){return r(s(t))}})},c310:function(t,e,i){"use strict";var o=i("2152"),s=i.n(o);s.a},c740:function(t,e,i){"use strict";var o=i("23e7"),s=i("b727").findIndex,r=i("44d2"),a=i("ae40"),n="findIndex",c=!0,l=a(n);n in[]&&Array(1)[n]((function(){c=!1})),o({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(n)},d81d:function(t,e,i){"use strict";var o=i("23e7"),s=i("b727").map,r=i("1dde"),a=i("ae40"),n=r("map"),c=a("map");o({target:"Array",proto:!0,forced:!n||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},ed82:function(t,e,i){"use strict";function o(t,e,i,o,s){var r="";if(0===e&&0===i&&0===o&&0===s)return r;for(var a=0;a<t;a++){var n=Math.floor(94*Math.random()+33);0===e&&n>=48&&n<=57||0===i&&n>=65&&n<=90||0===o&&n>=97&&n<=122||0===s&&(n>=33&&n<=47||n>=58&&n<=64||n>=91&&n<=96||n>=123&&n<=127)?a--:r+=String.fromCharCode(n)}return r}i.d(e,"a",(function(){return o}))},fc04:function(t,e,i){}}]);