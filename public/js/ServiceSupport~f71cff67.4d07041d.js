(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ServiceSupport~f71cff67"],{"40f5":function(t,e,a){"use strict";var n=a("5c41"),i=a.n(n);i.a},"5c41":function(t,e,a){},7441:function(t,e,a){t.exports=a.p+"img/pic.609a0fcb.svg"},"81cd":function(t,e,a){t.exports=a.p+"img/zip.b774b361.svg"},"9f0f":function(t,e,a){t.exports=a.p+"img/download.2302b98c.svg"},a83a:function(t,e,a){t.exports=a.p+"img/txt.6bf02abd.svg"},abb1:function(t,e,a){t.exports=a.p+"img/download-w.cdf28062.svg"},ad78:function(t,e,a){t.exports=a.p+"img/lock.d57a1811.svg"},ea10:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"support layout_card"},[n("div",{staticClass:"breadcrumb"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[n("i",{staticClass:"iconfont icon-1"}),t._v(" 文件下载 ")])],1)],1),t.mobile?n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.groupID,callback:function(e){t.groupID=e},expression:"groupID"}},t._l(t.pageData.cate_data,(function(t,e){return n("el-tab-pane",{key:e+"download",attrs:{label:t.name,name:t.id.toString()}})})),1):t._e(),n("div",{staticClass:"support_main"},[t.mobile?t._e():n("div",{staticClass:"support_main_left"},[n("ul",{staticClass:"main_left_ul"},t._l(t.pageData.cate_data,(function(e){return n("li",{key:e.id,staticClass:"main_left_li",class:{activeli:t.groupID===e.id.toString()},on:{click:function(a){return t.changeGroup(e)}}},[t._v(t._s(e.name))])})),0)]),n("div",{staticClass:"support_main_right"},[t.pageLoading?n("Loading"):t._e(),n("div",{staticClass:"main_right_list"},[t.pageLoading||t.pageData.downloads.length?t._e():n("span",{staticClass:"emptyText"},[t._v("此分组下暂无文件下载")]),t._l(t.pageData.downloads,(function(e,i){return n("div",{key:i,staticClass:"right_list_item",on:{mouseenter:function(a){return t.changeDownIcon(e)},mouseleave:function(a){return t.changeDownIcon(e)}}},[e.hover||1===e.clientsonly?t._e():n("img",{staticClass:"downloadIcon",attrs:{src:a("9f0f"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}}}),e.hover&&1!==e.clientsonly?n("img",{staticClass:"downloadIcon",attrs:{src:a("abb1"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}}}):t._e(),1===e.clientsonly?n("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:e.title}},[n("img",{staticClass:"downloadIcon",attrs:{slot:"reference",src:a("ad78"),alt:"",width:"18px"},on:{click:function(a){return t.downLoad(e)}},slot:"reference"})]):t._e(),n("div",{staticClass:"item_img"},["1"===e.type?n("img",{attrs:{src:a("81cd"),alt:"",width:"55px"}}):t._e(),"2"===e.type?n("img",{attrs:{src:a("7441"),alt:"",width:"55px"}}):t._e(),"3"===e.type?n("img",{attrs:{src:a("a83a"),alt:"",width:"55px"}}):t._e()]),n("div",{staticClass:"item_msg"},[n("div",{staticClass:"item_msg_title"},[n("span",[t._v(t._s(e.title))])]),n("div",{staticClass:"item_msg_download"},[n("span",[t._v("已下："+t._s(e.downloads)+"次")])]),n("div",{staticClass:"item_msg_info"},[n("span",[t._v(t._s(e.description))])])])],1)}))],2)],1)])],1)},i=[],o=(a("4160"),a("d3b7"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),r=a("7ac2"),c=a("a27e");function s(t,e){return Object(c["a"])({url:"/download/cates",params:{cate_id:t,jwt:e}})}function d(t,e,a){return Object(c["a"])({url:"/download/product_file",params:{id:t,jwt:e,type:a}})}function l(t,e){return Object(c["a"])({url:"/download/product_file",responseType:"blob",params:{id:t,jwt:e}})}var u={metaInfo:function(){return{title:"文件下载",htmlAttrs:{amp:!0}}},components:{Loading:r["default"]},data:function(){return{pageLoading:!1,clientWidth:document.body.clientWidth,pageData:{cate_data:[],downloads:[]},groupID:"0",mobile:!1}},created:function(){this.getList()},mounted:function(){var t=this;window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){removeEventListener("resize",t.resize)}))},methods:{changeDownIcon:function(t){t.hover=!t.hover,this.$forceUpdate()},downLoad:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d(t.id,localStorage.getItem("OrfLcI2IqQItv0vS"),1);case 2:n=a.sent,i=n.data,406===i.status?3===i.type?e.$message.error(i.msg):2===i.type?e.$alert(i.msg,"提示",{confirmButtonText:"去购买",callback:function(t){"confirm"===t&&e.$router.push({path:"/order-config",query:{pid:i.pid,cycle:i.cylcle}})}}):1===i.type&&e.$alert("您所下载的文件需要登录后才可下载，请您登录后再次操作","提示",{confirmButtonText:"登录",callback:function(t){"confirm"===t&&e.$router.push({name:"Login"})}}):e.realDownload(t);case 5:case"end":return a.stop()}}),a)})))()},realDownload:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.id,i=localStorage.getItem("OrfLcI2IqQItv0vS"),a.next=4,l(n,i);case 4:o=a.sent,e.downloadBinary(o.data,t);case 6:case"end":return a.stop()}}),a)})))()},downloadBinary:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=new Blob([t]),i=e.locationname,o=document.createElement("a"),o.download=i,o.style.display="none",o.href=URL.createObjectURL(n),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o);case 10:case"end":return a.stop()}}),a)})))()},resize:function(){this.clientWidth=document.body.clientWidth,this.mobile=this.clientWidth<570},handleClick:function(t){this.getList()},changeGroup:function(t){this.groupID=t.id.toString(),this.getList()},getList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageData.downloads=[],t.pageLoading=!0,a=localStorage.getItem("OrfLcI2IqQItv0vS")?localStorage.getItem("OrfLcI2IqQItv0vS"):"",e.next=5,s(t.groupID,a);case 5:if(n=e.sent,i=n.data,200===i.status){e.next=11;break}return t.$message.error(i.msg),t.pageLoading=!1,e.abrupt("return");case 11:t.pageData=i.data,t.pageLoading=!1,t.pageData.downloads.length&&t.pageData.downloads.forEach((function(t){t.hover=!1}));case 14:case"end":return e.stop()}}),e)})))()}},computed:{},watch:{"pageData.cate_data.length":{handler:function(t){t>0&&(this.groupID=this.pageData.cate_data[0].id.toString())},immediate:!0},clientWidth:{handler:function(t){this.mobile=t<570},immediate:!0}}},p=u,g=(a("40f5"),a("2877")),m=Object(g["a"])(p,n,i,!1,null,"59d56a34",null);e["default"]=m.exports}}]);