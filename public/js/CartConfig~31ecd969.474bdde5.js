(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CartConfig~31ecd969","OtherControl~987e6011","OtherServerUpgradeConfig~987e6011"],{"1dde":function(t,e,o){var i=o("d039"),n=o("b622"),s=o("2d00"),a=n("species");t.exports=function(t){return s>=51||!i((function(){var e=[],o=e.constructor={};return o[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"246b":function(t,e,o){"use strict";o("a623"),o("7db0"),o("c740"),o("4160"),o("caad"),o("d81d"),o("b64b"),o("d3b7"),o("25f0"),o("2532"),o("9911"),o("4c53"),o("159b");var i=o("53ca"),n=[4,7,9,11,14,15,16,17,18,19];e["a"]={data:function(){return{originalData:{link:[],option:[]}}},watch:{options:{handler:function(t){this.matchingCondition(),this.clearOptionValue()},deep:!0,immediate:!0}},methods:{clearOption:function(){(this.options||[]).forEach((function(t){t.disabled=!1,(t.sub||[]).forEach((function(e){e.disabled=!1,5===t.option_type&&e.child.forEach((function(t){t.disabled=!1}))}))}))},clearOptionValue:function(){var t=this;this.$nextTick((function(){(t.options||[]).forEach((function(e,o){if(n.includes(e.option_type)){if(!e.disabled){var i=(t.originalData.option||[]).find((function(t){return t.id===e.id}));e.sub=JSON.parse(JSON.stringify(i.sub)),e.disabled=!0}e.qty_maximum=Math.max.apply(Math,e.sub.map((function(t){return t.qty_maximum}))),e.qty_minimum=Math.min.apply(Math,e.sub.map((function(t){return t.qty_minimum})))}else if(5===e.option_type){if(e.osName){var s=e.sub.findIndex((function(t){return t.osName===e.osName}));if(void 0===e.option_value){var a=e.sub[s].child.findIndex((function(t){return!1===t.disabled}));e.option_value=-1!==a?e.sub[s].child[a].id:void 0}}}else(e.sub||[]).forEach((function(t){if(t.disabled&&(e.option_value===t.id||void 0===e.option_value)){var o=e.sub.findIndex((function(t){return!1===t.disabled}));e.option_value=-1!==o?e.sub[o].id:void 0}}))}))}))},matchingCondition:function(){var t=this;(this.options||[]).forEach((function(e){"object"===Object(i["a"])(e)&&(t.originalData.link||[]).forEach((function(o){if(o.config_id===e.id){var i=!1;switch(o.relation){case"seq":if(n.includes(e.option_type))for(var s in o.sub_id){var a=o.sub_id[s];e.option_value<=a.qty_maximum&&e.option_value>=a.qty_minimum&&(i=!0)}else Object.keys(o.sub_id).includes((e.option_value||"").toString())&&(i=!0);break;case"sneq":n.includes(e.option_type)?i=Object.keys(o.sub_id).every((function(t){var i=o.sub_id[t];if(e.qty>i.qty_maximum||e.qty<i.qty_minimum)return!0})):Object.keys(o.sub_id).includes((e.option_value||"").toString())||(i=!0);break;default:break}i&&(o.result||[]).forEach((function(e){t.changeOptions(e)}))}}))}))},changeOptions:function(t){if(!t.sub_id)return!1;(this.options||[]).forEach((function(e){if(e.id===t.config_id)switch(t.relation){case"seq":(e.sub||[]).forEach((function(o){5===e.option_type?(o.child||[]).forEach((function(e){Object.keys(t.sub_id).includes((e.id||"").toString())||(e.disabled=!0)})):(n.includes(e.option_type)&&(o.qty_maximum=t.sub_id[o.id].qty_maximum,o.qty_minimum=t.sub_id[o.id].qty_minimum),Object.keys(t.sub_id).includes((o.id||"").toString())||(o.disabled=!0))}));break;case"sneq":(e.sub||[]).forEach((function(o){5===e.option_type?(o.child||[]).forEach((function(e){Object.keys(t.sub_id).includes((e.id||"").toString())&&(e.disabled=!0)})):Object.keys(t.sub_id).includes((o.id||"").toString())&&(o.disabled=!0)}));break;default:break}}))}}}},2532:function(t,e,o){"use strict";var i=o("23e7"),n=o("5a34"),s=o("1d80"),a=o("ab13");i({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,o){"use strict";var i=o("6eeb"),n=o("825a"),s=o("d039"),a=o("ad6d"),r="toString",c=RegExp.prototype,l=c[r],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=r;(u||d)&&i(RegExp.prototype,r,(function(){var t=n(this),e=String(t.source),o=t.flags,i=String(void 0===o&&t instanceof RegExp&&!("flags"in c)?a.call(t):o);return"/"+e+"/"+i}),{unsafe:!0})},"44e7":function(t,e,o){var i=o("861d"),n=o("c6b6"),s=o("b622"),a=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},"4c53":function(t,e,o){"use strict";var i=o("23e7"),n=o("857a"),s=o("af03");i({target:"String",proto:!0,forced:s("sub")},{sub:function(){return n(this,"sub","","")}})},"4d63":function(t,e,o){var i=o("83ab"),n=o("da84"),s=o("94ca"),a=o("7156"),r=o("9bf2").f,c=o("241c").f,l=o("44e7"),u=o("ad6d"),d=o("9f7f"),p=o("6eeb"),f=o("d039"),m=o("69f3").set,h=o("2626"),_=o("b622"),b=_("match"),y=n.RegExp,v=y.prototype,g=/a/g,x=/a/g,C=new y(g)!==g,w=d.UNSUPPORTED_Y,O=i&&s("RegExp",!C||w||f((function(){return x[b]=!1,y(g)!=g||y(x)==x||"/a/i"!=y(g,"i")})));if(O){var k=function(t,e){var o,i=this instanceof k,n=l(t),s=void 0===e;if(!i&&n&&t.constructor===k&&s)return t;C?n&&!s&&(t=t.source):t instanceof k&&(s&&(e=u.call(t)),t=t.source),w&&(o=!!e&&e.indexOf("y")>-1,o&&(e=e.replace(/y/g,"")));var r=a(C?new y(t,e):y(t,e),i?this:v,k);return w&&o&&m(r,{sticky:o}),r},I=function(t){t in k||r(k,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},S=c(y),E=0;while(S.length>E)I(S[E++]);v.constructor=k,k.prototype=v,p(n,"RegExp",k)}h("RegExp")},"4e7c":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("el-row",[i("el-col",{staticClass:"header_box flex-between",attrs:{span:24}},[i("div",{staticClass:"overflow-ellipsis"},[t._v(t._s(t.proName?t.proName+"-":"")+t._s(t.$t("cart.productConfig")))]),i("div",{staticClass:"flexc-v"},[i("div",{staticClass:"header_box_back flexc"},[i("span",{staticClass:"iconfont icon-gouwuche cursor-pointer",staticStyle:{"font-size":"22px"},on:{click:t.toCart}})]),i("div",{staticClass:"header_box_back flexc ml-20",on:{click:t.back}},[i("span",{staticClass:"iconfont icon-fanhui"})])])])],1),i("el-row",{staticClass:"content_box"},[i("el-col",{staticClass:"content_box_left",attrs:{xs:24,sm:24,lg:16}},[i("el-form",{staticClass:"mb-100",attrs:{"label-width":"150px"}},[t._l(t.options,(function(e,o){return i("el-form-item",{key:"option"+o,attrs:{label:e.option_name}},[i("div",{staticClass:"flexc-v fl lh-30 mr-10"},[[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?i("myInput",{attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(o){return t.sliderInputChange(e)}},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}}):t._e(),4===e.option_type||15===e.option_type?i("span",[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?i("span",[t._v("核")]):t._e(),9===e.option_type||17===e.option_type?i("span",[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?i("span",[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?i("span",[t._v("GB")]):t._e()],1),1===e.option_type?i("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}},t._l(e.sub,(function(t){return i("el-option",{key:t.id,attrs:{disabled:t.disabled,label:t.option_name,value:t.id}})})),1):t._e(),2===e.option_type?i("div",t._l(e.sub,(function(o,n){return i("el-radio",{key:"Radio"+n,attrs:{disabled:o.disabled,label:o.id},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}},[t._v(t._s(o.option_name))])})),1):t._e(),3===e.option_type?i("div",t._l(e.sub,(function(o,n){return i("el-checkbox",{key:"yes/no"+n,attrs:{disabled:o.disabled,"true-label":o.id,"false-label":void 0},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}},[t._v(t._s(o.option_name))])})),1):t._e(),[6,8,10,13].includes(e.option_type)?i("myRadio",{attrs:{radioData:e.sub},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}}):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?i("mySlider",{staticClass:"ml-5 mr-5 clearboth",attrs:{value:2,sliderData:e.sub,min:e.qty_minimum,max:e.qty_maximum},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}}):t._e(),5===e.option_type?i("div",[1!==e.sub.length||"os"!==e.sub[0].osName?i("el-select",{staticClass:"sel",staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:function(o){return t.osSelectChange(e,"handle")}},model:{value:e.osName,callback:function(o){t.$set(e,"osName",o)},expression:"optionItem.osName"}},[i("template",{slot:"prefix"},[i("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+e.osSvgSelected+".svg",alt:""}})]),t._l(e.sub,(function(e,o){return i("el-option",{key:"osDropdown"+o,attrs:{label:e.osName,value:e.osName}},[i("img",{staticStyle:{height:"15px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.osName)+" ")])}))],2):t._e(),1!==e.sub.length||"os"!==e.sub[0].osName?i("el-select",{staticClass:"sel_sub",attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}},t._l(e.osVersionOptions,(function(t){return i("el-option",{key:t.id,attrs:{label:t.version,disabled:t.disabled,value:t.id}})})),1):t._e(),1===e.sub.length&&"os"===e.sub[0].osName?i("el-select",{staticClass:"sel",attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},on:{change:t.getTotal},model:{value:e.option_value,callback:function(o){t.$set(e,"option_value",o)},expression:"optionItem.option_value"}},t._l(t.osVersionOptionsAll,(function(t){return i("el-option",{key:t.id,attrs:{label:t.version,disabled:t.disabled,value:t.id}})})),1):t._e()],1):t._e(),12===e.option_type?i("div",[i("div",{staticClass:"country_box"},t._l(e.sub,(function(o,n){return i("div",{key:n,staticClass:"country_item fl",class:{country_item_active:o.active,country_item_noarea:o.noarea},on:{click:function(i){return t.cityChange(e,o,void 0,"handle")}}},[i("div",{staticClass:"country_item_innerbox flexc-v"},[i("img",{staticClass:"country_item_flag ml-10 mr-10",attrs:{src:"/upload/common/country/"+o.country_code+".png",alt:""}}),i("span",{staticClass:"country_item_name fz-12",class:{country_item_name_after:!o.noarea}},[t._v(t._s(o.city))])]),o.noarea?t._e():i("div",{staticClass:"country_box_node"},[i("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!o.active||1===o.area.length&&""===o.area[0].area},on:{change:function(i){return t.areaChange(e,o,"handle")}},model:{value:o.areaId,callback:function(e){t.$set(o,"areaId",e)},expression:"cityItem.areaId"}},t._l(o.area,(function(t,e){return i("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()],1)})),t._l(t.customFields,(function(e){return i("el-form-item",{key:e.id,attrs:{label:e.fieldname}},["dropdown"===e.fieldtype?i("el-select",{staticClass:"sel",attrs:{size:"mini",placeholder:e.description,clearable:""},model:{value:e.fieldvalue,callback:function(o){t.$set(e,"fieldvalue",o)},expression:"customFieldsItem.fieldvalue"}},t._l(e.dropdown_option,(function(t,e){return i("el-option",{key:e,attrs:{disabled:t.disabled,label:t,value:t}})})),1):t._e(),"password"===e.fieldtype||"textarea"===e.fieldtype||"text"===e.fieldtype||"link"===e.fieldtype?i("el-input",{staticClass:"sel",attrs:{size:"mini",type:e.fieldtype,placeholder:e.description,clearable:""},model:{value:e.fieldvalue,callback:function(o){t.$set(e,"fieldvalue",o)},expression:"customFieldsItem.fieldvalue"}}):t._e(),"tickbox"===e.fieldtype?i("el-checkbox",{attrs:{disabled:e.disabled,"true-label":"1","false-label":"0"},model:{value:e.fieldvalue,callback:function(o){t.$set(e,"fieldvalue",o)},expression:"customFieldsItem.fieldvalue"}}):t._e()],1)})),t.dcimOsOptions.length?i("el-form-item",{attrs:{label:"操作系统"}},[i("el-select",{staticClass:"sel",staticStyle:{"margin-right":"20px"},attrs:{filterable:"",placeholder:t.$t("cart.pleaseSelect")},on:{change:function(e){return t.dcimSelectChange(t.dcimOsId)}},model:{value:t.dcimOsId,callback:function(e){t.dcimOsId=e},expression:"dcimOsId"}},[i("template",{slot:"prefix"},[i("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+Number(t.dcimOsId)+".svg",alt:""}})]),t._l(t.dcimOsOptions,(function(e,o){return i("el-option",{key:o,attrs:{value:e.id,label:e.name}},[i("img",{staticStyle:{height:"15px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+Number(e.svg)+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2),i("el-select",{staticClass:"sel_sub",attrs:{filterable:"",placeholder:t.$t("cart.pleaseSelect")},model:{value:t.dcimOsVersionId,callback:function(e){t.dcimOsVersionId=e},expression:"dcimOsVersionId"}},t._l(t.dcimOsVersionOptions,(function(t,e){return i("el-option",{key:e,attrs:{disabled:t.disabled,value:t.id,label:t.name}})})),1)],1):t._e(),t.showCycle?i("el-form-item",{attrs:{label:t.$t("cart.paymentCycle")}},t._l(t.cycleOptions,(function(e,o){return i("span",{key:o,staticClass:"cycle-select",class:{"cycle-select-active":e.billingcycle===t.payCycle},on:{click:function(o){return t.cycleChange(e)}}},[t._v(t._s(e.billingcycle_zh))])})),0):t._e(),1===t.developer_app?i("el-form-item",{attrs:{label:"应用产品"}},[i("el-select",{staticClass:"sel",staticStyle:{"margin-right":"20px"},attrs:{size:"mini",placeholder:t.$t("cart.pleaseSelect")},model:{value:t.appId,callback:function(e){t.appId=e},expression:"appId"}},t._l(t.developer_hosts,(function(t,e){return i("el-option",{key:e,attrs:{disabled:t.disabled,value:t.id,label:t.name}})})),1)],1):t._e(),"1"===t.host.show?i("el-form-item",{attrs:{label:"主机名"}},[i("el-input",{staticClass:"sel",attrs:{size:"mini",clearable:"",disabled:""},model:{value:t.host.host,callback:function(e){t.$set(t.host,"host",e)},expression:"host.host"}})],1):t._e(),"1"===t.hostPassword.show?i("el-form-item",{attrs:{label:"密码"}},[i("el-input",{staticClass:"sel_pass",attrs:{size:"mini",type:"password","show-password":""},model:{value:t.hostPassword.password,callback:function(e){t.$set(t.hostPassword,"password",e)},expression:"hostPassword.password"}}),i("img",{staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:o("8728"),alt:""},on:{click:t.createRandomPassHandleClick}})],1):t._e()],2)],1),i("el-col",{staticClass:"content_box_right p-20",attrs:{xs:24,sm:24,lg:8}},[i("div",{staticClass:"box_right_item flex-between mb-30"},[i("div",{staticClass:"fz-16 fw-bold"},[t._v(t._s(t.products.product_name?t.products.product_name+"：":""))]),i("div",{staticClass:"color-333"},[t._v(t._s(t.currency.prefix+t.products.product_price)+" "+t._s(parseFloat(t.products.product_setup_fee)>0?" + "+t.currency.prefix+t.products.product_setup_fee+"初装费":""))])]),t._l(t.products.child,(function(e,o){return i("div",{key:o,staticClass:"box_right_item flex-between mb-10"},[i("div",[i("span",{staticClass:"color-999"},[t._v(t._s(e.option_name)+"：")]),12!==e.option_type&&5!==e.option_type?i("span",{staticClass:"color-333"},[t._v(t._s(e.qty?e.qty:e.suboption_name))]):t._e(),5===e.option_type?i("img",{staticClass:"pl-10",attrs:{src:"/upload/common/system/"+t.getOsSvg(e.suboption_name.split(" ")[0])+".svg",alt:"",width:"20"}}):t._e(),12===e.option_type?i("img",{staticClass:"pl-10",attrs:{src:"/upload/common/country/"+e.suboption_name.split(" ")[0].toUpperCase()+".png",alt:"",width:"20"}}):t._e(),5===e.option_type||12===e.option_type?i("span",{staticClass:"config_item_value",staticStyle:{"padding-left":"5px"}},[t._v(t._s((e.suboption_name.split(" ")[1]||"")+(e.suboption_name.split(" ")[2]||"")))]):t._e()]),i("div",{staticClass:"color-333"},[t._v(t._s(t.currency.prefix+e.suboption_price)+t._s(parseFloat(e.suboption_setup_fee)>0?" + "+t.currency.prefix+e.suboption_setup_fee+"初装费":""))])])})),i("el-divider"),parseFloat(t.products.signal_setupfee)>0?i("div",{staticClass:"box_right_item flex-between mb-10"},[i("div",{staticClass:"color-999"},[t._v("初装费：")]),i("div",{staticClass:"color-333 fw-bold",style:{"text-decoration":parseFloat(t.products.sale_setupfee_total)>0?"line-through":"none","font-weight":parseFloat(t.products.sale_signal_price)>0?"normal":"bold"}},[t._v(t._s(t.currency.prefix+t.products.signal_setupfee))])]):t._e(),parseFloat(t.products.sale_setupfee_total)>0?i("div",{staticClass:"box_right_item flex-between mb-10"},[1===t.products.type.type?i("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣优惠 "+t._s(t.products.type.bates)+"%")]):t._e(),2===t.products.type.type?i("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣省 "+t._s(t.currency.prefix+t.products.type.bates))]):t._e(),i("div",{staticClass:"color-333 fw-bold"},[t._v(t._s(t.currency.prefix+t.products.sale_setupfee_total))])]):t._e(),i("div",{staticClass:"box_right_item flex-between mb-10"},[i("div",{staticClass:"color-999"},[t._v(t._s(t._f("cycleFilter")(t.products.billingcycle))+t._s(t.products.billingcycle?"：":""))]),i("div",{staticClass:"color-333 fw-bold",style:{"text-decoration":parseFloat(t.products.sale_signal_price)>0?"line-through":"none","font-weight":parseFloat(t.products.sale_signal_price)>0?"normal":"bold"}},[t._v(t._s(t.currency.prefix+t.products.signal_price))])]),parseFloat(t.products.sale_signal_price)>0?i("div",{staticClass:"box_right_item flex-between mb-10"},[1===t.products.type.type?i("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣优惠 "+t._s(t.products.type.bates)+"%")]):t._e(),2===t.products.type.type?i("div",{staticClass:"fz-12",staticStyle:{color:"#e64a19"}},[t._v("客户折扣省 "+t._s(t.currency.prefix+t.products.type.bates))]):t._e(),i("div",{staticClass:"color-333 fw-bold"},[t._v(t._s(t.currency.prefix+t.products.sale_signal_price))])]):t._e()],2)],1),i("el-row",{staticClass:"footer_box pl-20 pr-20"},[i("el-col",{staticClass:"footer_box_left h-100 flex-between pl-20 pr-20",attrs:{xs:24,sm:24,md:12,lg:16}},[i("div",{staticClass:"fz-14 color-999"},[t._v("已选产品: "+t._s(t.buyNum))]),i("div",[i("myInputNumber",{attrs:{mysize:"mini",mydisabled:!t.allowQty},on:{change:t.myInputChange},model:{value:t.buyNum,callback:function(e){t.buyNum=e},expression:"buyNum"}})],1)]),i("el-col",{staticClass:"footer_box_right h-100 flex-between pl-20 pr-20",attrs:{xs:24,sm:24,md:12,lg:8}},[i("div",{staticClass:"footer_box_price"},[i("div",[t._v(t._s(t.currency.prefix)+t._s(t.products.bates?t.products.sale_price:t.products.total)+t._s(t.currency.suffix)+" / "+t._s(t.products.billingcycle_zh)+" "),"ontrial"===t.products.billingcycle?i("span",[t._v(t._s(t.products.pay_ontrial_cycle)+"天")]):t._e()]),t.products.bates?i("div",{staticClass:"fz-12 color-999"},[t._v(" "+t._s(t.products.total?"(原价："+t.currency.prefix+t.products.total+t.currency.suffix+"/ "+t.products.billingcycle_zh+")":"")+" ")]):t._e()]),i("div",[i("el-button",{staticClass:"buy_now_btn mr-10",staticStyle:{padding:"0"},attrs:{type:"primary",loading:t.btnLoading},on:{click:t.buyNowHandleClick}},[t._v("现在下单")])],1)])],1)],1)},n=[],s=(o("c740"),o("4160"),o("caad"),o("c975"),o("d81d"),o("b0c0"),o("a9e3"),o("d3b7"),o("4d63"),o("ac1f"),o("25f0"),o("2532"),o("5319"),o("4c53"),o("159b"),o("96cf"),o("1da1")),a=o("52d51"),r=o("a748"),c=o("42bc"),l=o("eb02"),u=o("ebab"),d=o("246b"),p=o("2ef0"),f={mixins:[d["a"]],metaInfo:function(){return{title:"产品配置"}},filters:{cycleFilter:function(t){switch(t){case"free":return"免费";case"onetime":return"一次性";case"ontrial":return"试用";case"monthly":return"每月";case"quarterly":return"每季";case"semiannually":return"半年";case"annually":return"每年";case"biennially":return"两年";case"triennially":return"三年";case"fourly":return"四年";case"fively":return"五年";case"sixly":return"六年";case"sevenly":return"七年";case"eightly":return"八年";case"ninely":return"九年";case"tenly":return"十年"}}},data:function(){return{pid:this.$route.query.pid,cycle:this.$route.query.cycle,cartIndex:this.$route.query.cartIndex,payCycle:this.$route.query.cycle,cycleOptions:[],options:[],osName:"",osVersionOptionsAll:[],customFields:[],currency:{prefix:""},products:{billingcycle_zh:"月付",total:"0.00",child:[],product_name:"",product_price:"",product_setup_fee:"",signal_setupfee:"",signal_price:"",type:{bates:"",type:1}},dcimOsOptions:[],dcimOsId:[],dcimOsVersionOptions:[],dcimOsVersionId:[],btnLoading:!1,addToCartLoading:!1,customVerifyLink:!0,host:{host:"",prefix:"",rule:{len_num:"",lower:"",num:"",upper:""},show:""},hostPassword:{password:"",rule:{len_num:""},show:""},buyNum:1,allowQty:!1,showCycle:!1,developer_app:0,appId:void 0,developer_hosts:[],proName:""}},components:{myRadio:r["default"],myInput:c["default"],mySlider:l["default"],myInputNumber:u["default"]},methods:{toCart:function(){this.$router.push({name:"CartCart"})},back:function(){this.$router.go(-1)},selectBlockChange:function(t,e){t.option_value=e.id,this.getTotal()},cityChange:function(t,e,o,i){var n=this;o?(o||[]).forEach((function(o){12===o.option_type&&t.id===o.id&&(o.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):("edit"!==i&&(t.areaId=t.area.length?t.area[0].id:void 0,o.option_value=t.areaId),n.areaChange(o,t,i),t.active=!0)}))})):(this.options||[]).forEach((function(o){12===o.option_type&&t.id===o.id&&(o.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,o.option_value=t.areaId,n.areaChange(o,t,i),t.active=!0)}))}))},areaChange:function(t,e,o){t.option_value=e.areaId,"handle"===o&&this.getTotal()},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showCycle=!1,e.next=3,Object(a["m"])({pid:t.pid,billingcycle:t.cycle});case 3:o=e.sent,i=o.data,200!==i.status?t.$message.error(i.msg):((i.option||[]).forEach((function(e){e.disabled=!1,1===e.option_type||2===e.option_type||6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?e.option_value=e.sub.length?e.sub[0].id:void 0:3===e.option_type?e.option_value=void 0:[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?e.option_value=e.qty_minimum:5===e.option_type?(e.sub=t.objToArr(e.sub),e.sub.length?(e.osName=e.sub[0].osName,e.option_value=e.sub[0].child.length?e.sub[0].child[0].id:void 0):e.osName="",e.osName&&t.osSelectChange(e,"init")):12===e.option_type&&(e.sub=t.objToArr(e.sub,"dataCenter"),e.sub.length&&(e.sub[0].active=!0,setTimeout((function(){e.option_value=e.sub[0].area[0].id}),600),t.cityChange(e,e.sub[0],i.option,"init")),e.option_value=void 0,(e.sub||[]).forEach((function(t){t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))),(e.sub||[]).forEach((function(t){t.disabled=!1,5===e.option_type&&t.child.forEach((function(t){t.disabled=!1}))}))})),(i.custom_fields||[]).forEach((function(t){"dropdown"===t.fieldtype?t.fieldvalue=t.dropdown_option.length?t.dropdown_option[0]:void 0:"tickbox"===t.fieldtype?t.fieldvalue="0":t.fieldvalue=""})),t.options=i.option,n=JSON.parse(JSON.stringify(i.option)),s=JSON.parse(JSON.stringify(i.links)),t.originalData={option:n,link:s},t.customFields=i.custom_fields,t.cycleOptions=i.product.cycle,i.os=t.objToArr(i.os),t.dcimOsOptions=[],(i.os||[]).forEach((function(e,o){t.dcimOsOptions.push(e),0===o&&(t.dcimOsId=e.id,t.dcimSelectChange(e.id))})),t.host=i.product.host,t.hostPassword=i.product.password,t.allowQty=Boolean(i.allow_qty),t.getTotal(),t.developer_app=i.developer_app,t.developer_hosts=i.hosts,t.proName=i.product.name),t.showCycle=!0;case 7:case"end":return e.stop()}}),e)})))()},osSelectChange:function(t,e){if(5!==t.option_type)return!1;t.sub.length&&(1===t.sub.length&&"os"===t.sub[0].osName?this.osVersionOptionsAll=t.sub[0].child:(t.sub||[]).forEach((function(o){if(t.osName===o.osName&&(t.osVersionOptions=o.child,t.osSvgSelected=o.osSvg,"edit"!==e)){var i=o.child.findIndex((function(t){return!1===t.disabled}));t.option_value=-1!==i?o.child[i].id:void 0}}))),"handle"===e&&this.getTotal()},dcimSelectChange:function(t){var e=this;this.dcimOsVersionId="",(this.dcimOsOptions||[]).forEach((function(o){t===o.id&&(e.dcimOsVersionOptions=o.child,o.child.length&&(e.dcimOsVersionId=o.child[0].id))}))},myInputChange:function(){var t=this;setTimeout((function(){t.getTotal()}),200)},getTotal:p.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.clearOption(),e={pid:this.pid,billingcycle:this.payCycle,configoption:[],currencyid:void 0,customfield:[],qty:this.buyNum},(this.options||[]).forEach((function(t){e.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){e.customfield[t.id]=t.fieldvalue})),this.btnLoading=!0,t.next=7,Object(a["g"])(this.$qs.stringify(e));case 7:o=t.sent,i=o.data,200!==i.status?this.$message.error(i.msg):(this.currency=i.currency,this.products=i.products),this.btnLoading=!1;case 11:case"end":return t.stop()}}),t,this)})))),buyNowHandleClick:p.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,o,i,n,s,r,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==this.cartIndex){t.next=14;break}return e={pid:this.pid,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){e.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){e.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){c.dcimOsVersionId===t.id&&(e.os[t.id]=t.name)})),this.btnLoading=!0,t.next=8,Object(a["b"])(this.$qs.stringify(e));case 8:o=t.sent,i=o.data,200!==i.status?this.$message.error(i.msg):this.$router.push({path:"/cart-cart",query:{pid:this.pid,cycle:this.cycle}}),this.btnLoading=!1,t.next=25;break;case 14:return n={i:this.cartIndex,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){n.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){n.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){c.dcimOsVersionId===t.id&&(n.os[c.dcimOsVersionId]=t.name)})),this.btnLoading=!0,t.next=21,Object(a["d"])(this.$qs.stringify(n));case 21:s=t.sent,r=s.data,200!==r.status?this.$message.error(r.msg):this.$router.push({path:"/cart-cart",query:{pid:this.pid,cycle:this.cycle}}),this.btnLoading=!1;case 25:case"end":return t.stop()}}),t,this)}))),700),addToCart:p.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,o,i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={pid:this.pid,billingcycle:this.payCycle,serverid:void 0,configoption:[],customfield:[],os:[],currencyid:1,host:this.host.host,password:this.hostPassword.password,qty:this.buyNum,hostid:this.appId},(this.options||[]).forEach((function(t){e.configoption[t.id]=t.option_value})),(this.customFields||[]).forEach((function(t){e.customfield[t.id]=t.fieldvalue})),(this.dcimOsVersionOptions||[]).forEach((function(t){n.dcimOsVersionId===t.id&&(e.os[t.id]=t.name)})),this.addToCartLoading=!0,t.next=7,Object(a["b"])(this.$qs.stringify(e));case 7:o=t.sent,i=o.data,this.addToCartLoading=!1,200!==i.status?this.$message.error(i.msg):this.$message.success(i.msg);case 11:case"end":return t.stop()}}),t,this)}))),700),objToArr:function(t,e){var o=this;if("dataCenter"===e)return(t||[]).forEach((function(t){t.id=o.guid(),t.active=!1,t.city=t.option_name,t.areaId=void 0})),t;var i=[];for(var n in t)t[n].osName=n,t[n].osSvg=this.getOsSvg(n),i.push(t[n]);return i},editPage:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,i,n,s,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showCycle=!1,e.next=3,Object(a["c"])({i:t.cartIndex});case 3:if(o=e.sent,i=o.data,200!==i.status)t.$message.error(i.msg);else{for(s in(i.option||[]).forEach((function(e){if(5===e.option_type){if(e.sub=t.objToArr(e.sub),1!==e.sub.length||"os"!==e.sub[0].osName){var o=function(o){(e.sub||[]).forEach((function(n){var s=n.child.map((function(t){return t.id}));s.includes(Number(i.config_options[o]))&&(e.osName=n.osName,e.osName&&t.osSelectChange(e,"edit"))}))};for(var n in i.config_options)o(n)}}else 12===e.option_type&&(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))})))})),n=function(e){(i.option||[]).forEach((function(o){Number(e)===o.id&&(o.option_value=Number(i.config_options[e])||void 0,12===o.option_type&&(o.sub||[]).forEach((function(e){var n=(e.area||[]).map((function(t){return t.id}));n.includes(o.option_value)&&(e.active=!0,e.areaId=o.option_value,t.cityChange(o,e,i.option,"edit"))})))}))},i.config_options)n(s);for(c in r=function(t){(i.custom_fields||[]).forEach((function(e){Number(t)===e.id&&(e.fieldvalue=i.custom_fields_value[t])}))},i.custom_fields_value)r(c);t.options=i.option,t.customFields=i.custom_fields,t.cycleOptions=i.product.cycle,t.payCycle=i.billingcyle,i.os=t.objToArr(i.os),t.dcimOsOptions=[],(i.os||[]).forEach((function(e,o){t.dcimOsOptions.push(e)})),t.dcimSelectChange(i.os_group),t.dcimOsId=i.os_group,t.dcimOsVersionId=i.os_select?i.os_select.toString():"",t.host=i.product.host,t.hostPassword=i.product.password,t.buyNum=i.qty,t.allowQty=Boolean(i.product.allow_qty),t.host.host=i.host,t.hostPassword.password=i.password,t.getTotal(),t.developer_app=i.developer_app,t.appId=i.hostid,t.developer_hosts=i.hosts,t.proName=i.product.name}t.showCycle=!0;case 7:case"end":return e.stop()}}),e)})))()},checkCustomFields:function(t){var e=new RegExp(/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/);return e.test(t)},createRandomPassHandleClick:function(){this.hostPassword.password=this.genEnCode(Number(this.hostPassword.rule.len_num),1,1,0,1)},genEnCode:function(t,e,o,i,n,s){var a="";if(0===e&&0===o&&0===i)return a;for(var r=t-1;r>0;r--){var c=Math.floor(94*Math.random()+33);0===e&&c>=48&&c<=57||0===o&&(c>=65&&c<=90||c>=97&&c<=122)||0===i&&(c>=33&&c<=47||c>=58&&c<=64||c>=91&&c<=96||c>=123&&c<=127)?r++:a+=String.fromCharCode(c)}return 0===n&&(a=0===s?a.toUpperCase():a.toLowerCase()),Math.floor(10*Math.random()+1)+a},sliderInputChange:function(t){var e=this;setTimeout((function(){t.option_value||(t.option_value=t.qty_minimum,e.$forceUpdate()),e.getTotal()}),200)},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,o="x"===t?e:3&e|8;return o.toString(16)}))},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:9,e},cycleChange:function(t){this.payCycle=t.billingcycle,this.getTotal()}},created:function(){void 0!==this.cartIndex?this.editPage():this.getData()}},m=f,h=(o("6692"),o("2877")),_=Object(h["a"])(m,i,n,!1,null,"e8422a4e",null);e["default"]=_.exports},"50cc":function(t,e,o){},"52d51":function(t,e,o){"use strict";o.d(e,"j",(function(){return n})),o.d(e,"h",(function(){return s})),o.d(e,"m",(function(){return a})),o.d(e,"g",(function(){return r})),o.d(e,"o",(function(){return c})),o.d(e,"b",(function(){return l})),o.d(e,"c",(function(){return u})),o.d(e,"d",(function(){return d})),o.d(e,"f",(function(){return p})),o.d(e,"a",(function(){return f})),o.d(e,"l",(function(){return m})),o.d(e,"k",(function(){return h})),o.d(e,"e",(function(){return _})),o.d(e,"n",(function(){return b})),o.d(e,"i",(function(){return y}));var i=o("a27e");function n(t){return Object(i["a"])({url:"/cart/index",params:t})}function s(t){return Object(i["a"])({url:"/cart/global_search",params:t})}function a(t){return Object(i["a"])({url:"/cart/set_config",params:t})}function r(t){return Object(i["a"])({url:"/cart/get_total",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/cart/settle",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/cart/add_to_shop",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/cart/edit_to_shop_page",params:t})}function d(t){return Object(i["a"])({url:"/cart/edit_to_shop",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/cart/get_shop_data",params:t})}function f(t){return Object(i["a"])({url:"/cart/add_promo",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/cart/remove_promo",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/cart/remove_product",method:"post",data:t})}function _(){return Object(i["a"])({url:"/get_saler"})}function b(t){return Object(i["a"])({url:"/set_saler",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/cart/modify_product_qty",method:"post",data:t})}},"5a34":function(t,e,o){var i=o("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},6692:function(t,e,o){"use strict";var i=o("50cc"),n=o.n(i);n.a},"7db0":function(t,e,o){"use strict";var i=o("23e7"),n=o("b727").find,s=o("44d2"),a=o("ae40"),r="find",c=!0,l=a(r);r in[]&&Array(1)[r]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},"857a":function(t,e,o){var i=o("1d80"),n=/"/g;t.exports=function(t,e,o,s){var a=String(i(t)),r="<"+e;return""!==o&&(r+=" "+o+'="'+String(s).replace(n,"&quot;")+'"'),r+">"+a+"</"+e+">"}},8728:function(t,e,o){t.exports=o.p+"img/random.7d25fffa.svg"},9911:function(t,e,o){"use strict";var i=o("23e7"),n=o("857a"),s=o("af03");i({target:"String",proto:!0,forced:s("link")},{link:function(t){return n(this,"a","href",t)}})},a623:function(t,e,o){"use strict";var i=o("23e7"),n=o("b727").every,s=o("a640"),a=o("ae40"),r=s("every"),c=a("every");i({target:"Array",proto:!0,forced:!r||!c},{every:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,e,o){var i=o("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},af03:function(t,e,o){var i=o("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b64b:function(t,e,o){var i=o("23e7"),n=o("7b0b"),s=o("df75"),a=o("d039"),r=a((function(){s(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return s(n(t))}})},c740:function(t,e,o){"use strict";var i=o("23e7"),n=o("b727").findIndex,s=o("44d2"),a=o("ae40"),r="findIndex",c=!0,l=a(r);r in[]&&Array(1)[r]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},d81d:function(t,e,o){"use strict";var i=o("23e7"),n=o("b727").map,s=o("1dde"),a=o("ae40"),r=s("map"),c=a("map");i({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);