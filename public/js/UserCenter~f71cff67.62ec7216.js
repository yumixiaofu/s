(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UserCenter~f71cff67"],{"4a8e":function(t,e,s){"use strict";s.d(e,"d",(function(){return r})),s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return i})),s.d(e,"e",(function(){return o})),s.d(e,"c",(function(){return c}));var a=s("a27e");function r(t,e,s,r,n,i,o){return Object(a["a"])({url:"/host/list",params:{type:"list",groupid:t,page:e,limit:s,orderby:r,sort:n,search:i,domain_status:o}})}function n(t,e,s,r,n,i){return Object(a["a"])({url:"/host/list",params:{type:"index",page:t,limit:e,orderby:s,sort:r,search:n,domain_status:i}})}function i(t){return Object(a["a"])({url:"/host/remark",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/host/header",params:{host_id:t}})}function c(t,e,s,r,n,i){return Object(a["a"])({url:"/user_logdcims",params:{hostid:t,page:e,limit:s,orderby:r,sorting:n,keywords:i}})}},"66a7":function(t,e,s){"use strict";var a=s("a5c8"),r=s.n(a);r.a},a033:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user layout_card_main"},[s("div",{staticClass:"breadcrumb"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",[s("i",{staticClass:"iconfont icon-shouye"}),t._v(" 首页 ")])],1)],1),s("div",{staticClass:"grid"},[s("div",{staticClass:"top_wrapper1"},[s("div",{staticClass:"grid-content",staticStyle:{"margin-left":"0"}},[s("div",{staticClass:"user_info"},[s("div",{staticClass:"info_container"},[s("div",{staticClass:"info_container_row"},[s("span",{staticClass:"user-logo",style:{background:t.avatarColor}},[t._v(t._s(t.userInfo.username?t.userInfo.username.charAt(0).toUpperCase():""))]),s("div",{staticClass:"container_row_box"},[s("span",[t._v(t._s(t.userInfo.username))]),s("span",{staticClass:"ml-10 fz-12"},[t._v("ID:"+t._s(t.userInfo.id))]),s("p",[t._v(" "+t._s(""!==t.userInfo.phonenumber?t.userInfo.phonenumber.substring(0,3)+"****"+t.userInfo.phonenumber.substring(t.userInfo.phonenumber.length-4):t.$t("index.noPhoneNumber"))+" ")])])]),s("div",{staticClass:"info_container_pay"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.AuthenticationText,placement:"bottom"}},[s("div",{staticClass:"handler",class:[t.lockTrue?"item_icon_lock_true":"item_icon_lock_false"],on:{click:t.toSecurityCenter}})]),s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.phoneTrue?"手机已绑定":"手机未绑定",placement:"bottom"}},[s("div",{staticClass:"handler",class:[t.phoneTrue?"item_icon_phone_true":"item_icon_phone_false"],on:{click:t.toSecurityCenter}})]),s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.emailTrue?"邮箱已绑定":"邮箱未绑定",placement:"bottom"}},[s("div",{staticClass:"handler",class:[t.emailTrue?"item_icon_email_true":"item_icon_email_false"],on:{click:t.toSecurityCenter}})]),t._e()],1)])]),s("div",{staticClass:"user_work"},[s("div",{staticClass:"user_work_row"},[s("p",{staticClass:"work_row_orange",on:{click:function(e){return t.jumpToTickets()}}},[t._v(t._s(t.userBaseInfo.ticket_count))]),s("span",{on:{click:function(e){return t.jumpToTickets()}}},[t._v(t._s(t.$t("index.pendingWorkOrder")))])]),s("div",{staticClass:"user_work_row"},[s("p",{staticClass:"work_row_blue",on:{click:function(e){return t.jumpToPay()}}},[t._v(t._s(t.userBaseInfo.order_count))]),s("span",{on:{click:function(e){return t.jumpToPay()}}},[t._v(t._s(t.$t("index.unpaidOrder")))])]),s("div",{staticClass:"user_work_row"},[s("p",{staticClass:"work_row_red"},[t._v(t._s(t.userBaseInfo.host))]),s("span",{staticStyle:{cursor:"text"}},[t._v(t._s(t.$t("index.quantity")))])])])])]),s("div",{staticClass:"top_wrapper2"},[s("div",{staticClass:"grid-content",staticStyle:{"min-width":"315px"}},[s("div",{staticClass:"spending"},[s("div",{staticClass:"spending_map",on:{click:t.toCharge}},[s("el-progress",{attrs:{type:"circle",percentage:t.percentage01,width:180,"show-text":!1}}),s("div",{staticClass:"spending_map_text"},[s("div",[s("span",{on:{click:function(e){return t.jumpToPay()}}},[t._v(t._s(t.userBaseInfo.client.credit))])]),s("div",[t._v(t._s(t.$t("index.balance")))])])],1),s("div",{staticClass:"spending_msg"},[s("div",{staticClass:"spending_msg_expenditure"},[s("span",{staticClass:"spending_msg_tips"},[t._v(t._s(t.$t("index.expensesRecord")))]),s("p",[t._v(t._s(t.$t("index.consumption"))+"："+t._s(t.userBaseInfo.intotal))])]),s("div",{staticClass:"spending_msg_income"},[s("span",{staticClass:"spending_msg_tips"},[t._v(t._s(t.$t("index.orderRecord")))]),s("p",[t._v(t._s(t.$t("index.unpaid"))+"："+t._s(t.userBaseInfo.invoice_unpaid))])]),1===t.userBaseInfo.allow_recharge?s("el-button",{attrs:{type:"primary"},on:{click:t.toCharge}},[t._v(" "+t._s(t.$t("index.recharge")))]):t._e()],1)])])]),s("div",{staticClass:"top_wrapper3"},[s("div",{staticClass:"grid-content limit",staticStyle:{"margin-right":"0","overflow-y":"auto"}},[s("div",{staticClass:"product"},[s("div",{staticClass:"product_title"},[t._v(t._s(t.$t("index.productOpened")))]),s("div",{staticClass:"product_container"},t._l(t.userBaseInfo.host_nav,(function(e,a){return s("div",{key:a,staticClass:"product_container_box",class:t.productIndex==a?"container_box_border":"",on:{click:function(s){return t.goServerList(e)}}},[s("span",{staticClass:"group_name"},[s("i",{class:e.fa_icon}),t._v(" "+t._s(e.groupname)+" ")]),s("span",{staticClass:"tac"},[t._v("("+t._s(e.count)+")")])])})),0)])])]),s("div",{staticClass:"bottom_wrapper1"},[s("div",{staticClass:"resource_list"},[s("div",{staticClass:"resource_list_title"},[s("span",[t._v(t._s(t.$t("index.resourceList")))]),s("router-link",{attrs:{to:""}})],1),s("div",{staticClass:"resource_list_all"},[s("el-table",{staticStyle:{width:"100%"},attrs:{height:"310px",data:t.tableData,"row-class-name":"iRowClass","cell-class-name":"iCellClass","header-row-class-name":"iHeaderRowClass","header-cell-class-name":"iHeaderCellClass"},on:{"sort-change":t.sortChange}},[s("el-table-column",{attrs:{prop:"domainstatus",label:t.$t("index.domainstatus"),width:"108",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["Pending"===e.row.domainstatus?s("div",{staticClass:"list_all_indicator list_all_origin"}):"Cancelled"===e.row.domainstatus?s("div",{staticClass:"list_all_indicator list_all_gray"}):"Suspended"===e.row.domainstatus?s("div",{staticClass:"list_all_indicator list_all_red"}):"Active"===e.row.domainstatus?s("div",{staticClass:"list_all_indicator list_all_green"}):"Deleted"===e.row.domainstatus||"Terminated"===e.row.domainstatus?s("div",{staticClass:"list_all_indicator list_all_black"}):t._e(),"Active"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e(),"Suspended"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e(),"Terminated"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e(),"Pending"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e(),"Cancelled"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e(),"Deleted"===e.row.domainstatus?s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.domainstatus_desc))]):t._e()]}}])}),s("el-table-column",{attrs:{prop:"productname",label:t.$t("index.productname"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-link",{on:{click:function(s){return t.toProduct(e.row)}}},[t._v(" "+t._s(e.row.productname+(e.row.domain?"("+e.row.domain+")":"")))])]}}])}),s("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("index.nextduedate"),width:"150",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nextduedate?s("div",[t._v(" "+t._s(t.$moment(1e3*e.row.nextduedate).format("YYYY-MM-DD"))+" ")]):t._e(),s("div",{attrs:{velse:""}})]}}])}),s("el-table-column",{attrs:{prop:"price_desc",label:t.$t("index.price_desc"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["free"!==a.billingcycle&&"ontrial"!==a.billingcycle?s("div",[s("span",[t._v(t._s(a.price_desc))]),t._v(" / "),s("span",[t._v(t._s(a.cycle_desc))])]):s("div",[t._v(t._s(a.cycle_desc))])]}}])}),s("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",width:"150"}})],1),s("div",{staticClass:"tac mt-20"},[s("el-pagination",{attrs:{background:"","current-page":t.currentPage,layout:"prev, pager, next",total:t.total,"page-size":t.limit,"page-sizes":[5,10,25,50],"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])]),s("div",{staticClass:"bottom_wrapper2"},[s("div",{staticClass:"resource_public"},[s("div",{staticClass:"resource_public_title"},[s("span",[t._v(t._s(t.$t("index.announcement")))]),s("router-link",{attrs:{to:"/news"}},[t._v(t._s(t.$t("index.viewMore")))])],1),s("div",{staticClass:"resource_public_all"},[s("ul",{staticClass:"public_all_list"},t._l(t.userBaseInfo.news,(function(e){return s("li",{key:e.id,staticClass:"all_list_group"},[s("span",{staticClass:"group_text_time"},[t._v(t._s(t.$moment(1e3*e.push_time).format("YYYY-MM-DD HH:mm:ss")))]),s("span",{staticClass:"group_text_content"},[s("el-link",{on:{click:function(s){return t.goToNews(e.id)}}},[t._v(t._s(e.title))])],1)])})),0)])])])])])},r=[],n=(s("a9e3"),s("96cf"),s("1da1")),i=s("a773"),o=s("4a8e"),c=s("b8c7"),u={metaInfo:function(){return{title:this.$t("index.pageTitle"),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{AuthenticationText:"",orderby:"domainstatus",sorting:"desc",total:0,currentPage:1,limit:5,screenWidth:document.body.clientWidth,lockTrue:!1,phoneTrue:!1,emailTrue:!1,wechatTrue:!1,userBaseInfo:{client:{credit:""}},userInfo:{phonenumber:"",certifi:{status:-1}},denominator:0,newslist:[],percentage01:0,userDataMoney:{expenditure:"890.00",income:"890.00"},productIndex:null,workOrder:[],productData:[],tableData:[],publicData:[],avatarColor:""}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getuserinfo();case 2:return e.next=4,t.getData();case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{goServerList:function(t){"server"===t.type?this.$router.push({name:"StandaloneServerList",query:{groupid:t.id}}):"clound"===t.type?this.$router.push({name:"CloudServer",query:{groupid:t.id}}):this.$router.push({name:"OtherList",query:{groupid:t.id}})},sortChange:function(t,e,s){"price_desc"===t.prop?this.orderby="firstpaymentamount":this.orderby=t.prop,"ascending"===t.order?this.sorting="asc":this.sorting="desc",this.getData()},getWidth:function(){this.screenWidth=document.body.clientWidth},handleCurrentChange:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.currentPage=t,e.getData();case 2:case"end":return s.stop()}}),s)})))()},handleSizeChange:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.limit=t,e.getData();case 2:case"end":return s.stop()}}),s)})))()},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["e"])();case 2:if(s=e.sent,a=s.data,200===a.status){e.next=7;break}return t.$message.error(a.msg),e.abrupt("return",!1);case 7:return t.userInfo=a.user,0===a.user.certifi.status?t.AuthenticationText="未实名认证":1===a.user.certifi.status?t.AuthenticationText="已认证":2===a.user.certifi.status?t.AuthenticationText="未通过":3!==a.user.certifi.status&&4!==a.user.certifi.status||(t.AuthenticationText="待审核"),e.next=11,Object(o["b"])(t.currentPage,t.limit,t.orderby,t.sorting);case 11:if(r=e.sent,200===r.data.status){e.next=15;break}return t.$message.error(a.msg),e.abrupt("return",!1);case 15:t.tableData=r.data.data.list,t.total=r.data.data.sum,setTimeout((function(){t.getUserInfoL()}),1e3),t.avatarColor=Object(c["a"])(t.userInfo.username);case 19:case"end":return e.stop()}}),e)})))()},toSecurityCenter:function(){this.$router.push({name:"SecurityCenter"})},toCharge:function(){this.$router.push({name:"Finance"})},goToNews:function(t){this.$router.push({name:"NewsDetails",query:{id:t}})},getuserinfo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["d"])();case 2:if(s=e.sent,a=s.data,200===a.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.userBaseInfo=a.data,setTimeout((function(){var e=Number(t.userInfo.credit),s=parseFloat(a.data.invoice_unpaid);if(t.denominator=e+s,t.denominator<=0)t.percentage01=0;else{var r=Number(e/t.denominator);(r<0||r>1||isNaN(r))&&(r=0),t.percentage01=100*r}}),500);case 8:case"end":return e.stop()}}),e)})))()},jumpToTickets:function(){this.$router.push("tickets/ticketlist")},jumpToPay:function(){this.$router.push({name:"Finance",query:{type:"orderList"}})},getUserInfoL:function(){this.lockTrue=1===this.userInfo.certifi.status,this.phoneTrue=Boolean(this.userInfo.phonenumber),this.emailTrue=Boolean(this.userInfo.email),this.wechatTrue=Boolean(this.userInfo.wechat_id)},toProduct:function(t){"cloud"===t.product_type||"dcimcloud"===t.product_type?this.$router.push({name:"ServerInnerPage",query:{id:t.id}}):"server"===t.product_type||"dcim"===t.product_type?this.$router.push({name:"StandaloneServerInner",query:{id:t.id}}):"software"===t.product_type?this.$router.push({path:"/authorize",query:{id:t.id}}):this.$router.push({path:"/other-server/billing",query:{id:t.id}})}}},l=u,d=(s("66a7"),s("2877")),p=Object(d["a"])(l,a,r,!1,null,"5fb52b3e",null);e["default"]=p.exports},a5c8:function(t,e,s){}}]);