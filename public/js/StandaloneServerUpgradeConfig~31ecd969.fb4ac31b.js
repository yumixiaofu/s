(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StandaloneServerUpgradeConfig~31ecd969","OtherControl~987e6011","OtherServerUpgradeConfig~987e6011"],{"1dde":function(t,i,n){var e=n("d039"),a=n("b622"),o=n("2d00"),s=a("species");t.exports=function(t){return o>=51||!e((function(){var i=[],n=i.constructor={};return n[s]=function(){return{foo:1}},1!==i[t](Boolean).foo}))}},2532:function(t,i,n){"use strict";var e=n("23e7"),a=n("5a34"),o=n("1d80"),s=n("ab13");e({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(o(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,i,n){"use strict";var e=n("6eeb"),a=n("825a"),o=n("d039"),s=n("ad6d"),r="toString",c=RegExp.prototype,u=c[r],d=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=r;(d||l)&&e(RegExp.prototype,r,(function(){var t=a(this),i=String(t.source),n=t.flags,e=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+i+"/"+e}),{unsafe:!0})},"3adc":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"box"},[t.configs.length?t._e():n("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(i,e){return n("div",{key:"config"+e,staticClass:"upgrade_configitem_box mb-20"},[i.option_name?n("el-row",[n("el-col",{attrs:{span:8}},[n("div",[t._v(" "+t._s(i.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(i.option_type)?n("span",[t._v(t._s(i.qty_zh)+" "),4===i.option_type||15===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===i.option_type||16===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===i.option_type||17===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===i.option_type||18===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===i.option_type||19===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):n("span",[t._v(t._s(i.suboption_name))]),n("span",{staticClass:"fr"},[t._v(">>>")])])]),n("el-col",{attrs:{span:16}},[1===i.option_type?n("div",{staticClass:"pl-20"},[n("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.changeConfigsData},model:{value:i.subid,callback:function(n){t.$set(i,"subid",n)},expression:"configItem.subid"}},t._l(i.sub,(function(t){return n("el-option",{key:t.id,attrs:{disabled:t.disabled,label:t.show_pricing,value:t.id}})})),1)],1):t._e(),2===i.option_type?n("div",{staticClass:"pl-20"},t._l(i.sub,(function(e,a){return n("el-radio",{key:"Radio"+a,attrs:{disabled:e.disabled,label:e.id},on:{change:t.changeConfigsData},model:{value:i.subid,callback:function(n){t.$set(i,"subid",n)},expression:"configItem.subid"}},[t._v(t._s(e.show_pricing))])})),1):t._e(),3===i.option_type?n("div",{staticClass:"pl-20"},t._l(i.sub,(function(e,a){return n("el-checkbox",{key:"yes/no"+a,attrs:{disabled:e.disabled,"true-label":e.id,"false-label":void 0},on:{change:t.changeConfigsData},model:{value:i.subid,callback:function(n){t.$set(i,"subid",n)},expression:"configItem.subid"}},[t._v(t._s(e.show_pricing)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(i.option_type)?n("div",{staticClass:"quantity_box"},[n("el-slider",{staticClass:"fl quantity_box_slider",attrs:{"format-tooltip":t.formatTooltip,min:i.qty_minimum,max:i.qty_maximum,disabled:i.qty_minimum===i.qty_maximum},on:{change:t.changeConfigsData},model:{value:i.qty,callback:function(n){t.$set(i,"qty",n)},expression:"configItem.qty"}}),n("div",{staticClass:"fr quantity_box_input"},[n("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:i.qty_minimum,max:i.qty_maximum},on:{change:t.changeConfigsData},model:{value:i.qty,callback:function(n){t.$set(i,"qty",n)},expression:"configItem.qty"}}),4===i.option_type||15===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===i.option_type||16===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===i.option_type||17===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===i.option_type||18===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===i.option_type||19===i.option_type?n("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===i.option_type?n("div",{staticClass:"pl-20"},[n("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(n){return t.osSelectChange(i.osName)}},model:{value:i.osName,callback:function(n){t.$set(i,"osName",n)},expression:"configItem.osName"}},t._l(i.sub,(function(t,i){return n("el-option",{key:i,attrs:{label:i,value:i}})})),1),n("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.changeConfigsData},model:{value:i.subid,callback:function(n){t.$set(i,"subid",n)},expression:"configItem.subid"}},t._l(i.osVersionOptions,(function(t){return n("el-option",{key:t.id,attrs:{disabled:i.disabled,label:t.version,value:t.id}})})),1)],1):t._e(),6===i.option_type||8===i.option_type||10===i.option_type||13===i.option_type?n("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(i.sub,(function(e,a){return n("div",{key:a,staticClass:"select_block_item",class:{block_item_active:e.id===i.subid},on:{click:function(n){return t.selectBlockChange(i,e)}}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.show_pricing,placement:"top"}},[n("span",{staticClass:"flexc w-100 h-100"},[t._v(t._s(e.option_name))])])],1)})),0):t._e(),12===i.option_type?n("div",{staticClass:"pl-20",attrs:{span:24}},[n("div",{staticClass:"country_box"},t._l(i.sub,(function(e,a){return n("div",{key:a,staticClass:"country_item fl",class:{country_item_active:e.active,country_item_noarea:e.noarea},on:{click:function(n){return t.cityChange(i,e,t.configs)}}},[n("div",{staticClass:"country_item_innerbox"},[n("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+e.country_code+".png",alt:""}}),n("div",{staticClass:"country_item_name"},[t._v(t._s(e.city))])]),e.noarea?t._e():n("div",[n("el-select",{attrs:{size:"mini",disabled:!e.active||1===e.area.length&&""===e.area[0].area},model:{value:e.areaId,callback:function(i){t.$set(e,"areaId",i)},expression:"cityItem.areaId"}},t._l(e.area,(function(t,i){return n("el-option",{key:i,attrs:{disabled:e.disabled,label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1):t._e()],1)})),t.configs.length?n("div",{staticClass:"tar"},[n("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},a=[],o=(n("4160"),n("caad"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("5319"),n("4c53"),n("159b"),n("96cf"),n("1da1")),s=n("27fd"),r=n("ecca"),c={mixins:[r["a"]],data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(s["M"])({hid:t.id,currencyid:void 0});case 2:n=i.sent,e=n.data,200!==e.status||((e.data.host||[]).forEach((function(i){if(i.id=i.oid,i.disabled=!1,(i.sub||[]).forEach((function(t){t.disabled=!1})),5===i.option_type)for(var n in i.sub)i.sub[n].osName=n;else 12===i.option_type?(i.sub=t.objToArr(i.sub,"dataCenter"),(i.sub||[]).forEach((function(t){var n=t.area.map((function(t){return t.id}));n.includes(i.subid)?(t.active=!0,t.areaId=i.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(i){""===i.area?i.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(i.option_type)&&(i.qty_zh=i.qty)})),t.originalData={option:e.data.host,link:e.data.links.map((function(t){for(var i in t.sub_id){var n=t.sub_id[i];n.qty_minimum=parseInt(n.qty_minimum),n.qty_maximum=parseInt(n.qty_maximum)}return t}))},t.configs=e.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return i.stop()}}),i)})))()},changeConfigsData:function(){this.nextDisable=!1,this.clearOption()},objToArr:function(t,i){var n=[];for(var e in t)"dataCenter"===i?(t[e].id=this.guid(),t[e].active=!1,t[e].city=e,t[e].areaId=void 0):t[e].osName=e,n.push(t[e]);return n},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=16*Math.random()|0,n="x"===t?i:3&i|8;return n.toString(16)}))},osSelectChange:function(t,i){var n=this;(this.configs||[]).forEach((function(e){if(5!==e.option_type)return!1;var a=function(a){t===a&&(e.subid=e.sub[a].child[0].id,e.osVersionOptions=e.sub[a].child),i?(e.sub[a].child||[]).forEach((function(t){e.subid===t.id&&(e.osName=a,e.osVersionOptions=e.sub[a].child)})):n.nextDisable=!1};for(var o in e.sub)a(o)}))},selectBlockChange:function(t,i){t.subid=i.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,i,n){var e=this;this.nextDisable=!1,(n||[]).forEach((function(n){12===n.option_type&&t.oid===n.oid&&(n.sub||[]).forEach((function(t){i.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,e.areaChange(n,t),t.active=!0),e.$forceUpdate()}))}))},areaChange:function(t,i){t.subid=i.areaId},nextHandleClick:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(i){[4,7,9,11,14,15,16,17,18,19].includes(i.option_type)?t.upgradeSubmitData.configoption[i.oid]=i.qty:t.upgradeSubmitData.configoption[i.oid]=i.subid})),i.next=4,Object(s["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:n=i.sent,e=n.data,200!==e.status?t.$message.error(e.msg):t.$emit("nextClick");case 7:case"end":return i.stop()}}),i)})))()},formatTooltip:function(t){var i=String(t);return(this.configs||[]).forEach((function(n){[4,7,9,11,14,15,16,17,18,19].includes(n.option_type)&&(n.sub||[]).forEach((function(n){n.qty_minimum<=t&&n.qty_maximum>=t&&(i=n.show_pricing)}))})),t+i}},created:function(){this.getData()}},u=c,d=(n("9a9c"),n("2877")),l=Object(d["a"])(u,e,a,!1,null,"36ce3681",null);i["default"]=l.exports},"44e7":function(t,i,n){var e=n("861d"),a=n("c6b6"),o=n("b622"),s=o("match");t.exports=function(t){var i;return e(t)&&(void 0!==(i=t[s])?!!i:"RegExp"==a(t))}},"4c53":function(t,i,n){"use strict";var e=n("23e7"),a=n("857a"),o=n("af03");e({target:"String",proto:!0,forced:o("sub")},{sub:function(){return a(this,"sub","","")}})},56927:function(t,i,n){},"5a34":function(t,i,n){var e=n("44e7");t.exports=function(t){if(e(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7db0":function(t,i,n){"use strict";var e=n("23e7"),a=n("b727").find,o=n("44d2"),s=n("ae40"),r="find",c=!0,u=s(r);r in[]&&Array(1)[r]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},"857a":function(t,i,n){var e=n("1d80"),a=/"/g;t.exports=function(t,i,n,o){var s=String(e(t)),r="<"+i;return""!==n&&(r+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),r+">"+s+"</"+i+">"}},9911:function(t,i,n){"use strict";var e=n("23e7"),a=n("857a"),o=n("af03");e({target:"String",proto:!0,forced:o("link")},{link:function(t){return a(this,"a","href",t)}})},"9a9c":function(t,i,n){"use strict";var e=n("56927"),a=n.n(e);a.a},a623:function(t,i,n){"use strict";var e=n("23e7"),a=n("b727").every,o=n("a640"),s=n("ae40"),r=o("every"),c=s("every");e({target:"Array",proto:!0,forced:!r||!c},{every:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,i,n){var e=n("b622"),a=e("match");t.exports=function(t){var i=/./;try{"/./"[t](i)}catch(n){try{return i[a]=!1,"/./"[t](i)}catch(e){}}return!1}},af03:function(t,i,n){var e=n("d039");t.exports=function(t){return e((function(){var i=""[t]('"');return i!==i.toLowerCase()||i.split('"').length>3}))}},b64b:function(t,i,n){var e=n("23e7"),a=n("7b0b"),o=n("df75"),s=n("d039"),r=s((function(){o(1)}));e({target:"Object",stat:!0,forced:r},{keys:function(t){return o(a(t))}})},c740:function(t,i,n){"use strict";var e=n("23e7"),a=n("b727").findIndex,o=n("44d2"),s=n("ae40"),r="findIndex",c=!0,u=s(r);r in[]&&Array(1)[r]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},d81d:function(t,i,n){"use strict";var e=n("23e7"),a=n("b727").map,o=n("1dde"),s=n("ae40"),r=o("map"),c=s("map");e({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},ecca:function(t,i,n){"use strict";n("a623"),n("7db0"),n("c740"),n("4160"),n("caad"),n("d81d"),n("b64b"),n("d3b7"),n("25f0"),n("2532"),n("9911"),n("4c53"),n("159b");var e=n("53ca"),a=[4,7,9,11,14,15,16,17,18,19];i["a"]={data:function(){return{originalData:{}}},watch:{configs:{handler:function(t){this.matchingCondition(),this.clearOptionValue()},deep:!0,immediate:!0}},methods:{clearOption:function(){(this.configs||[]).forEach((function(t){"object"===Object(e["a"])(t)&&(t.disabled=!1,(t.sub||[]).forEach((function(t){t.disabled=!1})))}))},clearOptionValue:function(){var t=this;this.$nextTick((function(){(t.configs||[]).forEach((function(i){if(a.includes(i.option_type)){if(!i.disabled){var n=(t.originalData.option||[]).find((function(t){return t.id===i.id}));i.sub=n.sub}i.qty_maximum=Math.max.apply(Math,i.sub.map((function(t){return t.qty_maximum}))),i.qty_minimum=Math.min.apply(Math,i.sub.map((function(t){return t.qty_minimum})))}else(i.sub||[]).forEach((function(t){if(t.disabled&&(i.subid===t.id||void 0===i.subid)){var n=i.sub.findIndex((function(t){return!1===t.disabled}));i.subid=-1!==n?i.sub[n].id:void 0}}))}))}))},matchingCondition:function(){var t=this;(this.configs||[]).forEach((function(i){"object"===Object(e["a"])(i)&&(t.originalData.link||[]).forEach((function(n){if(n.config_id===i.id){var e=!1;switch(n.relation){case"seq":if(a.includes(i.option_type))for(var o in n.sub_id){var s=n.sub_id[o];i.qty<=s.qty_maximum&&i.qty>=s.qty_minimum&&(e=!0)}else Object.keys(n.sub_id).includes((i.subid||"").toString())&&(e=!0);break;case"sneq":a.includes(i.option_type)?e=Object.keys(n.sub_id).every((function(t){var e=n.sub_id[t];if(i.qty>e.qty_maximum||i.qty<e.qty_minimum)return!0})):Object.keys(n.sub_id).includes((i.subid||"").toString())||(e=!0);break;default:break}e&&(n.result||[]).forEach((function(i){t.changeOptions(i)}))}}))}))},changeOptions:function(t){if(!t.sub_id)return!1;(this.configs||[]).forEach((function(i){if(i.id===t.config_id)switch(t.relation){case"seq":(i.sub||[]).forEach((function(n){a.includes(i.option_type)&&(n.qty_maximum=t.sub_id[n.id].qty_maximum,n.qty_minimum=t.sub_id[n.id].qty_minimum),Object.keys(t.sub_id).includes((n.id||"").toString())||(n.disabled=!0)}));break;case"sneq":(i.sub||[]).forEach((function(i){Object.keys(t.sub_id).includes((i.id||"").toString())&&(i.disabled=!0)}));break;default:break}}))}}}}}]);