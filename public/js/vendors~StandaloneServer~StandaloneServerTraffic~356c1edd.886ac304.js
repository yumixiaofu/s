(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors~StandaloneServer~StandaloneServerTraffic~356c1edd"],{"0abd":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("fe44");(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="pie",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=r["a"].getDefaultOptions})(a["a"])},1138:function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("a5f3"),s=i("9ba2"),l=i("80de"),p=i("843c"),c=8;function h(t,e){var i;return Object(n["each"])(t,(function(t){var o=t;e>=o.from&&e<o.to&&(i=o.color)})),i}var u,f=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(n["deepMix"])(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.coordinate,o=e.elements;this.coord=i,Object(n["each"])(o,(function(e){var i=e.shape,o=t.getPosition(i),a=t.getValue(i),r=t.getTextBaseline(),s=[];Object(n["each"])(o,(function(e,o){var l=1===o?t.options.topStyle:t.options.bottomStyle,p=t.getTextColor(i,o);"inner"===t.options.position&&t.options.adjustColor&&"black"!==p&&(l.stroke=null);var c=t.options.formatter,h=c?c(a[o]):a[o],u=t.container.addShape("text",{attrs:Object(n["deepMix"])({},l,{x:e.x,y:e.y,text:h,fill:p,textAlign:"center",textBaseline:r[o]}),name:"label"});s.push(u),t.doAnimation(u)})),i.set("labelShapes",s),t.adjustPosition(s[0],s[1],i)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getShapeBbox=function(t){var e=this,i=[];Object(n["each"])(t.get("origin").points,(function(t){i.push(e.coord.convertPoint(t))}));var o=new p["a"](i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y));return o},t.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{position:"outer",offsetX:0,offsetY:c,style:Object(n["clone"])(e),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,i,o=this.getShapeBbox(t),n=o.minX,a=o.minY,r=o.maxY,s=o.width,l=this.options.offsetY,p=n+s/2;return"outer"===this.options.position?(e=a-l,i=r+l):(e=a+l,i=r-l),[{x:p,y:i},{x:p,y:e}]},t.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},t.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),o=t.attr("opacity")?t.attr("opacity"):1,n=Object(l["c"])(i),a=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/o,r=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=h(r,a);return s}var p=1===e?this.options.topStyle.fill:this.options.bottomStyle.fill;return p},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},t.prototype.adjustPosition=function(t,e,i){var o=i.get("origin"),n=o.y[1],a=o.y[0],r=i.getBBox(),s=r.height,l=s,p=this.view.coordinateBBox,h=[t.getBBox(),e.getBBox()],u=t.attr("y"),f=e.attr("y");if(this.options.adjustPosition&&"inner"===this.options.position){var d=h[0].height+h[1].height,y=h[1].maxY-h[0].minY>2,b=d>l;(y||b)&&(f=n-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),u=a+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),h[0]=t.getBBox(),h[1]=e.getBBox())}h[0].maxY>p.maxY-c&&(u=p.maxY-c/2,t.attr("textBaseline","bottom")),t.attr("y",u),e.attr("y",f),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(n["find"])(this.view.geometries,(function(t){return"interval"===t.type}))},t}(),d=f,y=i("f999");function b(t,e){var i=t.getBBox(),o=i.minY+i.height/2;t.setClip({type:"rect",attrs:{x:i.minX,y:o,width:i.width,height:0}});var n=t.get("clipShape");n.animate({height:i.height,y:i.minY},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function v(t){u=t}function g(t,e){var i=x(t).attr("path"),o=Object(n["clone"])(t.attr("path"));t.attr("path",i),t.animate({path:o},e.duration,e.easing,e.callback,100)}function x(t){var e,i=t.id;return Object(n["each"])(u,(function(t){t.id===i&&(e=t)})),e}b.animationName="clipInFromCenterVertical",g.animationName="updateFromCenterVertical",Object(y["v"])("clipInFromCenterVertical",b),Object(y["v"])("updateFromCenterVertical",g);var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rangeColumn",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])(t.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],i=this.view.geometries;Object(n["each"])(i,(function(t){var i=t.elements;Object(n["each"])(i,(function(t){e.push(t.shape)}))})),v(e),t.prototype.afterRender.call(this)},e.prototype.animation=function(){t.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new d(Object(o["__assign"])({view:this.view,plot:this},this.options.label));t.render()}},e}(s["a"]),O=m;Object(r["b"])("rangeColumn",m);(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="rangeColumn",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=O.getDefaultOptions})(a["a"])},"1bab":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("47ce");(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="percentStackedColumn",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=r["a"].getDefaultOptions})(a["a"])},"337a":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("e66b");(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="percentStackedArea",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=r["a"].getDefaultOptions})(a["a"])},"440c":function(t,e,i){"use strict";var o={};i.r(o),i.d(o,"EVENT_MAP",(function(){return c["b"]})),i.d(o,"onEvent",(function(){return c["e"]}));var n=i("9ab4"),a=i("8937"),r=i("a5f3"),s=i("25ee"),l=i("c34d"),p=i("7135"),c=i("61fd"),h={rose:"interval"},u=Object(c["d"])(h);Object(a["assign"])(c["b"],u);var f={rose:"interval"},d={rose:"column"},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}return Object(n["__extends"])(e,t),e.getDefaultOptions=function(){return Object(a["deepMix"])({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getOptions=function(e){var i=t.prototype.getOptions.call(this,e),o=e.sectorStyle,n=e.categoryField,r=e.radiusField;return Object(a["deepMix"])({},i,{columnStyle:o,xField:n,yField:r})},e.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},e.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},e.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},e.prototype.addGeometry=function(){var t=this.options,e=Object(p["a"])("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},e.prototype.adjustRoseAdjust=function(){},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},e.prototype.animation=function(){t.prototype.animation.call(this);var e=this.options;!1===e.animation&&(this.rose.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,o)},e.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=Object(a["deepMix"])({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField],o=Object(l["a"])("label",Object(n["__assign"])({plot:this,labelType:"polar",fields:i},e));return o},e.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var i=t.offset,o=t.type,n=t.content;"inner"===o?t.offset=i<0?i:-10:"outer"===o&&(t.offset=i>=0?i:10),n||(t.content=function(t,i){return""+i._origin[e]})}},e}(s["a"]);e["a"]=y;Object(r["b"])("rose",y)},"47ce":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("a5f3"),r=i("f17a"),s=i("88a0"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedColumn",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])({},t.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},e.prototype.processData=function(t){var e=this.options,i=e.xField,o=e.yField;return Object(s["a"])(t||[],i,[o])},e.prototype.scale=function(){var e={},i=this.options.yField;e[i]={tickCount:6,alias:i+" (%)",min:0,max:1,formatter:function(t){var e=(100*t).toFixed(1);return e+"%"}},this.options.meta=e,t.prototype.scale.call(this)},e}(r["a"]);e["a"]=l,Object(a["b"])("percentStackedColumn",l)},"6c47":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("a5f3"),r=i("58d4"),s=i("88a0"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedBar",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},e.prototype.processData=function(e){var i=this.options,o=i.xField,n=i.yField,a=t.prototype.processData.call(this,e);return Object(s["a"])(a,n,[o])},e.prototype.scale=function(){var e={},i=this.options.xField;e[i]={tickCount:6,alias:i+" (%)",min:0,max:1,formatter:function(t){var e=(100*t).toFixed(1);return e+"%"}},this.options.meta=e,t.prototype.scale.call(this)},e}(r["a"]);e["a"]=l,Object(a["b"])("percentStackedBar",l)},8347:function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("a5f3"),s=i("e1d3"),l=i("80de"),p=i("843c"),c=8;function h(t,e){var i;return Object(n["each"])(t,(function(t){var o=t;e>=o.from&&e<o.to&&(i=o.color)})),i}var u,f=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(n["deepMix"])(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),i=e.elements,o=e.coordinate;this.coord=o,Object(n["each"])(i,(function(e){var i=e.shape,o=t.getPosition(i),a=t.getValue(i),r=t.getTextAlign(),s=[];Object(n["each"])(o,(function(e,o){var l=0===o?t.options.leftStyle:t.options.rightStyle,p=t.getTextColor(i,o);"inner"===t.options.position&&t.options.adjustColor&&"black"!==p&&(l.stroke=null);var c=t.options.formatter,h=c?c(a[o]):a[o],u=t.container.addShape("text",{attrs:Object(n["deepMix"])({},l,{x:e.x,y:e.y,text:h,fill:p,textAlign:r[o],textBaseline:"middle"}),name:"label"});s.push(u),t.doAnimation(u)})),i.set("labelShapes",s),t.adjustPosition(s[0],s[1],i)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getShapeBbox=function(t){var e=this,i=[];Object(n["each"])(t.get("origin").points,(function(t){i.push(e.coord.convertPoint(t))}));var o=new p["a"](i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y));return o},t.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{position:"outer",offsetX:c,offsetY:0,style:Object(n["clone"])(e),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,i,o=this.getShapeBbox(t),n=o.minX,a=o.maxX,r=o.minY,s=o.height,l=this.options,p=l.offsetX,c=l.offsetY,h=r+s/2+c;return"outer"===this.options.position?(e=n-p,i=a+p):(e=n+p,i=a-p),[{x:e,y:h},{x:i,y:h}]},t.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},t.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),o=t.attr("opacity")?t.attr("opacity"):1,n=Object(l["c"])(i),a=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/o,r=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=h(r,a);return s}var p=0===e?this.options.leftStyle.fill:this.options.rightStyle.fill;return p},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},t.prototype.adjustPosition=function(t,e,i){var o=i.get("origin"),n=o.x[0],a=o.x[1],r=Math.abs(a-n),s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],p=t.attr("x"),h=e.attr("x");if(this.options.adjustPosition&&"inner"===this.options.position){var u=l[0].width+l[1].width,f=l[0].maxX-l[1].minX>2,d=u>r;(f||d)&&(p=n-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),l[0]=t.getBBox(),h=a+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),l[1]=e.getBBox())}l[0].minX<s.minX&&(p=s.minX+c,t.attr("textAlign","left")),t.attr("x",p),e.attr("x",h),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(n["find"])(this.view.geometries,(function(t){return"interval"===t.type}))},t}(),d=f,y=i("f999");function b(t,e){var i=t.getBBox(),o=i.minX+i.width/2;t.setClip({type:"rect",attrs:{x:o,y:i.minY,width:0,height:i.height}});var n=t.get("clipShape");n.animate({width:i.width,x:i.minX},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function v(t){u=t}function g(t,e){var i=x(t).attr("path"),o=Object(n["clone"])(t.attr("path"));t.attr("path",i),t.animate({path:o},e.duration,e.easing,e.callback,100)}function x(t){var e,i=t.id;return Object(n["each"])(u,(function(t){t.id===i&&(e=t)})),e}b.animationName="clipInFromCenter",g.animationName="updateFromCenter",Object(y["v"])("clipInFromCenter",b),Object(y["v"])("updateFromCenter",g);var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rangeBar",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])(t.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,offset:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,offset:12}}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],i=this.view.geometries;Object(n["each"])(i,(function(t){var i=t.elements;Object(n["each"])(i,(function(t){e.push(t.shape)}))})),v(e),t.prototype.afterRender.call(this)},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new d(Object(o["__assign"])({view:this.view,plot:this},this.options.label));t.render()}},e.prototype.animation=function(){t.prototype.animation.call(this),this.bar.animate={appear:{animation:"clipInFromCenter",duration:600},update:{animation:"updateFromCenter",duration:600}}},e}(s["a"]),O=m;Object(r["b"])("rangeBar",m);(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="rangeBar",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=O.getDefaultOptions})(a["a"])},"90b5":function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("6c47");(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="percentStackedBar",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=r["a"].getDefaultOptions})(a["a"])},b0e2:function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("a5f3"),s=i("3632"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="meterGauge",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])({},t.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},e}(s["a"]),p=l;Object(r["b"])("meterGauge",l);(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="meterGauge",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=p.getDefaultOptions})(a["a"])},cbbe:function(t,e,i){"use strict";var o={};i.r(o),i.d(o,"EVENT_MAP",(function(){return u["b"]})),i.d(o,"onEvent",(function(){return u["e"]}));var n=i("9ab4"),a=i("8937"),r=i("24b8"),s=i("a5f3"),l=i("25ee"),p=i("c34d"),c=i("7135"),h=i("fc76"),u=i("61fd"),f={area:"area",line:"line",point:"point"},d=Object(u["d"])(f);Object(a["assign"])(u["b"],d);var y=i("b7cb"),b=function(t){var e=t.opacity||1;return{opacity:e}},v=function(t){var e=t.opacity||1;return{opacity:.5*e}},g=function(t){var e=t.opacity||1;return{opacity:e}},x=function(t){var e=t.opacity||1;return{opacity:.5*e}},m=function(t){var e=t.lineWidth||1;return{lineWidth:e+2}},O=function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},j=function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}},w=function(t){var e=t.opacity||t.fillOpacity||1;return{opacity:.5*e}};Object(y["d"])("radar",{areaStyle:{normal:{},active:b,disable:v,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:g,disable:x,selected:m},pointStyle:{normal:{},active:O,disable:w,selected:j}});var _={area:"area",line:"line",point:"point"},B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return Object(n["__extends"])(e,t),e.getDefaultOptions=function(){return Object(a["deepMix"])({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},e.prototype.init=function(){var e=this.options;e.xField=e.angleField,e.yField=e.radiusField,t.prototype.init.call(this)},e.prototype.geometryParser=function(t,e){return _[e]},e.prototype.scale=function(){var e=this.options,i={};i[e.angleField]={},Object(a["has"])(e,"angleAxis")&&Object(h["a"])(i[e.angleField],e.angleAxis),i[e.radiusField]={},Object(a["has"])(e,"radiusAxis")&&Object(h["a"])(i[e.radiusField],e.radiusAxis),this.setConfig("scales",i),t.prototype.scale.call(this)},e.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},e.prototype.axis=function(){var t=this.options,e=Object(p["a"])("axis",{plot:this,dim:"angle"}),i=Object(p["a"])("axis",{plot:this,dim:"radius"}),o={};o[t.angleField]=e,o[t.radiusField]=i,this.setConfig("axes",o)},e.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Object(c["a"])("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var i=Object(c["a"])("line","guide",{plot:this});this.setConfig("geometry",i),this.line=i}if(t.point&&t.point.visible){var o=Object(c["a"])("point","guide",{plot:this});this.setConfig("geometry",o),this.point=o}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},e.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=Object(p["a"])("label",Object(n["__assign"])({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},e.prototype.annotation=function(){},e.prototype.animation=function(){t.prototype.animation.call(this);var e=this.options;!1===e.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,o)},e}(l["a"]),M=B;Object(s["b"])("radar",B);(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(n["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(a["deepMix"])({},e);i.type="radar",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=M.getDefaultOptions})(r["a"])},cf85:function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("24b8"),r=i("440c");(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o["__extends"])(e,t),e.prototype.createLayers=function(e){var i=Object(n["deepMix"])({},e);i.type="rose",t.prototype.createLayers.call(this,i)},e.getDefaultOptions=r["a"].getDefaultOptions})(a["a"])},e66b:function(t,e,i){"use strict";var o=i("9ab4"),n=i("8937"),a=i("a5f3"),r=i("5893"),s=i("88a0"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedArea",e}return Object(o["__extends"])(e,t),e.getDefaultOptions=function(){return Object(n["deepMix"])({},t.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},e.prototype.processData=function(t){var e=this.options,i=e.xField,o=e.yField;return Object(s["a"])(t,i,[o])},e.prototype.scale=function(){var e={},i=this.options.yField;e[this.options.yField]={tickCount:6,alias:i+" (%)",min:0,max:1,formatter:function(t){var e=(100*t).toFixed(1);return e+"%"}},this.options.meta=Object(n["deepMix"])({},e,this.options.meta),t.prototype.scale.call(this)},e}(r["a"]);e["a"]=l,Object(a["b"])("percentStackedArea",l)},fe44:function(t,e,i){"use strict";var o={};i.r(o),i.d(o,"EVENT_MAP",(function(){return r["b"]})),i.d(o,"onEvent",(function(){return r["e"]}));var n=i("9ab4"),a=i("8937"),r=i("61fd"),s={pie:"interval"},l=Object(r["d"])(s);Object(a["assign"])(r["b"],l);var p=i("25ee"),c=i("7135"),h=i("e897");function u(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}function f(t,e,i){void 0===i&&(i=0);var o=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),n=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return o*n}function d(t,e,i){void 0===i&&(i=0);var o=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),n=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return o&&t.x<e.x&&(o=-o),n&&t.y<e.y&&(n=-n),t.x===e.x&&t.width===e.width&&(o=e.width),t.y===e.y&&t.height===e.height&&(n=e.height),{xOverlap:o,yOverlap:n}}var y=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i};function b(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)}function v(t){var e=Math.PI/2,i=t;return(i>e||i<-e)&&(i+=Math.PI),i}var g=document.createElement("canvas"),x=g.getContext("2d"),m=Object(a["memoize"])((function(t,e){void 0===e&&(e={});var i=e.fontSize,o=e.fontFamily,n=e.fontWeight,r=e.fontStyle,s=e.fontVariant;return x.font=[r,s,n,i+"px",o].join(" "),x.measureText(Object(a["isString"])(t)?t:"").width}),(function(t,e){return e?Object(n["__spreadArrays"])([t],Object(a["values"])(e)).join(""):t})),O=function(t,e,i){var o,n=16,r=m("...",i);o=Object(a["isString"])(t)?t:Object(a["toString"])(t);var s,l,p=e,c=[];if(m(t,i)<=e)return t;while(1){if(s=o.substr(0,n),l=m(s,i),l+r>p&&l>p)break;if(c.push(s),p-=l,o=o.substr(n),!o)return c.join("")}while(1){if(s=o.substr(0,1),l=m(s,i),l+r>p)break;if(c.push(s),p-=l,o=o.substr(1),!o)return c.join("")}return c.join("")+"..."};function j(t){var e=Number(t.endsWith("%")?t.slice(0,-1):t);return e/100}function w(t,e){var i=t.getBBox();e.y<=i.y&&e.y+e.height>=i.y+i.height||t.get("parent").set("visible",!1)}var _=function(){function t(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var i=Object(a["deepMix"])(this.getDefaultOptions(),e,{});this.adjustOption(i),this.options=i,this.init()}return t.prototype.adjustOverlap=function(t,e){for(var i=1;i<t.length;i++)for(var o=t[i],n=0,a=i-1;a>=0;a--){var r=t[a],s=r.getBBox(),l=o.getBBox();if(r.get("parent").get("visible")&&(n=f(s,l),!y(n,0))){o.get("parent").set("visible",!1);break}}t.forEach((function(t){return w(t,e)}))},t.prototype.adjustItem=function(t){},t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getFilteredSum=function(){var t=this.plot.options.angleField,e=this.plot.view.filteredData||[];return e.reduce((function(e,i){return e+i[t]}),0)},t.prototype.drawTexts=function(){var t=this,e=this.options,i=e.style,o=e.formatter,n=e.autoRotate,r=e.offsetX,s=e.offsetY,l=e.adjustPosition,p=e.allowOverlap,c=this.getItems(),h=[];c.map((function(e,n){var l=Object(a["deepMix"])({},e,i),p=t.getFilteredSum(),c=t.plot.options.angleField,u=e.origin[c]/p,f=o?o(e.name,{_origin:e.origin,percent:u},n):e.name,d=t.container.addGroup({name:"itemGroup",index:n}),y=d.addShape("text",{attrs:Object(a["deepMix"])({},l,{x:e.x+r,y:e.y+s,text:f})});y.set("id","text-"+e.name+"-"+n),h.push(y)})),h.forEach((function(e){var i=t.coordinateBBox;t.adjustText(e,i)})),l&&this.layout(h,c,this.coordinateBBox),p||this.adjustOverlap(h,this.coordinateBBox),h.forEach((function(e,i){n&&t.rotateLabel(e,v(c[i].angle))}))},t.prototype.adjustText=function(t,e){var i=t.getBBox(),o=i.width,n=0;if(i.maxX>e.maxX?o=e.maxX-i.minX:i.minX<e.minX&&(o=i.maxX-e.minX),"left"===t.attr("textAlign")?t.attr("x",Math.max(i.x-n,0)):"right"===t.attr("textAlign")&&t.attr("x",Math.max(i.maxX-n,0)),o!==i.width){var a={};["fontSize","fontFamily","fontWeight"].forEach((function(e){a[e]=t.attr(e)}));var r=t.attr("text").split("\n").map((function(t){return O(t,o,a)}));t.attr("text",r.join("\n"))}},t.prototype.drawLines=function(){var t=this;if(this.options.line.visible){var e=this.container.get("children"),i=this.getCoordinate().center;e.forEach((function(e,o){var a=e.get("children")[0],r=t.arcPoints[o],s=r.x<i.x,l=t.options.offset>4?4:0,p=t.getLinePath(a,r,l),c=t.options.line;e.addShape("path",{attrs:Object(n["__assign"])({path:p,stroke:r.color},c)}),a.attr("x",a.attr("x")+(s?-l:l))}))}},t.prototype.getLinePath=function(t,e,i){var o=!!this.options.line&&this.options.line.smooth,n=e.angle,a=this.getCoordinate(),r=a.center,s=a.radius,l=u(r,n,s+i);i<4&&(l=e);var p=e.x<r.x,c=t.getBBox(),h={x:p?c.maxX:c.minX,y:c.y+c.height/2},f=["C",h.x+(p?1:-1)*(i<4?i/2:4),h.y,2*l.x-e.x,2*l.y-e.y,l.x,l.y],d=["L",l.x,l.y],y=o?f:d,b=["M",h.x,h.y].concat(y).concat("L",e.x,e.y);return b.join(",")},t.prototype.getGeometry=function(){return this.plot.view.geometries[0]},t.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate,e=t.getCenter(),i=t.getRadius(),o=t.startAngle;return{center:e,radius:i,startAngle:o}},t.prototype.adjustOption=function(t){var e=t.offset,i=this.getCoordinate().radius;Object(a["isString"])(e)&&(e=i*j(e)),t.offset=e},t.prototype.rotateLabel=function(t,e){var i=t.attr("x"),o=t.attr("y"),n=Object(h["b"])(t.getMatrix(),[["t",-i,-o],["r",e],["t",i,o]]);t.setMatrix(n)},t.prototype.getItems=function(){var t=this,e=this.options.offset,i=this.getCoordinate(),o=i.center,a=i.radius,r=this.arcPoints.map((function(i){var r=u(o,i.angle,a+e),s=Object(n["__assign"])(Object(n["__assign"])({},i),r);return t.adjustItem(s),s}));return r},t.prototype.initArcPoints=function(){var t=this,e=this.plot.options.angleField,i=this.getGeometry().elements,o=this.getCoordinate(),n=o.center,a=o.radius,r=this.getCoordinate().startAngle,s=this.getGeometry().scales[e],l=i.map((function(i){var o=i.shape.get("origin"),l=o.color,p=o.data[0]||o.data,c=r+2*Math.PI*s.scale(p[e]),h=(r+c)/2,f=u(n,h,a);r=c;var d=""+p[e],y=f.x>n.x?"left":"right";return{x:f.x,y:f.y,color:l,name:d,origin:p,angle:b(t.getGeometry().coordinate,f),textAlign:y}}));this.arcPoints=l},t}(),B=_,M=i("9bc0");var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset>0&&(e.offset=0)},e.prototype.adjustItem=function(t){t.textAlign="middle"},e.prototype.drawLines=function(){},e.prototype.layout=function(t,e){var i=this;t.forEach((function(o,n){n>0&&Object(a["each"])(t.slice(0,n),(function(t){i.resolveCollision(o,t,e[n])}))}))},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:Object(n["__assign"])(Object(n["__assign"])({},e),{textAlign:"center",textBaseline:"middle"})}},e.prototype.resolveCollision=function(t,e,i){var o=this.getCoordinate().center,n=i.angle,r=t.getBBox(),s=e.getBBox(),l={x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2},p=Object(a["clone"])(l),c=Object(a["clone"])(l);if(e.get("id")!==t.get("id")){var h=d(r,s),u=h.xOverlap,f=h.yOverlap;if(u&&(p.x=l.x+u,p.y=l.y+Math.tan(n)*u),f){var y=f;y=l.y<o.y?y<0?y:s.minY-r.maxY:y>0?y:s.maxY-r.minY,c.y=l.y+y,c.x=l.x+y/Math.tan(n)}var b=Object(M["b"])(l,p),v=Object(M["b"])(l,c),g=b<v?p:c;t.attr("x",g.x),t.attr("y",g.y)}},e}(B),F=C,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(n["__assign"])(Object(n["__assign"])({},e),{textBaseline:"middle"})}},e.prototype.layout=function(t,e,i){var o=this,n=this.getCoordinate().center,r=Object(a["filter"])(t,(function(t){return t.attr("x")<=n.x})),s=Object(a["filter"])(t,(function(t){return t.attr("x")>n.x}));[s,r].forEach((function(t,e){o._antiCollision(t,!e,i)}))},e.prototype._antiCollision=function(t,e,i){var o=this,n=this.getLabelHeight(t),r=this.getCoordinate(),s=r.center,l=r.radius,p=this.options.offset,c=l+p,h=Math.min(i.height,Math.max(2*c+2*n,t.length*n)),f=Math.floor(h/n);this.options.allowOverlap||t.slice(f).forEach((function(t){t.get("parent").set("visible",!1)})),t.splice(f,t.length-f),t.sort((function(t,e){return t.getBBox().y-e.getBBox().y}));var d,y=!0,b=s.y+h/2,v=s.y-h/2,g=t.map((function(t){var e=t.getBBox();return e.maxY>b&&(b=Math.min(i.maxY,e.maxY)),e.minY<v&&(v=Math.max(i.minY,e.minY)),{text:t.attr("text"),size:n,pos:e.y,targets:[]}})),x=0;while(x<g.length)x===g.length-1?g[x].targets[0]=b:g[x].targets[0]=g[x+1].pos-g[x+1].size/2,x++;while(y){g.forEach((function(t){var e=Object(a["last"])(t.targets);t.pos=Math.max(v,Math.min(t.pos,e-t.size))})),y=!1,d=g.length;while(d--)if(d>0){var m=g[d-1],O=g[d];if(m.pos+m.size>O.pos){m.size+=O.size,m.targets=m.targets.concat(O.targets);var j=Object(a["last"])(m.targets);m.pos+m.size>j&&(m.pos=j-m.size),g.splice(d,1),y=!0}else m.targets.splice(-1,1,O.pos)}}d=0,g.forEach((function(e){var i=n/2;e.targets.forEach((function(){t[d].attr("y",e.pos+i),i+=n,d++}))}));var w=[],_=[];t.forEach((function(t,e){var i=o.arcPoints[e];i.angle>=0&&i.angle<=Math.PI?_.push(t):w.push(t)})),[w,_].forEach((function(n,r){if(n.length){var h=r?Object(a["last"])(n).getBBox().maxY-s.y:s.y-Object(a["head"])(n).getBBox().minY;h=Math.max(c,h);var f=p>4?4:0,d=Math.max.apply(0,Object(a["map"])(t,(function(t){return t.getBBox().width})))+p+f,y=Math.max(c,Math.min((h+c)/2,s.x-(i.minX+d))),b=y*y,v=h*h;n.forEach((function(t,i){var n=o.arcPoints[i],a=t.getBBox(),r={x:a.minX+a.width/2,y:a.minY+a.height/2},p=Math.pow(r.y-s.y,2),c=u(s,n.angle,l),h=(e?1:-1)*f*2;if(p>v)console.warn("异常(一般不会出现)",t.attr("text")),t.attr("x",c.x+h);else{var d=s.x+(e?1:-1)*Math.sqrt((1-p/v)*b);(s.x===c.x&&r.y===c.y||s.y===c.y&&d===c.x)&&(d=c.x),t.attr("x",d+h)}}))}}))},e.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:Object(a["head"])(t)?Object(a["head"])(t).getBBox().height:14},e}(B),k=S,D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(n["__assign"])(Object(n["__assign"])({},e),{textBaseline:"middle"})}},e.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=e>4?4:e/2:"right"===t.textAlign&&(t.x-=e>4?4:e/2)},e.prototype.layout=function(t,e,i){},e}(B),L=D,A={inner:F,outer:k,"outer-center":L};function P(t){if(A[t])return A[t];console.warn("this label "+t+" is not registered")}var X=0,Y=15,E="#CCC",R=2,T=-2,z=15;function G(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var I=function(){function t(t){this.destroyed=!1,this.view=t.view,this.options=Object(a["deepMix"])({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}return t.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",(function(){t.clear()}))},t.prototype.render=function(){var t=this;if(this.view&&!this.view.destroyed){var e=Object(a["clone"])(this.view.getData());this.halves=[[],[]];var i=[],o=this.view.geometries[0].elements;Object(a["each"])(o,(function(t){i.push(t.shape)})),this.coord=this.view.geometries[0].coordinate;var n=this.options.fields[0],r=this.view.getScalesByDim("y")[n],s=this.coord.getCenter(),l=this.coord.startAngle,p=this.coord.polarRadius,c=this.view.coordinateBBox,h=c.width,u=c.height;this.width=h,this.height=u;for(var f=l,d=function(t){var o=e[t],l=r.scale(o[n]),c=f+2*Math.PI*l,h=f+(c-f)/2;f=c;var u=G(s,h,p+X),d=G(s,h,p+Y),b=E;if(2===y.options.fields.length){var v=y.options.fields[1],g=y.view.geometries[0].scales[v],x=g.scale(o[v]),m=Math.floor(x*(i.length-1));b=i[m].attr("fill")}var O={_anchor:u,_inflection:d,_data:o,x:d.x,y:d.y,r:p+Y,fill:b,textGroup:null,_side:null},j=[];if(Object(a["each"])(y.options.fields,(function(t){j.push(o[t])})),y.options.formatter){var w=y.options.formatter(o[n],{_origin:o,color:b},t);Object(a["isString"])(w)&&(w=[w]),j=w}var _=y.container.addGroup(),B={x:0,y:0,fontSize:y.options.text.fontSize,lineHeight:y.options.text.fontSize,fontWeight:y.options.text.fontWeight,fill:y.options.text.fill},M=o[n];y.options.formatter&&(M=j[0]);var C=Object(a["clone"])(B);2===j.length&&(C.fontWeight=700);var F=_.addShape("text",{attrs:Object(a["mix"])({textBaseline:2===j.length?"top":"middle",text:M},C),data:o,offsetY:2===j.length?R:0,name:"label"});if(F.name="label",2===j.length){var S=_.addShape("text",{attrs:Object(a["mix"])({textBaseline:"bottom",text:j[1]},B),data:o,offsetY:T,name:"label"});S.name="label"}O.textGroup=_,u.x<s.x?(O._side="left",y.halves[0].push(O)):(O._side="right",y.halves[1].push(O))},y=this,b=0;b<e.length;b++)d(b);var v=Math.floor(u/this.options.lineHeight);Object(a["each"])(this.halves,(function(e){e.length>v&&e.splice(v,e.length-v),e.sort((function(t,e){return t.y-e.y})),t._antiCollision(e)})),this.view.canvas.draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},t.prototype._antiCollision=function(t){var e,i=this,o=this.coord,n=o.getHeight(),a=o.center,r=o.getRadius(),s=a.y-r-Y-this.options.lineHeight,l=!0,p=n,c=0,h=Number.MIN_VALUE,u=0,f=t.map((function(t){var e=t.y;e>c&&(c=e),e<h&&(h=e);var o=t.textGroup,n=o.getBBox().width;return n>=u&&(u=n),{size:i.options.lineHeight,targets:[e-s]}}));c-s>p&&(p=c-s);var d=function(t){t.forEach((function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),p-t.size)}))};while(l){d(f),l=!1,e=f.length;while(e--)if(e>0){var y=f[e-1],b=f[e];y.pos+y.size>b.pos&&(y.size+=b.size,y.targets=y.targets.concat(b.targets),y.pos+y.size>p&&(y.pos=p-y.size),f.splice(e,1),l=!0)}}e=0,f.forEach((function(o){var n=s;o.targets.forEach((function(){t[e].y=o.pos+n+i.options.lineHeight/2,n+=i.options.lineHeight,e++}))}));var v=[];t.forEach((function(t){var e=i._drawLabel(t);i._drawLabelLine(t,u,e),v.push(e)}))},t.prototype._drawLabel=function(t){var e=this.coord,i=e.getCenter(),o=e.getRadius(),n=t.y,a=t.textGroup,r=a.get("children"),s="left"===t._side?1:-1,l={textAlign:"left"===t._side?"right":"left",x:"left"===t._side?i.x-o-this.options.sidePadding:i.x+o+this.options.sidePadding};return this.options.offsetX&&(l.x+=this.options.offsetX*s),r.forEach((function(t){var e=t.get("offsetY"),i=n+e;t.attr(l),t.attr("y",i)})),a},t.prototype._drawLabelLine=function(t,e,i){var o=[t._anchor.x,t._anchor.y],n=[t._inflection.x,t._inflection.y],a=t.y,r=t.textGroup;if(r){var s=["left"===t._side?r.getBBox().maxX+4:r.getBBox().minX-4,a],l=[o,n,s];if(n[1]!==a)if(n[1]<a){var p=n,c=s[0]+e+z,h=s[0]-e-z,u=["left"===t._side?c:h,n[1]],f=["left"===t._side?s[0]+e:s[0]-e,s[1]];l=[o,p,u,f,s],("right"===t._side&&u[0]<p[0]||"left"===t._side&&u[0]>p[0])&&(l=[o,f,s])}else l=[o,[n[0],a],s];for(var d=[],y=0;y<l.length;y++){var b=l[y],v="L";0===y&&(v="M"),d.push([v,b[0],b[1]])}i.addShape("path",{attrs:{path:d,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},t.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},t}(),W=I,H=i("a5f3"),V=i("b7cb"),N=function(t){var e=t.opacity||1;return{fillOpacity:.8*e}},J=function(t){var e=t.opacity||1;return{fillOpacity:.5*e}};Object(V["d"])("pie",{columnStyle:{normal:{},active:N,disable:J,selected:{lineWidth:1,stroke:"black"}}});var q={pie:"interval"},U={pie:"column"},K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return Object(n["__extends"])(e,t),e.getDefaultOptions=function(){return Object(a["deepMix"])({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.options;if(e.label&&e.label.visible){this.labelComponent&&this.labelComponent.clear();var i=e.label;if("spider"===i.type)this.labelComponent=new W(Object(n["__assign"])({view:this.view,fields:e.colorField?[e.angleField,e.colorField]:[e.angleField]},this.options.label)),this.labelComponent.render();else{var o=P(i.type);this.labelComponent=new o(this,e.label),this.labelComponent.render()}}},e.prototype.geometryParser=function(t,e){return"g2"===t?q[e]:U[e]},e.prototype.scale=function(){var e=this.options;t.prototype.scale.call(this);var i={};i[e.angleField]={},i[e.colorField]={type:"cat"},i=Object(a["deepMix"])({},this.config.scales,i),this.setConfig("scales",i)},e.prototype.processData=function(t){var e=this.options.angleField;return t.map((function(t){var i;return Object(n["__assign"])(Object(n["__assign"])({},t),(i={},i[e]="string"===typeof t[e]?Number.parseFloat(t[e]):t[e],i))}))},e.prototype.axis=function(){},e.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:.8*t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},e.prototype.addGeometry=function(){var t=this.options,e=Object(c["a"])("interval","main",{plot:this,positionFields:[1,t.angleField]});e.adjust=[{type:"stack"}],this.pie=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},e.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields&&(this.pie.tooltip.fields=t.fields),t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},e.prototype.animation=function(){t.prototype.animation.call(this);var e=this.options;!1===e.animation&&(this.pie.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(e){e?t.prototype.parseEvents.call(this,e):t.prototype.parseEvents.call(this,o)},e.prototype.label=function(){this.pie.label=!1},e}(p["a"]);e["a"]=K;Object(H["b"])("pie",K)}}]);