(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Authentication~31ecd969","OtherControl~987e6011","OtherServerUpgradeConfig~987e6011"],{"1dde":function(e,t,r){var a=r("d039"),i=r("b622"),n=r("2d00"),s=i("species");e.exports=function(e){return n>=51||!a((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2436:function(e,t,r){"use strict";var a=r("eb09"),i=r.n(a);i.a},"25f0":function(e,t,r){"use strict";var a=r("6eeb"),i=r("825a"),n=r("d039"),s=r("ad6d"),o="toString",c=RegExp.prototype,l=c[o],f=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(f||d)&&a(RegExp.prototype,o,(function(){var e=i(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?s.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},3452:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"authentication layout_card"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/verified"}}},[a("i",{staticClass:"iconfont icon-shimingrenzheng1"}),e._v(" 实名认证 ")]),a("el-breadcrumb-item",[e._v(" 个人认证 ")])],1)],1),a("div",{staticClass:"page-title"},[e._v(e._s(e.$t("verified.uesrAuthentication")))]),a("el-row",{staticClass:"authentication_main",attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"110px"}},[a("el-col",{staticStyle:{overflow:"hidden","text-indent":"-9999em"},attrs:{xs:1,sm:4,md:5,lg:6,xl:7}},[e._v(".")]),a("el-col",{attrs:{xs:22,sm:16,md:14,lg:12,xl:10}},[a("el-row",{attrs:{gutter:15}},[e.certifi_typeOptions.length>=2?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"认证方式",prop:"certifi_type"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择认证方式"},model:{value:e.formData.certifi_type,callback:function(t){e.$set(e.formData,"certifi_type",t)},expression:"formData.certifi_type"}},e._l(e.certifi_typeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value,disabled:e.disabled}})})),1)],1)],1):e._e(),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.actualName"),prop:"real_name"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.pleaseEnterName"),clearable:""},model:{value:e.formData.real_name,callback:function(t){e.$set(e.formData,"real_name",t)},expression:"formData.real_name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.certificateType"),prop:"field102"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.residentIdentityCard"),disabled:!0,clearable:""},model:{value:e.formData.field102,callback:function(t){e.$set(e.formData,"field102",t)},expression:"formData.field102"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.CardType"),prop:"card_type"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.formData.card_type,callback:function(t){e.$set(e.formData,"card_type",t)},expression:"formData.card_type"}},[e._v(e._s(e.$t("verified.mainland")))]),a("el-radio",{attrs:{label:"0"},model:{value:e.formData.card_type,callback:function(t){e.$set(e.formData,"card_type",t)},expression:"formData.card_type"}},[e._v(e._s(e.$t("verified.otherAreas")))])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.certificateNum"),prop:"idcard"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.enterCertificateNum"),clearable:""},model:{value:e.formData.idcard,callback:function(t){e.$set(e.formData,"idcard",t)},expression:"formData.idcard"}})],1)],1),"three"===e.formData.certifi_type?[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.enterBankID"),prop:"bank"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.enterBank"),clearable:""},model:{value:e.formData.bank,callback:function(t){e.$set(e.formData,"bank",t)},expression:"formData.bank"}})],1)],1),"three"===e.formData.certifi_type&&"four"===e.verData.three?[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.phoneNum"),prop:"phone"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.enterPhone"),clearable:""},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1)]:e._e()]:e._e(),"phonethree"===e.formData.certifi_type?[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.phoneNum"),prop:"phone"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$t("verified.enterPhone"),clearable:""},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1)]:e._e(),"1"===e.certifi_is_upload?a("div",{staticClass:"limit"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("verified.cardFrontBack"),prop:"idimage"}},[a("el-upload",{ref:"idimageRef",attrs:{"list-type":"picture-card",action:e.idimageAction,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"with-credentials":"","before-upload":e.idimageBeforeUpload,limit:2,name:"image","before-remove":e.handleRemove,accept:"image/*"}},[a("i",{staticClass:"el-icon-plus"})])],1)],1)],1):e._e()],2),"1"===e.certifi_is_upload?a("el-form-item",[a("div",{staticClass:"explanation"},[a("div",{staticClass:"explanation_msg"},[e._v(e._s(e.$t("verified.legendTips")))]),a("img",{attrs:{src:r("8097"),alt:""}}),a("img",{attrs:{src:r("3f64"),alt:""}})])]):e._e(),a("el-row",[a("el-col",{staticClass:"btn-margin",attrs:{span:24}},[a("el-form-item",{attrs:{size:"large"}},[a("el-button",{staticClass:"btn fr",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v(" "+e._s(e.$t("verified.submitInformation"))+" ")]),a("el-button",{staticClass:"btn fr",on:{click:e.resetForm}},[e._v(e._s(e.$t("verified.reset")))])],1)],1)],1)],1),a("el-col",{staticStyle:{overflow:"hidden","text-indent":"-9999em"},attrs:{xs:1,sm:4,md:5,lg:6,xl:7}},[e._v(".")])],1)],1),a("el-dialog",e._g(e._b({attrs:{visible:e.qrVis,title:e.$t("verified.alipayScanCode"),width:"500px"},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{staticClass:"qr",staticStyle:{"text-align":"center"}},[a("vue-qr",{attrs:{text:e.qr,size:e.qrWidth}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("btnCancle")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(e._s(e.$t("btnConfirmation")))])],1)])],1)},i=[],n=(r("c740"),r("baa5"),r("a434"),r("b0c0"),r("4d63"),r("ac1f"),r("25f0"),r("466d"),r("96cf"),r("1da1")),s=r("ff07"),o={metaInfo:function(){return{title:this.$t("verified.pageTitle"),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{certifi_is_upload_bak:void 0,qrWidth:450,verData:{three:""},formData:{certifi_type:"",real_name:void 0,field102:void 0,idcard:void 0,card_type:"1",idimage:[],bank:"",phone:""},certifi_is_upload:"",qr:"",qrVis:!1,timer:void 0,certifi_typeOptions:[],rules:{certifi_type:[{required:!0,message:"请选择认证方式",trigger:"blur"}],real_name:[{required:!0,message:this.$t("verified.pleaseEnterName"),trigger:"blur"}],card_type:[{required:!0,message:this.$t("verified.selectCardType"),trigger:"blur"}],field102:[{required:!1,message:this.$t("verified.enterCardType"),trigger:"blur"}],idcard:[{required:!0,message:this.$t("verified.enterCertificateNum"),trigger:"blur"}],idimage:[{required:!0,message:this.$t("verified.uploadCardFrontBack"),trigger:"blur"}],bank:[{required:!0,message:this.$t("verified.enterBank"),trigger:"blur"},{pattern:/^[1-9]\d{9,29}$/,message:this.$t("verified.BankVerification"),trigger:"blur"}],phone:[{required:!0,message:this.$t("verified.enterPhone"),trigger:"blur"},{pattern:/^[0-9]\d{5,13}$/,message:this.$t("verified.PhoneVerification"),trigger:"blur"}]},idimageAction:this.$baseUrl+"/upload_image",hasFile:!1,btnLoading:!1}},methods:{onOpen:function(){},onClose:function(){clearInterval(this.timer),this.qrVis=!1},close:function(){this.$emit("update:visible",!1),clearInterval(this.timer),this.qrVis=!1},handelConfirm:function(){clearInterval(this.timer),this.qrVis=!1},submitForm:function(){var e=this;this.$refs.elForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=4;break}return t.abrupt("return",!1);case 4:if(2===e.formData.idimage.length||"1"!==e.certifi_is_upload){t.next=7;break}return e.$message.error(e.$t("verified.uploadAllImg")),t.abrupt("return",!1);case 7:return e.btnLoading=!0,t.next=10,Object(s["b"])(e.formData);case 10:if(a=t.sent,i=a.data,200===i.status){t.next=16;break}e.$message.error(i.msg),t.next=37;break;case 16:if("1"!==e.formData.card_type){t.next=31;break}if(!i.url){t.next=24;break}e.qr=i.url,e.qrVis=!0,e.$message.success(e.$t("verified.submitSuccess")+i.msg),e.timer=setInterval(Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["c"])();case 2:if(r=t.sent,200!==r.data.status){t.next=12;break}if("cart"!==e.$route.query.from){t.next=7;break}return e.$router.push({name:"OrderCart"}),t.abrupt("return");case 7:e.$message.success(r.data.msg),clearInterval(e.timer),e.$router.push({name:"Verified"}),t.next=15;break;case 12:if(!1!==e.qrVis){t.next=15;break}return clearInterval(e.timer),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)}))),3e3),t.next=29;break;case 24:if(e.$message.success(e.$t("verified.submitInformationSuccess")),"cart"!==e.$route.query.from){t.next=28;break}return e.$router.push({name:"OrderCart"}),t.abrupt("return");case 28:setTimeout((function(){e.$router.push({name:"Verified"})}),500);case 29:t.next=37;break;case 31:if("0"!==e.formData.card_type){t.next=37;break}if("cart"!==e.$route.query.from){t.next=35;break}return e.$router.push({name:"OrderCart"}),t.abrupt("return");case 35:e.$message.success(e.$t("verified.submitInformationSuccess")),setTimeout((function(){e.$router.push({name:"Verified"})}),500);case 37:e.btnLoading=!1;case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.elForm.resetFields(),this.$refs.idimageRef.clearFiles()},idimageBeforeUpload:function(e){if(!e.type.match(new RegExp("^image.*$")))return this.$message.error("格式不支持"),!1;if(e.size>=5242880)return this.$message.error(this.$t("verified.More5MB")),!1;var t=e.name.lastIndexOf("."),r=e.name.substring(0,t),a=/^[\u4E00-\u9FA5A-Za-z0-9_-]+$/;return a.test(r)?void 0:(this.$message.error("文件名只允许包含汉字，字母，数字，下划线，中划线"),this.formData.idimage=[],this.$refs.idimageRef.clearFiles(),!1)},handleExceed:function(){return this.$message({message:this.$t("verified.only2Pic"),type:"warning"}),!1},handleSuccess:function(e){if(200!==e.status)return this.$message.error(e.msg),this.$refs.idimageRef.clearFiles(),this.formData.idimage.length=0,!1;this.hasFile=!0,this.formData.idimage.push(e.savename)},handleRemove:function(e){var t=this.formData.idimage.findIndex((function(t){return t===e.response.savename}));this.formData.idimage.splice(t,1)},certification:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])();case 2:r=t.sent,a=r.data,e.verData=a,200!==a.status?e.$message.error(a.msg):(e.certifi_typeOptions=a.certifi_select,e.formData.certifi_type=a.default,e.certifi_is_upload=a.certifi_message.certifi_is_upload,e.certifi_is_upload_bak=a.certifi_message.certifi_is_upload,"2"===e.certifi_is_upload&&(e.rules.idimage=[]));case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.certification()},mounted:function(){var e=document.body.clientWidth;e<=600&&(this.qrWidth=320)},beforeDestroy:function(){clearInterval(this.timer)},watch:{"formData.card_type":{handler:function(e){"0"===e?(this.certifi_is_upload="1",this.rules.idimage=[{required:!0,message:this.$t("verified.uploadCardFrontBack"),trigger:"blur"}]):this.certifi_is_upload=this.certifi_is_upload_bak},deep:!0}}},c=o,l=(r("2436"),r("2877")),f=Object(l["a"])(c,a,i,!1,null,"6e6f14ec",null);t["default"]=f.exports},"3f64":function(e,t,r){e.exports=r.p+"img/upload-id-card-back.7d81446f.png"},"44e7":function(e,t,r){var a=r("861d"),i=r("c6b6"),n=r("b622"),s=n("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"4d63":function(e,t,r){var a=r("83ab"),i=r("da84"),n=r("94ca"),s=r("7156"),o=r("9bf2").f,c=r("241c").f,l=r("44e7"),f=r("ad6d"),d=r("9f7f"),u=r("6eeb"),m=r("d039"),p=r("69f3").set,h=r("2626"),g=r("b622"),b=g("match"),v=i.RegExp,_=v.prototype,$=/a/g,x=/a/g,y=new v($)!==$,k=d.UNSUPPORTED_Y,D=a&&n("RegExp",!y||k||m((function(){return x[b]=!1,v($)!=$||v(x)==x||"/a/i"!=v($,"i")})));if(D){var w=function(e,t){var r,a=this instanceof w,i=l(e),n=void 0===t;if(!a&&i&&e.constructor===w&&n)return e;y?i&&!n&&(e=e.source):e instanceof w&&(n&&(t=f.call(e)),e=e.source),k&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var o=s(y?new v(e,t):v(e,t),a?this:_,w);return k&&r&&p(o,{sticky:r}),o},C=function(e){e in w||o(w,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},O=c(v),q=0;while(O.length>q)C(O[q++]);_.constructor=w,w.prototype=_,u(i,"RegExp",w)}h("RegExp")},8097:function(e,t,r){e.exports=r.p+"img/upload-id-card-fron.09d78ed5.png"},8418:function(e,t,r){"use strict";var a=r("c04e"),i=r("9bf2"),n=r("5c6c");e.exports=function(e,t,r){var s=a(t);s in e?i.f(e,s,n(0,r)):e[s]=r}},a434:function(e,t,r){"use strict";var a=r("23e7"),i=r("23cb"),n=r("a691"),s=r("50c4"),o=r("7b0b"),c=r("65f0"),l=r("8418"),f=r("1dde"),d=r("ae40"),u=f("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u||!m},{splice:function(e,t){var r,a,f,d,u,m,v=o(this),_=s(v.length),$=i(e,_),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=_-$):(r=x-2,a=h(p(n(t),0),_-$)),_+r-a>g)throw TypeError(b);for(f=c(v,a),d=0;d<a;d++)u=$+d,u in v&&l(f,d,v[u]);if(f.length=a,r<a){for(d=$;d<_-a;d++)u=d+a,m=d+r,u in v?v[m]=v[u]:delete v[m];for(d=_;d>_-a+r;d--)delete v[d-1]}else if(r>a)for(d=_-a;d>$;d--)u=d+a-1,m=d+r-1,u in v?v[m]=v[u]:delete v[m];for(d=0;d<r;d++)v[d+$]=arguments[d+2];return v.length=_-a+r,f}})},baa5:function(e,t,r){var a=r("23e7"),i=r("e58c");a({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},c740:function(e,t,r){"use strict";var a=r("23e7"),i=r("b727").findIndex,n=r("44d2"),s=r("ae40"),o="findIndex",c=!0,l=s(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(o)},eb09:function(e,t,r){},ff07:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return o}));var a=r("a27e");function i(){return Object(a["a"])({url:"/certifi"})}function n(e){return Object(a["a"])({url:"/person_certifi_post",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/company_certifi_post",method:"post",data:e})}function o(){return Object(a["a"])({url:"/certifi_ping"})}}}]);