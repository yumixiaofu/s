(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WorkOrderDept~f71cff67"],{"22fc":function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return p}));var a=n("a27e");function r(){return Object(a["a"])({url:"list_ticket_department"})}function c(){return Object(a["a"])({url:"get_ticket_deliver"})}function i(){return Object(a["a"])({url:"get_ticket_department"})}function s(t){return Object(a["a"])({url:"list_ticket_department/"+t})}function o(t){return Object(a["a"])({url:"add_ticket_department",method:"post",data:t})}function u(t){return Object(a["a"])({url:"save_ticket_department",method:"post",data:t})}function l(t){return Object(a["a"])({url:"delete_ticket_department",method:"post",data:t})}function d(t){return Object(a["a"])({url:"movedown_ticket_department",method:"post",data:t})}function p(t){return Object(a["a"])({url:"moveup_ticket_department",method:"post",data:t})}},e653:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",{staticClass:"mt-0"},[t._v("这是您配置的支持工单部门。您输入的邮件地址将用于检测发送到该部门，所有该部门的邮件也将用此邮件地址发出。邮件管道（Email Piping）允许通过邮件回复或开启工单，并可以使用以下方式之一设置。 ")]),n("el-row",{staticClass:"mt-10"},[n("el-col",{attrs:{md:24}},[n("el-button",{attrs:{size:"small",type:"success"},on:{click:t.newDeptHandleClick}},[n("i",{staticClass:"el-icon-plus"}),t._v(" 添加新部门 ")])],1)],1),n("el-table",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{data:t.workOrderDeptTableData,"default-sort":{prop:"id",order:"descending"},border:""}},[n("div",{attrs:{slot:"empty"},slot:"empty"},[!t.workOrderDeptTableData.length&&t.tableLoading?n("span",[n("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.workOrderDeptTableData.length||t.tableLoading?t._e():n("span",[t._v("暂无数据")])]),n("el-table-column",{attrs:{prop:"name",label:"部门名称",sortable:""}}),n("el-table-column",{attrs:{prop:"description",label:"描述"}}),n("el-table-column",{attrs:{label:"是否隐藏",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:a.hidden,callback:function(e){t.$set(a,"hidden",e)},expression:"row.hidden"}})]}}])}),n("el-table-column",{attrs:{label:"自动回复",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:""},model:{value:a.auto_reply,callback:function(e){t.$set(a,"auto_reply",e)},expression:"row.auto_reply"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"135",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.editHandleClick(e.row.id)}}},[t._v("编辑")]),n("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.deleteHandleClick(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},r=[],c=(n("96cf"),n("1da1")),i=n("22fc"),s={metaInfo:{title:"工单部门"},data:function(){return{tableLoading:!1,workOrderDeptTableData:[]}},methods:{getData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(i["g"])();case 3:if(n=e.sent,a=n.data,200===a.status){e.next=9;break}return t.$message.error(a.msg),t.tableLoading=!1,e.abrupt("return");case 9:t.workOrderDeptTableData=a.data,t.tableLoading=!1;case 11:case"end":return e.stop()}}),e)})))()},newDeptHandleClick:function(){this.$router.push({path:"/new-work-order-dept"})},editHandleClick:function(t){this.$router.push({path:"/new-work-order-dept",query:{id:t}})},deleteHandleClick:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["b"])({id:t});case 2:a=n.sent,r=a.data,200===r.status?(e.$message.success(r.msg),e.getData()):e.$message.error(r.msg);case 5:case"end":return n.stop()}}),n)})))).catch((function(){}))},moveUpHandleClick:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["i"])({id:t});case 2:a=n.sent,r=a.data,200===r.status?(e.$message.success(r.msg),e.getData()):e.$message.error(r.msg);case 5:case"end":return n.stop()}}),n)})))()},moveDownHandleClick:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["h"])({id:t});case 2:a=n.sent,r=a.data,200===r.status?(e.$message.success(r.msg),e.getData()):e.$message.error(r.msg);case 5:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getData()}},o=s,u=n("2877"),l=Object(u["a"])(o,a,r,!1,null,"f4d7ac38",null);e["default"]=l.exports}}]);