(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CustomerCustom~31ecd969"],{"057f":function(e,t,r){var o=r("fc6a"),a=r("241c").f,l={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==l.call(e)?i(e):a(o(e))}},"0ab2":function(e,t,r){},"31ad":function(e,t,r){"use strict";var o=r("0ab2"),a=r.n(o);a.a},"746f":function(e,t,r){var o=r("428f"),a=r("5135"),l=r("e538"),s=r("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});a(t,e)||s(t,e,{value:l.f(e)})}},9094:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"custom"},[r("h5",{staticClass:"mt-0"},[e._v("此处可以设置自定义字段，并在客户个人资料中显示。")]),r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[e._l(e.customfields,(function(t,o){return r("div",{key:o,staticClass:"wrapper__from h40"},[r("div",{staticClass:"product_btnGroup"},[r("el-button",{style:{color:"#fff",border:"1px solid #e64a19"},attrs:{size:"small",type:"danger"},on:{click:function(r){return e.deleteCustom(t.id,t.type)}}},[e._v("删除 ")])],1),r("el-row",[r("el-col",{attrs:{md:18,lg:12,xl:12}},[r("el-form-item",{attrs:{label:"字段名称"}},[r("el-input",{attrs:{size:"small"},model:{value:t.fieldname,callback:function(r){e.$set(t,"fieldname",r)},expression:"item.fieldname"}})],1),r("el-form-item",{attrs:{label:"字段类型"}},[r("el-col",[r("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:"请选择字段类型",clearable:""},model:{value:t.fieldtype,callback:function(r){e.$set(t,"fieldtype",r)},expression:"item.fieldtype"}},e._l(e.type_list,(function(e,t,o){return r("el-option",{key:o,attrs:{label:e,value:t}})})),1)],1)],1),r("el-form-item",{attrs:{label:"描述"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{style:{width:"100%"},attrs:{size:"small",clearable:""},model:{value:t.description,callback:function(r){e.$set(t,"description",r)},expression:"item.description"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("向客户显示的描述")])],1)],1),r("el-form-item",{attrs:{label:"验证"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{attrs:{size:"small",clearable:""},model:{value:t.regexpr,callback:function(r){e.$set(t,"regexpr",r)},expression:"item.regexpr"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("正则表达式验证字符串")])],1)],1),r("el-form-item",{attrs:{label:"选项"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{attrs:{size:"small",disabled:"dropdown"!==t.fieldtype},model:{value:t.fieldoptions,callback:function(r){e.$set(t,"fieldoptions",r)},expression:"item.fieldoptions"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("只对 下拉 有效-用英文半角逗号分隔")])],1)],1),r("el-form-item",{attrs:{label:"显示排序"}},[r("el-input",{attrs:{size:"small"},model:{value:t.sortorder,callback:function(r){e.$set(t,"sortorder",r)},expression:"item.sortorder"}})],1),r("el-form-item",{attrs:{label:"其他设置"}},[r("el-checkbox",{attrs:{label:"仅管理员可见","true-label":1,"false-label":0},model:{value:t.adminonly,callback:function(r){e.$set(t,"adminonly",r)},expression:"item.adminonly"}}),r("el-checkbox",{attrs:{label:"必填","true-label":1,"false-label":0},model:{value:t.required,callback:function(r){e.$set(t,"required",r)},expression:"item.required"}}),r("el-checkbox",{attrs:{label:"注册时显示","true-label":1,"false-label":0},model:{value:t.showorder,callback:function(r){e.$set(t,"showorder",r)},expression:"item.showorder"}})],1)],1)],1)],1)})),r("div",{staticClass:"custom_new"},[r("div",{staticClass:"wrapper__from mt-20",attrs:{"data-title":"新增自定义字段"}},[r("el-row",[r("el-col",{attrs:{md:18,lg:12,xl:12}},[r("el-form-item",{attrs:{label:"字段名称"}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.addfieldname,callback:function(t){e.$set(e.form,"addfieldname",t)},expression:"form.addfieldname"}})],1),r("el-form-item",{attrs:{label:"字段类型"}},[r("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:"请选择字段类型",clearable:""},model:{value:e.form.addfieldtype,callback:function(t){e.$set(e.form,"addfieldtype",t)},expression:"form.addfieldtype"}},e._l(e.type_list,(function(e,t,o){return r("el-option",{key:o,attrs:{label:e,value:t}})})),1)],1),r("el-form-item",{attrs:{label:"描述"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{attrs:{size:"small",clearable:""},model:{value:e.form.addcustomfielddesc,callback:function(t){e.$set(e.form,"addcustomfielddesc",t)},expression:"form.addcustomfielddesc"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("向客户显示的描述")])],1)],1),r("el-form-item",{attrs:{label:"验证"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{attrs:{size:"small",clearable:""},model:{value:e.form.addregexpr,callback:function(t){e.$set(e.form,"addregexpr",t)},expression:"form.addregexpr"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("正则表达式验证字符串")])],1)],1),r("el-form-item",{attrs:{label:"选项"}},[r("el-row",[r("el-col",{attrs:{sm:24,md:15,lg:15,xl:15}},[r("el-input",{attrs:{size:"small",disabled:"dropdown"!==e.form.addfieldtype},model:{value:e.form.addfieldoptions,callback:function(t){e.$set(e.form,"addfieldoptions",t)},expression:"form.addfieldoptions"}})],1),r("el-col",{style:{color:"#999"},attrs:{sm:24,md:8,lg:8,xl:8,offset:1}},[e._v("只对 下拉 有效-用英文半角逗号分隔 ")])],1)],1),r("el-form-item",{attrs:{label:"显示排序"}},[r("el-input",{attrs:{size:"small"},model:{value:e.form.addsortorder,callback:function(t){e.$set(e.form,"addsortorder",t)},expression:"form.addsortorder"}})],1),r("el-form-item",{attrs:{label:"其他设置"}},[r("el-checkbox",{attrs:{label:"仅管理员可见","true-label":1,"false-label":0},model:{value:e.form.addadminonly,callback:function(t){e.$set(e.form,"addadminonly",t)},expression:"form.addadminonly"}}),r("el-checkbox",{attrs:{label:"必填","true-label":1,"false-label":0},model:{value:e.form.addrequired,callback:function(t){e.$set(e.form,"addrequired",t)},expression:"form.addrequired"}}),r("el-checkbox",{attrs:{label:"注册时显示","true-label":1,"false-label":0},model:{value:e.form.addshoworder,callback:function(t){e.$set(e.form,"addshoworder",t)},expression:"form.addshoworder"}})],1)],1)],1)],1)]),r("div",{staticClass:"bottomOperationAdd"},[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.editCustom}},[e._v("提交")])],1)],1)],2)],1)},a=[],l=(r("a4d3"),r("e01a"),r("4160"),r("159b"),r("96cf"),r("1da1")),s=r("a27e");function i(){return Object(s["a"])({url:"custom_fields"})}function n(e){return Object(s["a"])({url:"custom_fields",method:"post",data:e})}function d(e){return Object(s["a"])({url:"del_custom_fields",method:"post",data:e})}var c={metaInfo:{title:"自定义客户字段"},data:function(){return{type_list:{},customfields:[],form:{addfieldname:void 0,addfieldtype:"dropdown",addcustomfielddesc:void 0,addregexpr:void 0,addfieldoptions:void 0,addsortorder:void 0,addadminonly:0,addrequired:0,addshoworder:0,addshowinvoice:0},btnLoading:!1}},methods:{getData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:if(r=t.sent,o=r.data,200===o.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.type_list=o.data.type_list,e.customfields=o.data.customfields;case 8:case"end":return t.stop()}}),t)})))()},editCustom:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,o,a,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.form.addfieldname){t.next=10;break}return e.btnLoading=!0,t.next=4,n(e.form);case 4:r=t.sent,o=r.data,200!==o.status?e.$message.error(o.msg):(e.$message({message:o.msg,type:"success"}),e.getData(),e.form={addfieldname:void 0,addfieldtype:"dropdown",addcustomfielddesc:void 0,addregexpr:void 0,addfieldoptions:void 0,addsortorder:void 0,addadminonly:0,addrequired:0,addshoworder:0,addshowinvoice:0}),e.btnLoading=!1,t.next=29;break;case 10:return e.form.customfieldname=[],e.form.customfieldtype=[],e.form.customfielddesc=[],e.form.customfieldregexpr=[],e.form.customfieldoptions=[],e.form.customsortorder=[],e.form.customadminonly=[],e.form.customrequired=[],e.form.customshoworder=[],e.form.customshowinvoice=[],(e.customfields||[]).forEach((function(t){e.form.customfieldname[t.id]=t.fieldname,e.form.customfieldtype[t.id]=t.fieldtype,e.form.customfielddesc[t.id]=t.description,e.form.customfieldregexpr[t.id]=t.regexpr,e.form.customfieldoptions[t.id]=t.fieldoptions,e.form.customsortorder[t.id]=t.sortorder,e.form.customadminonly[t.id]=t.adminonly,e.form.customrequired[t.id]=t.required,e.form.customshoworder[t.id]=t.showorder,e.form.customshowinvoice[t.id]=t.showinvoice})),a=e.$qs.stringify(e.form,{arrayFormat:"indices"}),e.btnLoading=!0,t.next=25,n(a);case 25:l=t.sent,s=l.data,200!==s.status?e.$message.error(s.msg):(e.$message({message:s.msg,type:"success"}),e.getData()),e.btnLoading=!1;case 29:case"end":return t.stop()}}),t)})))()},deleteCustom:function(e,t){var r=this;this.$confirm("此操作将永久删除该自定义字段, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function o(){var a,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,d({id:e,type:t});case 2:if(a=o.sent,l=a.data,200===l.status){o.next=6;break}return o.abrupt("return",!1);case 6:r.$message({type:"success",message:"删除成功!"}),r.getData();case 8:case"end":return o.stop()}}),o)})))).catch((function(){}))}},created:function(){this.getData()}},f=c,u=(r("31ad"),r("2877")),m=Object(u["a"])(f,o,a,!1,null,"91c9a8e4",null);t["default"]=m.exports},a4d3:function(e,t,r){"use strict";var o=r("23e7"),a=r("da84"),l=r("d066"),s=r("c430"),i=r("83ab"),n=r("4930"),d=r("fdbf"),c=r("d039"),f=r("5135"),u=r("e8b5"),m=r("861d"),p=r("825a"),b=r("7b0b"),v=r("fc6a"),y=r("c04e"),g=r("5c6c"),h=r("7c73"),w=r("df75"),x=r("241c"),k=r("057f"),_=r("7418"),$=r("06cf"),O=r("9bf2"),S=r("d1e7"),j=r("9112"),z=r("6eeb"),C=r("5692"),q=r("f772"),P=r("d012"),D=r("90e3"),E=r("b622"),L=r("e538"),R=r("746f"),N=r("d44e"),J=r("69f3"),T=r("b727").forEach,F=q("hidden"),B="Symbol",I="prototype",A=E("toPrimitive"),G=J.set,Q=J.getterFor(B),W=Object[I],H=a.Symbol,K=l("JSON","stringify"),M=$.f,U=O.f,V=k.f,X=S.f,Y=C("symbols"),Z=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),re=C("wks"),oe=a.QObject,ae=!oe||!oe[I]||!oe[I].findChild,le=i&&c((function(){return 7!=h(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(e,t,r){var o=M(W,t);o&&delete W[t],U(e,t,r),o&&e!==W&&U(W,t,o)}:U,se=function(e,t){var r=Y[e]=h(H[I]);return G(r,{type:B,tag:e,description:t}),i||(r.description=t),r},ie=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},ne=function(e,t,r){e===W&&ne(Z,t,r),p(e);var o=y(t,!0);return p(r),f(Y,o)?(r.enumerable?(f(e,F)&&e[F][o]&&(e[F][o]=!1),r=h(r,{enumerable:g(0,!1)})):(f(e,F)||U(e,F,g(1,{})),e[F][o]=!0),le(e,o,r)):U(e,o,r)},de=function(e,t){p(e);var r=v(t),o=w(r).concat(pe(r));return T(o,(function(t){i&&!fe.call(r,t)||ne(e,t,r[t])})),e},ce=function(e,t){return void 0===t?h(e):de(h(e),t)},fe=function(e){var t=y(e,!0),r=X.call(this,t);return!(this===W&&f(Y,t)&&!f(Z,t))&&(!(r||!f(this,t)||!f(Y,t)||f(this,F)&&this[F][t])||r)},ue=function(e,t){var r=v(e),o=y(t,!0);if(r!==W||!f(Y,o)||f(Z,o)){var a=M(r,o);return!a||!f(Y,o)||f(r,F)&&r[F][o]||(a.enumerable=!0),a}},me=function(e){var t=V(v(e)),r=[];return T(t,(function(e){f(Y,e)||f(P,e)||r.push(e)})),r},pe=function(e){var t=e===W,r=V(t?Z:v(e)),o=[];return T(r,(function(e){!f(Y,e)||t&&!f(W,e)||o.push(Y[e])})),o};if(n||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),r=function(e){this===W&&r.call(Z,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),le(this,t,g(1,e))};return i&&ae&&le(W,t,{configurable:!0,set:r}),se(t,e)},z(H[I],"toString",(function(){return Q(this).tag})),z(H,"withoutSetter",(function(e){return se(D(e),e)})),S.f=fe,O.f=ne,$.f=ue,x.f=k.f=me,_.f=pe,L.f=function(e){return se(E(e),e)},i&&(U(H[I],"description",{configurable:!0,get:function(){return Q(this).description}}),s||z(W,"propertyIsEnumerable",fe,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!n,sham:!n},{Symbol:H}),T(w(re),(function(e){R(e)})),o({target:B,stat:!0,forced:!n},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var r=H(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),o({target:"Object",stat:!0,forced:!n,sham:!i},{create:ce,defineProperty:ne,defineProperties:de,getOwnPropertyDescriptor:ue}),o({target:"Object",stat:!0,forced:!n},{getOwnPropertyNames:me,getOwnPropertySymbols:pe}),o({target:"Object",stat:!0,forced:c((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(b(e))}}),K){var be=!n||c((function(){var e=H();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}));o({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,r){var o,a=[e],l=1;while(arguments.length>l)a.push(arguments[l++]);if(o=t,(m(t)||void 0!==e)&&!ie(e))return u(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!ie(t))return t}),a[1]=t,K.apply(null,a)}})}H[I][A]||j(H[I],A,H[I].valueOf),N(H,B),P[F]=!0},e01a:function(e,t,r){"use strict";var o=r("23e7"),a=r("83ab"),l=r("da84"),s=r("5135"),i=r("861d"),n=r("9bf2").f,d=r("e893"),c=l.Symbol;if(a&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},u=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof u?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};d(u,c);var m=u.prototype=c.prototype;m.constructor=u;var p=m.toString,b="Symbol(test)"==String(c("test")),v=/^Symbol\((.*)\)[^)]+$/;n(m,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(s(f,e))return"";var r=b?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),o({global:!0,forced:!0},{Symbol:u})}},e538:function(e,t,r){var o=r("b622");t.f=o}}]);