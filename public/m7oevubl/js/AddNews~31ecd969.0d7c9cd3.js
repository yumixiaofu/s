(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddNews~31ecd969"],{"057f":function(t,e,r){var n=r("fc6a"),a=r("241c").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?s(t):a(n(t))}},"1dde":function(t,e,r){var n=r("d039"),a=r("b622"),i=r("2d00"),o=a("species");t.exports=function(t){return i>=51||!n((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").filter,i=r("1dde"),o=r("ae40"),s=i("filter"),c=o("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},7100:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"addNew"},[r("h2",[t._v(t._s(t.id?"编辑新闻":"添加新闻"))]),r("el-divider"),r("el-row",{staticClass:"topform_wrap"},[r("el-form",{ref:"elForm",attrs:{model:t.formData,rules:t.rules,"label-width":t.labelWidth}},[r("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[r("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入新闻标题",clearable:""},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),r("el-form-item",{attrs:{label:"分类",prop:"parent_id"}},[r("span",{attrs:{slot:"label"},slot:"label"},[t._v(" 分类 "),r("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[r("el-row",[r("el-col",{attrs:{span:24}},[t._v("可对不同新闻公告进行分类。")]),r("el-col",{staticClass:"tar",attrs:{span:24}},[r("router-link",{attrs:{to:{path:"news-category"},target:"_blank"}},[r("el-link",{attrs:{type:"primary"}},[t._v("设置分类")])],1)],1)],1),r("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),r("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:"请选择",clearable:""},model:{value:t.formData.parent_id,callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}},t._l(t.parent_idOptions[0].list,(function(t,e){return r("el-option",{key:e,attrs:{label:t.title,value:t.id,disabled:t.disabled}})})),1)],1),r("el-form-item",{attrs:{label:"是否隐藏",prop:"hidden",required:""}},[r("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.formData.hidden,callback:function(e){t.$set(t.formData,"hidden",e)},expression:"formData.hidden"}})],1),r("el-form-item",{attrs:{label:"日期选择",prop:"push_time"}},[r("el-date-picker",{style:{width:"260px"},attrs:{size:"small","value-format":"timestamp",placeholder:"请选择日期选择",clearable:"",type:"datetime"},model:{value:t.formData.push_time,callback:function(e){t.$set(t.formData,"push_time",e)},expression:"formData.push_time"}})],1),r("el-form-item",{attrs:{label:"标签",prop:""}},[r("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"多个标签用英文逗号隔开",clearable:""},model:{value:t.formData.label,callback:function(e){t.$set(t.formData,"label",e)},expression:"formData.label"}})],1),r("el-form-item",{attrs:{label:"描述",prop:""}},[r("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入新闻描述",clearable:""},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),r("el-form-item",{attrs:{label:"文章内容",prop:"push_time"}},[r("el-row",{attrs:{gutter:0}},[r("el-col",{staticStyle:{padding:"0"},attrs:{span:24}},[r("tinymce-editor",{ref:"myQuillEditor",staticStyle:{width:"90%"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1)],1)],1)],1),r("div",{staticClass:"bottomOperationAdd"},[r("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.submitForm}},[t._v("提交")]),r("el-button",{attrs:{size:"small"},on:{click:t.goBack}},[t._v("返回")]),r("el-button",{attrs:{size:"small"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)},a=[],i=(r("a4d3"),r("e01a"),r("4de4"),r("a9e3"),r("96cf"),r("1da1")),o=r("94ca2"),s={metaInfo:{title:"编辑新闻"},data:function(){return{id:Number(this.$route.query.id),formData:{id:void 0,title:void 0,parent_id:void 0,hidden:!1,push_time:Date.parse(new Date),content:"",label:"",description:""},rules:{title:[{required:!0,message:"请输入新闻标题",trigger:"blur"}],parent_id:[{required:!0,message:"请选择分类ID",trigger:"change"}],push_time:[{required:!0,message:"请选择日期选择",trigger:"change"}]},parent_idOptions:[{list:[]}],labelWidth:window.document.body.clientWidth>768?"80px":null,btnLoading:!1}},methods:{submitForm:function(){var t=this;this.id?this.id&&this.$refs.elForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",!1);case 2:return t.formData.push_time/=1e3,t.formData.id=t.id,t.btnLoading=!0,e.next=7,Object(o["b"])(t.formData);case 7:n=e.sent,a=n.data,200!==a.status?(t.$message.error(a.msg),t.formData.push_time*=1e3):(t.$message.success(a.msg),t.$router.push({name:"newsList"})),t.btnLoading=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):this.$refs.elForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",!1);case 2:return t.formData.push_time/=1e3,t.btnLoading=!0,e.next=6,Object(o["b"])(t.formData);case 6:n=e.sent,a=n.data,200!==a.status?(t.$message.error(a.msg),t.formData.push_time*=1e3):(t.$message.success(a.msg),t.$router.push({name:"newsList"})),t.btnLoading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(){this.$refs.elForm.resetFields(),this.formData.content=""},goBack:function(){this.$router.go(-1)},getCategory:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])();case 2:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):t.parent_idOptions=n.data.filter((function(t){return 1===t.id}));case 5:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,Object(o["e"])(t.id);case 3:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):(t.formData.title=n.data.title,t.formData.parent_id=n.data.parent_id,t.formData.push_time=1e3*n.data.push_time,t.formData.content=t.HTMLDecode(n.data.content),t.formData.hidden=n.data.hidden,t.formData.label=n.data.label,t.formData.description=n.data.description);case 6:case"end":return e.stop()}}),e)})))()},HTMLDecode:function(t){var e=document.createElement("div");e.innerHTML=t;var r=e.innerText||e.textContent;return e=null,r}},created:function(){var t=this;this.getCategory(),setTimeout((function(){t.getData()}),500)}},c=s,l=r("2877"),u=Object(l["a"])(c,n,a,!1,null,null,null);e["default"]=u.exports},"746f":function(t,e,r){var n=r("428f"),a=r("5135"),i=r("e538"),o=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});a(e,t)||o(e,t,{value:i.f(t)})}},"94ca2":function(t,e,r){"use strict";r.d(e,"h",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"f",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return u})),r.d(e,"d",(function(){return f}));var n=r("a27e");function a(t,e,r,a,i){return Object(n["a"])({url:"news/list",params:{page:t,limit:e,parent_id:r,orderby:a,sorting:i}})}function i(t){return Object(n["a"])({url:"news/catspage",params:t})}function o(t){return Object(n["a"])({url:"news/catelist",params:t})}function s(t){return Object(n["a"])({url:"news/editcat",method:"post",data:t})}function c(t){return Object(n["a"])({url:"news/cat",method:"delete",params:{id:t}})}function l(t){return Object(n["a"])({url:"news/editcontent",method:"post",data:t})}function u(t){return Object(n["a"])({url:"news/content",params:{id:t}})}function f(t){return Object(n["a"])({url:"news/content",method:"delete",params:{id:t}})}},a4d3:function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),i=r("d066"),o=r("c430"),s=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),f=r("5135"),d=r("e8b5"),m=r("861d"),p=r("825a"),b=r("7b0b"),h=r("fc6a"),g=r("c04e"),v=r("5c6c"),y=r("7c73"),w=r("df75"),D=r("241c"),O=r("057f"),_=r("7418"),x=r("06cf"),j=r("9bf2"),k=r("d1e7"),S=r("9112"),$=r("6eeb"),F=r("5692"),L=r("f772"),C=r("d012"),P=r("90e3"),z=r("b622"),N=r("e538"),R=r("746f"),q=r("d44e"),E=r("69f3"),T=r("b727").forEach,J=L("hidden"),W="Symbol",A="prototype",B=z("toPrimitive"),H=E.set,I=E.getterFor(W),M=Object[A],Q=a.Symbol,G=i("JSON","stringify"),K=x.f,U=j.f,V=O.f,X=k.f,Y=F("symbols"),Z=F("op-symbols"),tt=F("string-to-symbol-registry"),et=F("symbol-to-string-registry"),rt=F("wks"),nt=a.QObject,at=!nt||!nt[A]||!nt[A].findChild,it=s&&u((function(){return 7!=y(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=K(M,e);n&&delete M[e],U(t,e,r),n&&t!==M&&U(M,e,n)}:U,ot=function(t,e){var r=Y[t]=y(Q[A]);return H(r,{type:W,tag:t,description:e}),s||(r.description=e),r},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function(t,e,r){t===M&&ct(Z,e,r),p(t);var n=g(e,!0);return p(r),f(Y,n)?(r.enumerable?(f(t,J)&&t[J][n]&&(t[J][n]=!1),r=y(r,{enumerable:v(0,!1)})):(f(t,J)||U(t,J,v(1,{})),t[J][n]=!0),it(t,n,r)):U(t,n,r)},lt=function(t,e){p(t);var r=h(e),n=w(r).concat(pt(r));return T(n,(function(e){s&&!ft.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},ft=function(t){var e=g(t,!0),r=X.call(this,e);return!(this===M&&f(Y,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(Y,e)||f(this,J)&&this[J][e])||r)},dt=function(t,e){var r=h(t),n=g(e,!0);if(r!==M||!f(Y,n)||f(Z,n)){var a=K(r,n);return!a||!f(Y,n)||f(r,J)&&r[J][n]||(a.enumerable=!0),a}},mt=function(t){var e=V(h(t)),r=[];return T(e,(function(t){f(Y,t)||f(C,t)||r.push(t)})),r},pt=function(t){var e=t===M,r=V(e?Z:h(t)),n=[];return T(r,(function(t){!f(Y,t)||e&&!f(M,t)||n.push(Y[t])})),n};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),r=function(t){this===M&&r.call(Z,t),f(this,J)&&f(this[J],e)&&(this[J][e]=!1),it(this,e,v(1,t))};return s&&at&&it(M,e,{configurable:!0,set:r}),ot(e,t)},$(Q[A],"toString",(function(){return I(this).tag})),$(Q,"withoutSetter",(function(t){return ot(P(t),t)})),k.f=ft,j.f=ct,x.f=dt,D.f=O.f=mt,_.f=pt,N.f=function(t){return ot(z(t),t)},s&&(U(Q[A],"description",{configurable:!0,get:function(){return I(this).description}}),o||$(M,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),T(w(rt),(function(t){R(t)})),n({target:W,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=Q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:u((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(b(t))}}),G){var bt=!c||u((function(){var t=Q();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}));n({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,r){var n,a=[t],i=1;while(arguments.length>i)a.push(arguments[i++]);if(n=e,(m(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),a[1]=e,G.apply(null,a)}})}Q[A][B]||S(Q[A],B,Q[A].valueOf),q(Q,W),C[J]=!0},e01a:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),i=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,l=r("e893"),u=i.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var m=d.prototype=u.prototype;m.constructor=d;var p=m.toString,b="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(f,t))return"";var r=b?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,r){var n=r("b622");e.f=n}}]);