(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["General~f71cff67"],{"0fb1":function(e,a,t){},"6a88":function(e,a,t){"use strict";var s=t("0fb1"),l=t.n(s);l.a},ce3c:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return r}));var s=t("a27e");function l(e){return Object(s["a"])({url:"config_general/getConfig",method:"post",data:e})}function o(e){return Object(s["a"])({url:"config_general/getConfigOption",method:"post",data:e})}function r(e){return Object(s["a"])({url:"config_general/newGeneral",method:"post",data:e})}},ff7c:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"general"},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"基础信息",name:"1"}},[t("el-form",{ref:"baseInfoForm",attrs:{model:e.baseInfoForm,rules:e.baseInfoFormRules,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:"品牌名",prop:"company_name"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入品牌名",clearable:""},model:{value:e.baseInfoForm.company_name,callback:function(a){e.$set(e.baseInfoForm,"company_name",a)},expression:"baseInfoForm.company_name"}})],1),t("el-form-item",{attrs:{label:"系统链接",prop:"domain"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入您的安装地址",clearable:""},model:{value:e.baseInfoForm.domain,callback:function(a){e.$set(e.baseInfoForm,"domain",a)},expression:"baseInfoForm.domain"}})],1),t("el-form-item",{attrs:{label:"网站域名",prop:"system_url"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入您网站主页的链接地址",clearable:""},model:{value:e.baseInfoForm.system_url,callback:function(a){e.$set(e.baseInfoForm,"system_url",a)},expression:"baseInfoForm.system_url"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:"本地化",name:"2"}},[t("el-form",{ref:"localForm",attrs:{model:e.localForm,rules:e.localFormRules,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:"默认语言",prop:"language"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 默认语言 "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v("支持中英两种语言，可以修改public/lang文件夹中的语言文本翻译成自己的语言。")])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:"请选择默认语言"},model:{value:e.localForm.language,callback:function(a){e.$set(e.localForm,"language",a)},expression:"localForm.language"}},e._l(e.languageOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"启用语言选择菜单",prop:"allow_user_language"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"允许客户更改系统语言"},model:{value:e.localForm.allow_user_language,callback:function(a){e.$set(e.localForm,"allow_user_language",a)},expression:"localForm.allow_user_language"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:"显示设置",name:"3"}},[t("el-form",{ref:"showForm",attrs:{model:e.showForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:"每页显示记录",prop:"per_page_limit"}},[t("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:"请选择每页显示条数"},model:{value:e.showForm.per_page_limit,callback:function(a){e.$set(e.showForm,"per_page_limit",a)},expression:"showForm.per_page_limit"}},e._l(e.num_recordsOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"前台信用额",prop:"credit_limit"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.showForm.credit_limit,callback:function(a){e.$set(e.showForm,"credit_limit",a)},expression:"showForm.credit_limit"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:"基础安全",name:"4"}},[t("el-form",{ref:"baseSafeForm",attrs:{model:e.baseSafeForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:"后台管理目录路径",prop:""}},[t("el-link",{attrs:{href:"https://bbs.idcsmart.com/forum.php?mod=viewthread&tid=120&extra=page%3D1%26filter%3Dtypeid%26typeid%3D7",target:"_blank"}},[e._v("修改教程")])],1),t("el-form-item",{attrs:{label:"管理员登录时长(天)",prop:"cancellation_time"}},[t("el-input-number",{style:{width:"260px"},attrs:{size:"small",min:1,controls:!1},model:{value:e.baseSafeForm.cancellation_time,callback:function(a){e.$set(e.baseSafeForm,"cancellation_time",a)},expression:"baseSafeForm.cancellation_time"}})],1),t("el-form-item",{attrs:{label:"前台登录IP检查",prop:"home_ip_check"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 前台登录IP检查 "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v("开启后登录前台时会检测IP与原登录IP是否一致，不一致则无法登录并提醒。")])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseSafeForm.home_ip_check,callback:function(a){e.$set(e.baseSafeForm,"home_ip_check",a)},expression:"baseSafeForm.home_ip_check"}})],1),t("el-form-item",{attrs:{label:"后台登录IP检查",prop:"admin_ip_check"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseSafeForm.admin_ip_check,callback:function(a){e.$set(e.baseSafeForm,"admin_ip_check",a)},expression:"baseSafeForm.admin_ip_check"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:"维护模式",name:"5"}},[t("el-form",{ref:"modeForm",attrs:{model:e.modeForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:"维护模式",prop:"main_tenance_mode"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 维护模式 "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v("启用此选项将阻止客户访问客户端并显示下面设置的维护模式消息。")])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"选中则，阻止访问用户中心"},model:{value:e.modeForm.main_tenance_mode,callback:function(a){e.$set(e.modeForm,"main_tenance_mode",a)},expression:"modeForm.main_tenance_mode"}})],1),t("el-form-item",{attrs:{label:"维护模式信息",prop:"main_tenance_mode_message"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",type:"textarea",placeholder:"请输入维护模式信息",autosize:{minRows:4,maxRows:5}},model:{value:e.modeForm.main_tenance_mode_message,callback:function(a){e.$set(e.modeForm,"main_tenance_mode_message",a)},expression:"modeForm.main_tenance_mode_message"}})],1),t("el-form-item",{attrs:{label:"维护模式重定向的链接",prop:"main_tenance_mode_url"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 维护模式重定向的链接 "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v("在此字段中输入URL时，启用维护模式后，客户端将被重定向到那里，而不是看到维护消息。")])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"如果在此指定，用户访问用户中心会重定向到此网站",clearable:""},model:{value:e.modeForm.main_tenance_mode_url,callback:function(a){e.$set(e.modeForm,"main_tenance_mode_url",a)},expression:"modeForm.main_tenance_mode_url"}})],1)],1)],1)],1),t("div",{staticClass:"bottomOperationAdd"},[t("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v("保存更改")]),t("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("取消更改")])],1)],1)},l=[],o=(t("b0c0"),t("ce3c")),r={data:function(){var e=function(e,a,t){var s=/(http|https):\/\/([\w.]+\/?)\S*/;if(s.test(a))return t();t(new Error("网站域名必须以http或https开头"))};return{language:"",languageList:[],activeName:"1",languageOptions:[],labelWidth:window.document.body.clientWidth>768?"190px":null,baseInfoForm:{company_name:"",domain:"",system_url:""},localForm:{language:"",allow_user_language:""},showForm:{per_page_limit:"",credit_limit:""},baseSafeForm:{cancellation_time:"",home_ip_check:"",admin_ip_check:""},modeForm:{main_tenance_mode:"",main_tenance_mode_message:"",main_tenance_mode_url:""},baseInfoFormRules:{company_name:[{required:!0,message:"请输入品牌名",trigger:"blur"}],domain:[{required:!0,message:"请输入您的系统链接",trigger:"blur"}],system_url:[{required:!0,message:"请输入您网站主页的链接地址",trigger:"blur"},{validator:e,trigger:"blur"}]},localFormRules:{language:[{required:!0,message:"请选择默认语言",trigger:"change"}]},num_recordsOptions:[10,15,20,25,50,100],btnLoading:!1}},methods:{getDetail:function(){var e=this,a=[];switch(this.activeName){case"1":a=["company_name","domain","system_url"],Object(o["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.baseInfoForm=a.data.data}));break;case"2":a=["language","allow_user_language"],Object(o["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.localForm=a.data.data}));break;case"3":a=["per_page_limit","credit_limit"],Object(o["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.showForm=a.data.data}));break;case"4":a=["cancellation_time","home_ip_check","admin_ip_check"],Object(o["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.baseSafeForm=a.data.data}));break;case"5":a=["main_tenance_mode","main_tenance_mode_message","main_tenance_mode_url"],Object(o["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.modeForm=a.data.data}));break;default:break}},handleClick:function(e){this.activeName=e.name,this.getDetail()},getOptions:function(){var e=this,a=["language"];Object(o["b"])({param:a}).then((function(a){if(200!==a.data.status)e.$message({message:a.data.msg,type:"error"});else for(var t in e.languageOptions=[],a.data.data.language.language_option){var s={value:t,label:a.data.data.language.language_option[t]};e.languageOptions.push(s)}}))},submitForm:function(){var e=this;switch(this.activeName){case"1":this.$refs.baseInfoForm.validate((function(a){a&&(e.btnLoading=!0,Object(o["c"])(e.baseInfoForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)})))}));break;case"2":this.$refs.baseInfoForm.validate((function(a){a&&(e.btnLoading=!0,Object(o["c"])(e.localForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)})))}));break;case"3":this.btnLoading=!0,Object(o["c"])(this.showForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;case"4":this.btnLoading=!0,Object(o["c"])(this.baseSafeForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;case"5":this.btnLoading=!0,Object(o["c"])(this.modeForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;default:break}},resetForm:function(){this.$refs.baseInfoForm.resetFields(),this.$refs.localForm.resetFields(),this.$refs.showForm.resetFields(),this.$refs.baseSafeForm.resetFields(),this.$refs.modeForm.resetFields(),this.getDetail()}},created:function(){this.getOptions(),this.getDetail()}},n=r,i=(t("6a88"),t("2877")),m=Object(i["a"])(n,s,l,!1,null,"7e2f4503",null);a["default"]=m.exports}}]);