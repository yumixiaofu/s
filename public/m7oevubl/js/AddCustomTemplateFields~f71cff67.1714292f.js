(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddCustomTemplateFields~f71cff67"],{"113a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return o}));var r=a("a27e");function n(e){return Object(r["a"])({url:"news/addCustomParam",type:"get",params:e})}function s(e){return Object(r["a"])({url:"news/getCustomParam",type:"get",params:e})}function i(e){return Object(r["a"])({url:"news/getCustomUpdateVal",type:"get",params:e})}function u(e){return Object(r["a"])({url:"news/updateCustomParam",type:"get",params:e})}function o(e){return Object(r["a"])({url:"news/delCustomParam",type:"get",params:e})}},e2e3:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addNew"},[a("h2",[e._v(e._s(e.id?"编辑字段":"添加字段"))]),a("el-divider"),a("el-row",{staticClass:"topform_wrap"},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,"label-width":e.labelWidth}},[a("el-form-item",{attrs:{label:"字段名",prop:"fieldname"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:"请输入字段名",clearable:""},model:{value:e.formData.fieldname,callback:function(t){e.$set(e.formData,"fieldname",t)},expression:"formData.fieldname"}})],1),a("el-form-item",{attrs:{label:"字段内容",prop:"value"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请输入字段内容",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}})],1)],1)],1),a("div",{staticClass:"bottomOperationAdd"},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v("提交")]),a("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v("返回")]),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)},n=[],s=a("60b5"),i=(a("6a61"),a("24a8"),a("113a")),u={metaInfo:{title:"编辑字段"},data:function(){return{id:Number(this.$route.query.id),formData:{fieldname:"",value:""},rules:{fieldname:[{required:!0,message:"请输入新闻标题",trigger:"blur"}],value:[{required:!0,message:"请选择分类ID",trigger:"blur"}]},labelWidth:window.document.body.clientWidth>768?"80px":null,btnLoading:!1}},methods:{submitForm:function(){var e=this;this.id?this.id&&this.$refs.elForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return e.formData.id=e.id,e.btnLoading=!0,t.next=6,Object(i["e"])(e.formData);case 6:r=t.sent,n=r.data,200!==n.status?e.$message.error(n.msg):(e.$message.success(n.msg),e.$router.back()),e.btnLoading=!1;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$refs.elForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return e.btnLoading=!0,t.next=5,Object(i["a"])(e.formData);case 5:r=t.sent,n=r.data,200!==n.status?e.$message.error(n.msg):(e.$message.success(n.msg),e.$router.back()),e.btnLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.elForm.resetFields()},goBack:function(){this.$router.go(-1)},getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,Object(i["d"])({id:e.id});case 3:a=t.sent,r=a.data,200!==r.status?e.$message.error(r.msg):(e.formData.fieldname=r.data.field,e.formData.value=r.data.value);case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.getData()}},o=u,l=a("5d22"),c=Object(l["a"])(o,r,n,!1,null,null,null);t["default"]=c.exports}}]);