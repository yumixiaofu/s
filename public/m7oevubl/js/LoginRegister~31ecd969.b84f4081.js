(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoginRegister~31ecd969"],{"1dde":function(e,t,r){var a=r("d039"),o=r("b622"),s=r("2d00"),i=o("species");e.exports=function(e){return s>=51||!a((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,r){"use strict";var a=r("23e7"),o=r("5a34"),s=r("1d80"),i=r("ab13");a({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(s(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"3f8c8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme-template"},[r("h2",[e._v("注册登陆")]),r("el-row",{staticClass:"topform_wrap",attrs:{gutter:15}},[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基础设置",name:"1"}},[r("el-form",{ref:"baseForm",staticClass:"mt-20",attrs:{model:e.baseForm,"label-width":"100px","label-position":"top"}},[r("p",{staticStyle:{"font-size":"12px","font-weight":"700"}},[e._v("国际电话总开关 "),r("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[r("el-row",[r("el-col",{attrs:{span:24}},[e._v(" 关闭后平台无法使用国际电话接收通知；已注册用户不受影响。 ")])],1),r("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),r("el-form-item",{attrs:{label:""}},[r("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseForm.allow_login_register,callback:function(t){e.$set(e.baseForm,"allow_login_register",t)},expression:"baseForm.allow_login_register"}})],1),r("el-form-item",{attrs:{label:"客户注册"}},[r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.baseForm.allow_register_phone,callback:function(t){e.$set(e.baseForm,"allow_register_phone",t)},expression:"baseForm.allow_register_phone"}},[e._v("手机 ")]),r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.baseForm.allow_register_email,callback:function(t){e.$set(e.baseForm,"allow_register_email",t)},expression:"baseForm.allow_register_email"}},[e._v("邮箱 ")])],1),r("el-form-item",{attrs:{label:"客户登录"}},[r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.baseForm.allow_login_phone,callback:function(t){e.$set(e.baseForm,"allow_login_phone",t)},expression:"baseForm.allow_login_phone"}},[e._v("手机 ")]),r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.baseForm.allow_login_email,callback:function(t){e.$set(e.baseForm,"allow_login_email",t)},expression:"baseForm.allow_login_email"}},[e._v("邮箱 ")]),r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.baseForm.allow_id,callback:function(t){e.$set(e.baseForm,"allow_id",t)},expression:"baseForm.allow_id"}},[e._v("ID")])],1),r("el-form-item",{attrs:{label:"邮箱注册是否需要验证",prop:"allow_email_register_code"}},[r("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseForm.allow_email_register_code,callback:function(t){e.$set(e.baseForm,"allow_email_register_code",t)},expression:"baseForm.allow_email_register_code"}})],1)],1)],1),r("el-tab-pane",{attrs:{label:"注册时选填字段",name:"2"}},[r("el-form",{ref:"registerFrom",staticClass:"mt-20",attrs:{model:e.registerFrom,"label-width":"100px","label-position":"top"}},[r("el-form-item",{attrs:{label:"注册时选填字段",prop:"clients_profoptional"}},[e._l(e.regOptions,(function(t,a){return[r("span",{key:a,staticClass:"mr-20 regOptionsWrapper"},[r("el-checkbox",{model:{value:t.check,callback:function(r){e.$set(t,"check",r)},expression:"item.check"}},[e._v(e._s(t.label))]),r("el-checkbox",{attrs:{"true-label":"1","false-label":"0",disabled:!t.check},model:{value:t.require,callback:function(r){e.$set(t,"require",r)},expression:"item.require"}},[e._v("必填 ")])],1)]}))],2)],1)],1)],1)],1),r("div",{staticClass:"bottomOperationAdd"},[r("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v("保存更改")]),r("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("取消更改")])],1)],1)},o=[],s=(r("4de4"),r("caad"),r("b0c0"),r("2532"),r("ce3c")),i={data:function(){return{activeName:"1",btnLoading:!1,baseForm:{allow_login_register:!1,allow_register_phone:"",allow_register_email:"",allow_login_phone:"",allow_login_email:"",allow_id:"",allow_email_register_code:""},registerFrom:{Clients_profoptional_list:"",login_register_custom_require:[],clients_profoptional:[]},regOptions:[]}},mounted:function(){this.getData()},methods:{handleClick:function(){this.getData()},submitForm:function(){var e=this;switch(this.activeName){case"1":this.btnLoading=!0,Object(s["c"])(this.baseForm).then((function(t){200!==t.data.status?(e.$message({message:t.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:t.data.msg,type:"success"}),e.getData(),e.btnLoading=!1)}));break;case"2":for(var t=0;t<this.regOptions.length;t++){var r=this.regOptions[t];this.registerFrom.login_register_custom_require[t]={},this.$set(this.registerFrom.login_register_custom_require[t],"name",r.value),this.$set(this.registerFrom.login_register_custom_require[t],"require",r.require)}this.registerFrom.clients_profoptional=[];for(var a=0;a<this.regOptions.length;a++){var o=this.regOptions[a];o.check&&this.registerFrom.clients_profoptional.push(o.value)}this.registerFrom.login_register_custom_require=this.registerFrom.login_register_custom_require.filter((function(t){return e.registerFrom.clients_profoptional.includes(t.name)})),Object(s["c"])(this.registerFrom).then((function(t){200!==t.data.status?(e.$message({message:t.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:t.data.msg,type:"success"}),e.getData(),e.btnLoading=!1)}));break;default:break}},resetForm:function(){this.$refs.baseForm.resetFields(),this.$refs.registerFrom.resetFields(),this.getData()},getData:function(){var e=this,t=[];switch(this.activeName){case"1":for(var r in this.baseForm)t.push(r);Object(s["a"])({param:t}).then((function(t){200!==t.data.status?e.$message({message:t.data.msg,type:"error"}):e.baseForm=t.data.data}));break;case"2":t=["Clients_profoptional_list"],Object(s["b"])({param:t}).then((function(t){if(200!==t.data.status)e.$message({message:t.data.msg,type:"error"});else{var r=[];for(var a in t.data.data.Clients_profoptional_list.login_register_custom_require_list){var o=t.data.data.Clients_profoptional_list.login_register_custom_require_list[a],s={label:o,value:a};r.push(s)}for(var i=0;i<r.length;i++){var l=r[i];l.check=t.data.data.Clients_profoptional_list.clients_profoptional_checked.includes(l.value)}for(var n=0;n<t.data.data.Clients_profoptional_list.login_register_custom_require.length;n++)for(var c=t.data.data.Clients_profoptional_list.login_register_custom_require[n],u=0;u<r.length;u++){var m=r[u];c.name===m.value&&(m.require=c.require)}e.regOptions=r}}));break;default:break}}}},l=i,n=(r("b2bb"),r("2877")),c=Object(n["a"])(l,a,o,!1,null,"2b185076",null);t["default"]=c.exports},"44e7":function(e,t,r){var a=r("861d"),o=r("c6b6"),s=r("b622"),i=s("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},"4de4":function(e,t,r){"use strict";var a=r("23e7"),o=r("b727").filter,s=r("1dde"),i=r("ae40"),l=s("filter"),n=i("filter");a({target:"Array",proto:!0,forced:!l||!n},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,r){var a=r("44e7");e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,r){var a=r("b622"),o=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(a){}}return!1}},b2bb:function(e,t,r){"use strict";var a=r("f5c5"),o=r.n(a);o.a},caad:function(e,t,r){"use strict";var a=r("23e7"),o=r("4d64").includes,s=r("44d2"),i=r("ae40"),l=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!l},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},ce3c:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i}));var a=r("a27e");function o(e){return Object(a["a"])({url:"config_general/getConfig",method:"post",data:e})}function s(e){return Object(a["a"])({url:"config_general/getConfigOption",method:"post",data:e})}function i(e){return Object(a["a"])({url:"config_general/newGeneral",method:"post",data:e})}},f5c5:function(e,t,r){}}]);