(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homePage~31ecd969"],{"0537":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("el-row",{staticClass:"header-box"},[s("el-col",{attrs:{xs:24,sm:12}},[t._v("您好，"+t._s(t.userInfo.user_nickname||"")+"！今日，"+t._s(t.nowTime)+"，"+t._s(t.nowWeek))]),t.dataLoading?t._e():s("el-col",{staticClass:"tar",attrs:{xs:24,sm:12}},[s("span",[t._v("当前版本："+t._s(t.pageData.install_version)+" （最版本："+t._s(t.pageData.last_version)+"）")]),t.hideUpdate?t._e():s("router-link",{attrs:{to:{name:"systemMessage"}}},[s("el-button",{staticClass:"header-box-updata",attrs:{type:"text"}},[t._v("更新")])],1),s("el-popover",{attrs:{placement:"bottom",width:"150",trigger:"hover"}},[s("div",{staticClass:"tac cursor-pointer",staticStyle:{background:"#ebf1ff",padding:"5px 0","border-radius":"2px"},on:{click:t.defaultModules}},[t._v("恢复默认")]),s("el-checkbox-group",{on:{change:t.toolChange},model:{value:t.checkTools,callback:function(e){t.checkTools=e},expression:"checkTools"}},t._l(t.modules,(function(e,a){return s("el-checkbox",{key:a,staticClass:"mt-5 mb-5",staticStyle:{"margin-right":"0"},attrs:{label:e.id}},[t._v(t._s(e.desc))])})),1),s("i",{staticClass:"el-icon-s-tools tool ml-20",attrs:{slot:"reference"},slot:"reference"})],1)],1)],1),t.pageData.diff_run_time>300?s("el-row",{staticClass:"header-tips mb-20"},[s("el-col",{staticClass:"tips pl-20",attrs:{span:24}},[t._v("自动任务状态 "),s("span",{staticStyle:{color:"red"}},[t._v("异常")]),t._v(" 上次任务结束时间："+t._s(t.$moment(1e3*t.pageData.cron_last_run_time_over).format("lll"))+" ")])],1):t._e(),s("el-row",{staticClass:"content",staticStyle:{margin:"0"},attrs:{gutter:20}},t._l(t.showModules,(function(e,n){return s("el-col",{key:"modules"+n,staticClass:"mb-20",attrs:{xs:24,sm:"trade"===e.name?16:8}},[s("el-card",{staticStyle:{"min-height":"206px"}},[s("el-row",[s("el-col",{staticClass:"content-module-title",attrs:{span:12}},["system_log"===e.name?s("router-link",{staticStyle:{color:"#333"},attrs:{to:{name:"systemLog"}}},[t._v(" "+t._s(e.desc)+" ")]):s("span",[t._v(t._s(e.desc))])],1),s("el-col",{staticClass:"tar",attrs:{span:12}},[s("span",{staticStyle:{"font-size":"16px"},on:{mouseleave:function(t){e.show_more=!1}}},[e.show_more?s("i",{staticClass:"el-icon-refresh cursor-pointer mr-5",on:{click:function(a){return t.getBaseInfo(e.name)}}}):t._e(),e.show_more?s("i",{staticClass:"el-icon-rank cursor-grabbing mr-5"}):t._e(),e.show_more?s("i",{staticClass:"el-icon-delete cursor-pointer mr-20",on:{click:function(a){return t.removeModule(e.id)}}}):t._e(),e.show_more?t._e():s("i",{staticClass:"el-icon-more cursor-pointer",on:{click:function(t){e.show_more=!0}}})])])],1),"income"===e.name?s("el-row",{staticClass:"content-module-income"},[s("el-col",{staticClass:"module-body-today mt-20",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.todaytotal?Number(t.pageData.modules.income.todaytotal).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v("今日收入")])]),s("el-col",{staticClass:"module-body-7days mt-20",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.thismonth?Number(t.pageData.modules.income.thismonth).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v("本月收入")])]),s("el-col",{staticClass:"module-body-month mt-20 mb-10",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.toyear?Number(t.pageData.modules.income.toyear).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v("今年收入")])]),s("el-col",{staticClass:"module-body-total mt-20 mb-10",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.amounts?Number(t.pageData.modules.income.amounts).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v("总收入")])])],1):t._e(),"order"===e.name?s("el-row",{staticClass:"content-module-order"},[s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("day","Paid")}}},[s("div",{staticClass:"label"},[t._v("今日已付订单")]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.today_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v("总订单: "+t._s(t.pageData.modules.order.today_total_order_count)+"笔")])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("month","Paid")}}},[s("div",{staticClass:"label"},[t._v("本月已付订单")]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.tomonth_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v("总订单: "+t._s(t.pageData.modules.order.tomonth_total_order_count)+"笔")])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("sevenDay","Paid")}}},[s("div",{staticClass:"label"},[t._v("近7日已付订单")]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.latest_7_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v("总订单: "+t._s(t.pageData.modules.order.latest_7_total_order_count)+"笔")])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("sevenDay","Unpaid")}}},[s("div",{staticClass:"label"},[t._v("近7日待付订单")]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.latest_7_waiting_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v("总订单: "+t._s(t.pageData.modules.order.latest_7_total_order_count)+"笔")])])])],1):t._e(),"todo"===e.name?s("el-row",{staticClass:"content-module-commission"},[s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"supportTicket"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#0089f0"}},[s("i",{staticClass:"custom el-icon-s-order"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.waiting_ticket_count))]),s("div",{staticClass:"total "},[t._v("待处理工单")])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"orderList",query:{status:"Pending"}}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#64b524"}},[s("i",{staticClass:"custom el-icon-s-order"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.waiting_check_order_count))]),s("div",{staticClass:"total "},[t._v("待核验订单")])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"CustomerAuthentication"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#f38900"}},[s("i",{staticClass:"custom el-icon-s-custom"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.verified_count))]),s("div",{staticClass:"total "},[t._v("实名认证")])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"WithdrawalAudit"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#40c9c6"}},[s("i",{staticClass:"custom el-icon-s-finance"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.withdraw_count))]),s("div",{staticClass:"total "},[t._v("提现申请")])])])])],1)],1):t._e(),"client"===e.name?s("el-row",{staticClass:"content-module-custom"},[s("div",{staticClass:"custom-box"},[s("div",{staticClass:"custom-box-head mt-20"},[s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num"},[t._v(t._s(t.pageData.modules.client.today_add_client_count))]),t._v("今日新增")]),s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num now"},[t._v(t._s(t.pageData.modules.client.now_online_count))]),t._v("当前在线数量")]),s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num"},[t._v(t._s(t.pageData.modules.client.total_client_count))]),t._v("系统总计数量")])]),s("div",{staticClass:"custom-box-content mt-20"},[t.pageData.modules.client.latest_online_clinet.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"100px"}},[t._v(" 暂无数据")]),t._l(t.pageData.modules.client.latest_online_clinet,(function(e,a){return s("div",{key:a,staticClass:"custom-cont-item mt-20"},[s("div",{staticClass:"item-left"},[s("div",{staticClass:"item-left-name"},[s("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:e.id}}}},[s("el-link",[t._v(t._s(e.username))])],1)],1),s("div",{staticClass:"item-left-ip mt-10"},[t._v(t._s(e.lastloginip))])]),s("div",{staticClass:"item-right item-left-ip"},[t._v(t._s(t.$timeDiff(1e3*e.lastlogin)))])])}))],2)])]):t._e(),"expiring"===e.name?s("el-row",{staticClass:"content-module-expire"},[s("div",{staticClass:"expire-list "},t._l(t.pageData.modules.expiring,(function(e,a){return s("div",{key:a,staticClass:"expire-item mt-20 tac"},[s("router-link",{attrs:{to:{name:"customerProduct",query:{from:"home-page",productType:e.type}}}},[s("div",{staticClass:"expire-item-num"},[t._v(t._s(e.expiring_count))]),s("div",{staticClass:"expire-item-desc "},[t._v(t._s(e.name))])])],1)})),0)]):t._e(),"system_log"===e.name?s("el-row",{staticClass:"content-module-log"},[s("div",{staticClass:"log-list"},[t.pageData.modules.system_log.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"140px"}},[t._v("暂无数据")]),t._l(t.pageData.modules.system_log,(function(e,a){return s("div",{key:a,staticClass:"log-item mt-20"},[s("div",{staticClass:"log-title",domProps:{innerHTML:t._s(e.new_desc)}}),s("div",{staticClass:"log-ip mt-10"},[s("span",[t._v(t._s(e.ipaddr))]),s("span",[t._v(t._s(e.create_time))])])])}))],2)]):t._e(),"online_admin"===e.name?s("el-row",{staticClass:"content-module-management"},[s("div",{staticClass:"management-person mt-20"},[t._v("在线人数: "+t._s(t.pageData.modules.online_admin.length))]),s("div",{staticClass:"management-list  mt-20"},t._l(t.pageData.modules.online_admin,(function(e,a){return s("div",{key:a,staticClass:"management-item"},[s("div",{staticClass:"label"},[t._v(" "+t._s(e.admin_name.charAt(0).toUpperCase())+" ")]),s("div",{staticClass:"ml-10 cont"},[s("div",{staticClass:"name"},[t._v(t._s(e.admin_name))]),s("div",{staticClass:"minite"},[t._v("最近: "+t._s(e.last_act_time))])])])})),0)]):t._e(),"waiting_ticket"===e.name?s("el-row",{staticClass:"content-module-workOrder"},[s("div",{staticClass:"mt-30"},[t.pageData.modules.waiting_ticket.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"140px"}},[t._v("暂无数据")]),t._l(t.pageData.modules.waiting_ticket,(function(e,a){return s("div",{key:a,staticClass:"workOrder-cont-item mt-20"},[s("div",{staticClass:"item-left"},[s("div",{staticClass:"label mr-10"},[s("span",{staticClass:"text"},[t._v("开启中")])]),s("router-link",{staticStyle:{color:"#333"},attrs:{to:{path:"support-ticket-detail",query:{id:e.id,tid:e.tid}}}},[s("div",{staticClass:"item-left-name"},[t._v("#"+t._s(e.tid)+"-"+t._s(e.title))]),s("div",{staticClass:"item-left-ip mt-10"},[t._v(t._s(e.username))])])],1),s("div",{staticClass:"item-right item-left-ip"},[t._v(t._s(e.create_time||"-"))])])}))],2)]):t._e(),"trade"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.tradeEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:"暂无数据",title:"暂无数据"}}):t._e(),t.tradeEmpty?t._e():s("div",{staticClass:"w-100 h-100",staticStyle:{height:"300px"},attrs:{id:"tradeChartBox"}})])],1):t._e(),"sales_ranking"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.salesRankingEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:"暂无数据",title:"暂无数据"}}):t._e(),t.salesRankingEmpty?t._e():s("div",{staticClass:"w-100",staticStyle:{height:"300px"},attrs:{id:"monthRankChartBox"}})])],1):t._e(),"staff_sales_ranking"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.staffSalesRankingEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:"暂无数据",title:"暂无数据"}}):t._e(),t.staffSalesRankingEmpty?t._e():s("div",{staticClass:"w-100",staticStyle:{height:"300px"},attrs:{id:"monthStaffRankChartBox"}})])],1):t._e()],1)],1)})),1)],1)},n=[],i=(a("4de4"),a("4160"),a("caad"),a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("dca8"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("a27e");function r(t){return Object(o["a"])({url:"report/base_info",params:t})}function l(){return Object(o["a"])({url:"report/get_base_module"})}function c(t){return Object(o["a"])({url:"report/update_base_module",method:"post",data:t})}var d=a("aa47"),m={inject:["reload"],data:function(){return{modules:[{id:1,name:"income",desc:"收入概览",show_more:!1},{id:2,name:"order",desc:"订单概览",show_more:!1},{id:3,desc:"待办事项",show_more:!1},{id:4,name:"todo",desc:"交易统计",show_more:!1},{id:5,name:"client",desc:"客户概况",show_more:!1},{id:6,name:"expiring",desc:"即将到期",show_more:!1},{id:7,name:"sales_ranking",desc:"本月销量排行",show_more:!1},{id:8,name:"system_log",desc:"系统日志",show_more:!1},{id:9,name:"online_admin",desc:"在线管理员",show_more:!1},{id:10,name:"staff_sales_ranking",desc:"本月员工销量排行",show_more:!1},{id:11,name:"waiting_ticket",desc:"待处理工单",show_more:!1}],checkTools:[1,2,3,4,5,6,7,8,9,10,11],showModules:[],tradeChart:null,monthRankChart:null,monthStaffRankChart:null,pageData:{modules:{client:{latest_online_clinet:[]},expiring:[],income:{},online_admin:[],order:{},sales_ranking:[],staff_sales_ranking:[],system_log:[],todo:{},trade:{pre_month:[],tomonth:[]},waiting_ticket:[]}},userInfo:Object.freeze(JSON.parse(localStorage.getItem("userInfo"))),pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},selectedDate:[(new Date).setTime((new Date).getTime()-6048e5),new Date],start_time:void 0,end_time:void 0,salesRankingEmpty:!1,staffSalesRankingEmpty:!1,tradeEmpty:!1,dataLoading:!0,hideUpdate:!1}},methods:{toolChange:function(t,e){var a=this;this.showModules=[],(this.modules||[]).forEach((function(e){t.includes(e.id)&&a.showModules.push(e)})),e||this.updateBaseModule(),this.chartChange()},removeModule:function(t){this.showModules=this.showModules.filter((function(e){return e.id!==t})),this.checkTools=this.checkTools.filter((function(e){return e!==t})),this.updateBaseModule(),this.chartChange()},chartChange:function(){var t=this;setTimeout((function(){null!==t.tradeChart&&t.tradeChart.dispose(),null!==t.monthRankChart&&t.monthRankChart.dispose(),null!==t.monthStaffRankChart&&t.monthStaffRankChart.dispose(),t.chartOption(),t.tradeChartDataSet(t.pageData.modules.trade),t.monthChartDataSet(t.pageData.modules.sales_ranking),t.monthStaffChartDataSet(t.pageData.modules.staff_sales_ranking)}),200)},moduleDrag:function(){var t=this,e=document.querySelector(".content");setTimeout((function(){d["a"].create(e,{animation:500,handle:".cursor-grabbing",onEnd:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.oldIndex!==a.newIndex&&(s=t.modules[a.oldIndex],t.modules.splice(a.oldIndex,1),t.modules.splice(a.newIndex,0,s),t.updateBaseModule());case 1:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()})}),500)},chartOption:function(){try{this.tradeChart=this.$echarts.init(document.getElementById("tradeChartBox")),this.tradeChart.setOption({backgroundColor:"#fff",color:["#3275FB","#3fbf70","#047dfc"],grid:{top:"100",right:"40",left:"60",bottom:"40"},tooltip:{trigger:"axis"},legend:{top:20,left:"10%",itemHeight:7,textStyle:{color:"#7c7c7c"},data:["金额(元)","订单(笔)","上月订单(笔)"]},xAxis:[{type:"category",color:"#59588D",name:"8月",nameLocation:"start",nameTextStyle:{color:"#000",padding:[40,0,0,120]},data:[],axisLabel:{margin:10,color:"#999",textStyle:{fontSize:12}},axisLine:{lineStyle:{color:"#f5f4f8"}},axisTick:{show:!1}}],yAxis:[{name:"元",nameTextStyle:{padding:[0,20,0,0]},axisLabel:{color:"#999",textStyle:{fontSize:12}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#f5f4f8"}}},{name:"笔",nameTextStyle:{padding:[0,0,0,30]},axisLabel:{color:"#999",textStyle:{fontSize:12}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#f5f4f8"}}}],series:[{type:"bar",name:"金额(元)",data:[],barWidth:"16px",itemStyle:{normal:{color:"#047dfc",barBorderRadius:[3,3,0,0]}},label:{normal:{show:!1,fontSize:16,fontWeight:"bold",color:"#333",position:"top"}}},{data:[],type:"line",yAxisIndex:1,smooth:!0,name:"订单(笔)",symbol:"none",lineStyle:{color:"#3275FB",shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:15,shadowOffsetY:20}},{data:[],type:"line",yAxisIndex:1,smooth:!0,name:"上月订单(笔)",symbol:"none",lineStyle:{type:"dotted",color:"rgba(74, 195, 120, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:15,shadowOffsetY:20}}]})}catch(t){}try{this.monthRankChart=this.$echarts.init(document.getElementById("monthRankChartBox")),this.monthRankChart.setOption({color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80"],legend:{orient:"vertical",right:"2%",top:"middle",icon:"circle",itemWidth:9,itemHeight:9,textStyle:{color:"#999999"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"本月销量排行",type:"pie",radius:["15%","70%"],center:["30%","50%"],roseType:"radius",label:{show:!1,formatter:"{b}: {c}元"},labelLine:{show:!0,length:5,length2:15},data:[{value:25,name:"rose1"},{value:20,name:"rose2"},{value:15,name:"rose3"},{value:10,name:"rose4"},{value:8,name:"rose5"}]}]},!0)}catch(t){}try{this.monthStaffRankChart=this.$echarts.init(document.getElementById("monthStaffRankChartBox")),this.monthStaffRankChart.setOption({color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80"],legend:{orient:"vertical",right:"2%",top:"middle",icon:"circle",itemWidth:9,itemHeight:9,textStyle:{color:"#999999"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"本月员工销量排行",type:"pie",radius:["15%","70%"],center:["40%","50%"],roseType:"radius",label:{show:!1,formatter:"{b}: {c}元"},labelLine:{show:!0,length:5,length2:15},data:[{value:25,name:"rose1"},{value:20,name:"rose2"},{value:15,name:"rose3"},{value:10,name:"rose4"},{value:8,name:"rose5"}]}]},!0)}catch(t){}},toOrder:function(t,e){var a="";switch(t){case"day":a=new Date((new Date).toLocaleDateString()).getTime();break;case"sevenDay":a=new Date((new Date).toLocaleDateString()).getTime()-5184e5;break;case"month":var s=new Date;s.setDate(1),s.setHours(0),s.setSeconds(0),s.setMinutes(0),a=s.getTime();break;default:break}a=Math.floor(a/1e3),this.$router.push({name:"orderList",query:{st:a,pay_status:e}})},getBaseInfo:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dataLoading=!0,a.next=3,r({start_time:e.start_time,end_time:e.end_time});case 3:if(s=a.sent,n=s.data,200===n.status){a.next=9;break}return e.$$message.error(n.msg),e.dataLoading=!1,a.abrupt("return",!1);case 9:"init"===t?(e.pageData=n.data,e.tradeChartDataSet(n.data.modules.trade),e.monthChartDataSet(n.data.modules.sales_ranking),e.monthStaffChartDataSet(n.data.modules.staff_sales_ranking),e.salesRankingEmpty=Boolean(0===n.data.modules.sales_ranking.length),e.staffSalesRankingEmpty=Boolean(0===n.data.modules.staff_sales_ranking.length),e.tradeEmpty=Boolean(0===n.data.modules.trade.length)):"income"===t?(e.pageData.modules.income=n.data.modules.income,e.$message.success(n.msg)):"order"===t?(e.pageData.modules.order=n.data.modules.order,e.$message.success(n.msg)):"todo"===t?(e.pageData.modules.todo=n.data.modules.todo,e.$message.success(n.msg)):"trade"===t?(e.pageData.modules.trade=n.data.modules.trade,e.tradeChartDataSet(n.data.modules.trade),e.tradeEmpty=Boolean(0===n.data.modules.trade.length),e.$message.success(n.msg)):"client"===t?(e.pageData.modules.client=n.data.modules.client,e.$message.success(n.msg)):"expiring"===t?(e.pageData.modules.expiring=n.data.modules.expiring,e.$message.success(n.msg)):"sales_ranking"===t?(e.pageData.modules.sales_ranking=n.data.modules.sales_ranking,e.monthChartDataSet(n.data.modules.sales_ranking),e.salesRankingEmpty=Boolean(0===n.data.modules.sales_ranking.length),e.$message.success(n.msg)):"system_log"===t?(e.pageData.modules.system_log=n.data.modules.system_log,e.$message.success(n.msg)):"online_admin"===t?(e.pageData.modules.online_admin=n.data.modules.online_admin,e.$message.success(n.msg)):"staff_sales_ranking"===t?(e.pageData.modules.staff_sales_ranking=n.data.modules.staff_sales_ranking,e.monthStaffChartDataSet(n.data.modules.staff_sales_ranking),e.staffSalesRankingEmpty=Boolean(0===n.data.modules.staff_sales_ranking.length),e.$message.success(n.msg)):"waiting_ticket"===t&&(e.pageData.modules.waiting_ticket=n.data.modules.waiting_ticket,e.$message.success(n.msg)),e.dataLoading=!1,i=n.data.install_version.split("."),o=n.data.last_version.split("."),l="",c="",i.forEach((function(t){l+=t})),o.forEach((function(t){c+=t})),l===c&&(e.hideUpdate=!0);case 18:case"end":return a.stop()}}),a)})))()},getBaseModule:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=function(t){return function(e,a){var s=e[t],n=a[t];return s-n}},e.next=3,l();case 3:a=e.sent,s=a.data,t.checkTools=s.data.filter((function(t){return 1===t.enable})).map((function(t){return t.id})),t.modules=s.data.sort(n("sort")).map((function(t){return t.show_more=!1,t}));case 7:case"end":return e.stop()}}),e)})))()},updateBaseModule:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(t.modules||[]).map((function(e,a){return e.sort=a,t.checkTools.includes(e.id)?e.enable=1:e.enable=0,e})),e.next=3,c({modules:t.modules});case 3:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getBaseModule());case 6:case"end":return e.stop()}}),e)})))()},tradeChartDataSet:function(t){var e=[],a=[],s=[],n=[];(t.tomonth||[]).forEach((function(t){e.push(String(t.date).split("-")[2]),a.push(Number(t.amount_total)),s.push(Number(t.count))})),(t.pre_month||[]).forEach((function(t){n.push(Number(t.count))}));try{this.tradeChart.setOption({xAxis:[{name:String(t.tomonth[0].date).split("-")[1]+"月",data:e}],series:[{data:a},{data:s},{data:n}]})}catch(i){}},monthChartDataSet:function(t){var e=[];(t||[]).forEach((function(t){e.push({value:Number(t.total_amount),name:t.name})}));try{this.monthRankChart.setOption({series:[{data:e}]})}catch(a){}},monthStaffChartDataSet:function(t){var e=[];(t||[]).forEach((function(t){e.push({value:Number(t.total_amount),name:t.sale_username})}));try{this.monthStaffRankChart.setOption({series:[{data:e}]})}catch(a){}},resize:function(){this.tradeChart.resize(),this.monthRankChart.resize(),this.monthStaffRankChart.resize()},defaultModules:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(t.modules||[]).forEach((function(t){t.enable=1,t.sort=0})),e.next=3,c({modules:t.modules});case 3:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.reload());case 6:case"end":return e.stop()}}),e)})))()}},computed:{nowTime:function(){return this.$moment(new Date).format("ll")},nowWeek:function(){return this.$moment(new Date).format("dddd")}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showModules=t.modules,e.next=3,t.getBaseModule();case 3:return t.toolChange(t.checkTools,"init"),e.next=6,t.getBaseInfo("init");case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.moduleDrag(),window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.resize)}))}},u=m,h=(a("379d"),a("2877")),g=Object(h["a"])(u,s,n,!1,null,"292d0e73",null);e["default"]=g.exports},"0afe":function(t,e,a){t.exports=a.p+"img/empty.777b990e.svg"},1276:function(t,e,a){"use strict";var s=a("d784"),n=a("44e7"),i=a("825a"),o=a("1d80"),r=a("4840"),l=a("8aa5"),c=a("50c4"),d=a("14c3"),m=a("9263"),u=a("d039"),h=[].push,g=Math.min,f=4294967295,p=!u((function(){return!RegExp(f,"y")}));s("split",2,(function(t,e,a){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var s=String(o(this)),i=void 0===a?f:a>>>0;if(0===i)return[];if(void 0===t)return[s];if(!n(t))return e.call(s,t,i);var r,l,c,d=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,p=new RegExp(t.source,u+"g");while(r=m.call(p,s)){if(l=p.lastIndex,l>g&&(d.push(s.slice(g,r.index)),r.length>1&&r.index<s.length&&h.apply(d,r.slice(1)),c=r[0].length,g=l,d.length>=i))break;p.lastIndex===r.index&&p.lastIndex++}return g===s.length?!c&&p.test("")||d.push(""):d.push(s.slice(g)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n,a):s.call(String(n),e,a)},function(t,n){var o=a(s,t,this,n,s!==e);if(o.done)return o.value;var m=i(t),u=String(this),h=r(m,RegExp),_=m.unicode,v=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(p?"y":"g"),C=new h(p?m:"^(?:"+m.source+")",v),b=void 0===n?f:n>>>0;if(0===b)return[];if(0===u.length)return null===d(C,u)?[u]:[];var x=0,y=0,w=[];while(y<u.length){C.lastIndex=p?y:0;var k,D=d(C,p?u:u.slice(y));if(null===D||(k=g(c(C.lastIndex+(p?0:y)),u.length))===x)y=l(u,y,_);else{if(w.push(u.slice(x,y)),w.length===b)return w;for(var S=1;S<=D.length-1;S++)if(w.push(D[S]),w.length===b)return w;y=x=k}}return w.push(u.slice(x)),w}]}),!p)},"1dde":function(t,e,a){var s=a("d039"),n=a("b622"),i=a("2d00"),o=n("species");t.exports=function(t){return i>=51||!s((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,a){"use strict";var s=a("23e7"),n=a("5a34"),i=a("1d80"),o=a("ab13");s({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"379d":function(t,e,a){"use strict";var s=a("e4c5"),n=a.n(s);n.a},"44e7":function(t,e,a){var s=a("861d"),n=a("c6b6"),i=a("b622"),o=i("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"4de4":function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").filter,i=a("1dde"),o=a("ae40"),r=i("filter"),l=o("filter");s({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var s=a("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,a){"use strict";var s=a("c04e"),n=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var o=s(e);o in t?n.f(t,o,i(0,a)):t[o]=a}},a434:function(t,e,a){"use strict";var s=a("23e7"),n=a("23cb"),i=a("a691"),o=a("50c4"),r=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),m=a("ae40"),u=d("splice"),h=m("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,p=9007199254740991,_="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u||!h},{splice:function(t,e){var a,s,d,m,u,h,v=r(this),C=o(v.length),b=n(t,C),x=arguments.length;if(0===x?a=s=0:1===x?(a=0,s=C-b):(a=x-2,s=f(g(i(e),0),C-b)),C+a-s>p)throw TypeError(_);for(d=l(v,s),m=0;m<s;m++)u=b+m,u in v&&c(d,m,v[u]);if(d.length=s,a<s){for(m=b;m<C-s;m++)u=m+s,h=m+a,u in v?v[h]=v[u]:delete v[h];for(m=C;m>C-s+a;m--)delete v[m-1]}else if(a>s)for(m=C-s;m>b;m--)u=m+s-1,h=m+a-1,u in v?v[h]=v[u]:delete v[h];for(m=0;m<a;m++)v[m+b]=arguments[m+2];return v.length=C-s+a,d}})},ab13:function(t,e,a){var s=a("b622"),n=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(s){}}return!1}},bb2f:function(t,e,a){var s=a("d039");t.exports=!s((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(t,e,a){"use strict";var s=a("23e7"),n=a("4d64").includes,i=a("44d2"),o=a("ae40"),r=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!r},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,i=a("1dde"),o=a("ae40"),r=i("map"),l=o("map");s({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},dca8:function(t,e,a){var s=a("23e7"),n=a("bb2f"),i=a("d039"),o=a("861d"),r=a("f183").onFreeze,l=Object.freeze,c=i((function(){l(1)}));s({target:"Object",stat:!0,forced:c,sham:!n},{freeze:function(t){return l&&o(t)?l(r(t)):t}})},e4c5:function(t,e,a){},f183:function(t,e,a){var s=a("d012"),n=a("861d"),i=a("5135"),o=a("9bf2").f,r=a("90e3"),l=a("bb2f"),c=r("meta"),d=0,m=Object.isExtensible||function(){return!0},u=function(t){o(t,c,{value:{objectID:"O"+ ++d,weakData:{}}})},h=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,c)){if(!m(t))return"F";if(!e)return"E";u(t)}return t[c].objectID},g=function(t,e){if(!i(t,c)){if(!m(t))return!0;if(!e)return!1;u(t)}return t[c].weakData},f=function(t){return l&&p.REQUIRED&&m(t)&&!i(t,c)&&u(t),t},p=t.exports={REQUIRED:!1,fastKey:h,getWeakData:g,onFreeze:f};s[c]=!0}}]);